System.register("chunks:///_virtual/AdCoinMul.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./PlayerData.ts","./BaseComponent.ts","./ADHelper.ts","./CheckValue.ts","./ConfigHelper.ts","./Log.ts","./Utils.ts"],(function(n){"use strict";var t,i,e,o,a,r,l,u,s,d,c,p,h,f,m,_,g,b,L,M,y;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.createClass,r=n.asyncToGenerator,l=n.regeneratorRuntime},function(n){u=n.cclegacy,s=n._decorator,d=n.Animation,c=n.Node,p=n.Label},function(n){h=n.LevelData},function(n){f=n.PlayerData},function(n){m=n.BaseComponent},function(n){_=n.ADHelper},function(n){g=n.IS_NUM},function(n){b=n.ConfigHelper,L=n.ConfigKey},function(n){M=n.LOG},function(n){y=n.Utils}],execute:function(){var A,k,v,C,R,D,w,F,N,S,z,B,x;u._RF.push({},"cf8e9E970FFdKJbCE9Bjf30","AdCoinMul",void 0);var H=s.ccclass,T=s.property,I=[1.5,2,2.5,3];n("AdCoinMul",(A=H("AdCoinMul"),k=T(d),v=T(c),C=T(c),R=T(p),D=T(p),A((N=t((F=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,e(t,"ani",N,o(t)),e(t,"startRndNode",S,o(t)),e(t,"rndingNode",z,o(t)),e(t,"mulLb",B,o(t)),e(t,"addLb",x,o(t)),t._rnding=!1,t._randomMul=0,t._aniStopToRandomMul=!1,t._adLooked=!1,t._mul=0,t.onLookAdSuc=void 0,t.onLookAdFail=void 0,t}i(t,n);var u=t.prototype;return u.onLoad=function(){this._calcRandomMul(),this._rnding=!1,this._updateBtn()},u.start=function(){var n=this;this.scheduleOnce((function(){n._rnding=!0,n._updateBtn(),n.ani.play()}),.5)},u.onFingerInMul=function(n){g(n)&&(this._mul=n,this._aniStopToRandomMul&&n===this._randomMul&&this.ani.stop(),this._rnding&&(this.mulLb.string="X"+n,this.addLb.string="+"+h.inst.dumpCoin*n))},u._calcRandomMul=function(){var n,t,i=null!=(n=b.getConfig(L.ResultAdMulWeight))?n:[4,3,2,1],e=y.getRandomIndex(i);this._randomMul=null!=(t=I[e])?t:0,0===this._randomMul&&M.E("[AdCoinMul] calc random mul fail, check config")},u._updateBtn=function(){this.startRndNode.active=!this._rnding,this.rndingNode.active=this._rnding},u.onClickAd=function(){var n=r(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this._adLooked){n.next=2;break}return n.abrupt("return");case 2:return this._adLooked=!0,n.next=5,_.openAD();case 5:n.sent?(this._aniStopToRandomMul=!0,this._mul===this._randomMul&&this.ani.stop(),f.inst.coin+=Math.max(h.inst.dumpCoin*(1-this._randomMul),0),this.onLookAdSuc&&this.onLookAdSuc()):(this._adLooked=!1,this.onLookAdFail&&this.onLookAdFail());case 7:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a(t,[{key:"mul",get:function(){return this._mul}}]),t}(m)).prototype,"ani",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(F.prototype,"startRndNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(F.prototype,"rndingNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(F.prototype,"mulLb",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(F.prototype,"addLb",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=F))||w));u._RF.pop()}}}));

System.register("chunks:///_virtual/ADHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventId.ts","./EventCenter.ts"],(function(t){"use strict";var e,n,r,u,c;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){u=t.EventId},function(t){c=t.EventCenter}],execute:function(){r._RF.push({},"2298525rlhCh7t0VjZWHCi+","ADHelper",void 0);t("ADHelper",function(){function t(){}return t.openAD=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.inst.emit(u.AD.watchSuc),t.abrupt("return",!0);case 5:return c.inst.emit(u.AD.watchFail),t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/AgeHelper.ts",["cc","./Log.ts","./RefDataMgr.ts"],(function(e){"use strict";var t,n,r,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.LOG},function(e){r=e.RefDataMgr,c=e.Ref}],execute:function(){t._RF.push({},"17808rDCZlCn4oFTPUjEq15","AgeHelper",void 0);e("AgeHelper",function(){function e(){}return e.checkAge=function(e,t,n,r){return 0===t?e<=r:!(e>t)&&!(t<n||e>r)},e.getCfg=function(e){var t=this,u=r.inst.getData(c.age);return null==u||u.filter((function(n){return t.checkAge(n.min,n.max,e,e)})),null!=u&&u.length||n.E("[AgeHelper] age:"+e+" get cfg fail"),null==u?void 0:u[0]},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/App.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadMgr.ts","./Singleton.ts"],(function(n){"use strict";var t,e,r,u,o,c;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy,u=n.game},function(n){o=n.LoadMgr},function(n){c=n.SingletonMgr}],execute:function(){r._RF.push({},"8a0f3y38RRMSZCHJ2rb4n+k","App",void 0);n("App",function(){function n(){}return n.reStart=function(){var n=t(e().mark((function n(){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.inst.unloadAll();case 2:return c.disposeAll(),n.next=5,u.restart();case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/AssetDefine.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){var n;e("AssetDefine",void 0),i._RF.push({},"a17bdPJ7nBC0q3Wp9U4jTqP","AssetDefine",void 0),function(e){var i,n;!function(e){e[e.Coin=0]="Coin",e[e.initOwnNum=1]="initOwnNum",e[e.initAge=2]="initAge",e[e.initAgeUpLv=3]="initAgeUpLv",e[e.initOwnNumUpLv=4]="initOwnNumUpLv",e[e.atkUpLv=5]="atkUpLv",e[e.atkrateUpLv=6]="atkrateUpLv"}(n||(n={})),e.TYPE=n;e.TYPE2ICON=((i={})[n.Coin]="art/UI/TurnTable/icon_prizewheel_coin/spriteFrame",i[n.initOwnNum]="art/UI/TurnTable/icon_prizewheel_menpower/spriteFrame",i[n.initAge]="art/UI/TurnTable/icon_prizewheel_year/spriteFrame",i[n.initAgeUpLv]="art/UI/TurnTable/icon_prizewheel_year/spriteFrame",i[n.initOwnNumUpLv]="art/UI/TurnTable/icon_prizewheel_menpower/spriteFrame",i[n.atkUpLv]="art/UI/TurnTable/icon_prizewheel_damage/spriteFrame",i[n.atkrateUpLv]="art/UI/TurnTable/icon_prizewheel_firerate/spriteFrame",i)}(n||(n=e("AssetDefine",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/AssetHelper.ts",["cc","./PlayerData.ts","./AssetDefine.ts"],(function(e){"use strict";var t,n,i;return{setters:[function(e){t=e.cclegacy},function(e){n=e.PlayerData},function(e){i=e.AssetDefine}],execute:function(){t._RF.push({},"594033Jew1ORpzrpOl769ki","AssetHelper",void 0);e("AssetHelper",function(){function e(){}return e.addReward=function(e,t){switch(e){case i.TYPE.Coin:n.inst.coin+=t;break;case i.TYPE.initAge:n.inst.initAge+=t;break;case i.TYPE.initOwnNum:n.inst.initOwnNum+=t;break;case i.TYPE.initAgeUpLv:n.inst.initAgeUpLv+=t;break;case i.TYPE.initOwnNumUpLv:n.inst.initOwnNumUpLv+=t;break;case i.TYPE.atkrateUpLv:n.inst.atkrateUpLv+=t;break;case i.TYPE.atkUpLv:n.inst.atkUpLv+=t}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioDeine.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var n,a,p;e("AudioDefine",void 0),o._RF.push({},"4df7fAIpzJN+ovqWVSPXgEW","AudioDeine",void 0),a=n||(n=e("AudioDefine",{})),function(e){e[e.Button=1]="Button",e[e.Door=2]="Door",e[e.EnemyDied=3]="EnemyDied",e[e.Weapon4=4]="Weapon4",e[e.Weapon5=5]="Weapon5",e[e.Weapon6=6]="Weapon6",e[e.Weapon7=7]="Weapon7",e[e.Weapon8=8]="Weapon8",e[e.Weapon9=9]="Weapon9",e[e.Weapon10=10]="Weapon10",e[e.Weapon11=11]="Weapon11",e[e.Weapon12=12]="Weapon12",e[e.Weapon13=13]="Weapon13",e[e.Weapon14=14]="Weapon14",e[e.Weapon15=15]="Weapon15",e[e.Weapon16=16]="Weapon16",e[e.Weapon17=17]="Weapon17",e[e.Weapon18=18]="Weapon18",e[e.BucketBoom=19]="BucketBoom",e[e.Pedal=20]="Pedal",e[e.BossMove=21]="BossMove",e[e.BossDied=22]="BossDied",e[e.PassSuc=23]="PassSuc",e[e.PassFail=24]="PassFail",e[e.TurnTable=25]="TurnTable",e[e.Reward=26]="Reward"}(p||(p={})),a.TxType=p,o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./SettingData.ts","./EventId.ts","./LevelDefine.ts","./PathDefine.ts","./BaseComponent.ts","./LoadMgr.ts","./CheckValue.ts","./Utils.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,l,u,c,p,h,g,f,d,S,_,y,v,m,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.AudioSource,l=t.Node,u=t.NodePool,c=t.math,p=t.AudioClip,h=t.isValid},function(t){g=t.LevelData},function(t){f=t.SettingData},function(t){d=t.EventId},function(t){S=t.LevelState},function(t){_=t.PathDefine},function(t){y=t.BaseComponent},function(t){v=t.LoadMgr},function(t){m=t.IS_NUM},function(t){x=t.Utils}],execute:function(){var D,P,b,C,T,M,B;r._RF.push({},"021cbh2iMtNfZDRERDOFM3Q","AudioSys",void 0);var L=s.ccclass,A=s.property;t("AudioSys",(D=L("AudioSys"),P=A(a),b=A(l),D((M=e((T=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"bgmSource",M,o(e)),i(e,"txParent",B,o(e)),e._txPool=new u,e._rndClip=null,e._txingMap=new Map,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.on(d.LevelSys.onStateChange,this._freshState),this.on(d.SettingData.onSoundChange,this._freshState),this.on(d.Audio.playBgm,this._freshState),this.on(d.Audio.playTx,this._recvPlayTx)},r.onDestroy=function(){t.prototype.onDestroy.call(this),this._txPool.clear(),this._txingMap.clear()},r._freshState=function(){f.inst.sound?(g.inst.levelState===S.RunBegin&&this._rndBgm(),this._playRndBgm()):this.bgmSource.stop()},r._rndBgm=function(){var t=c.randomRangeInt(0,_.BgmClips.length);this._rndClip=v.inst.get(_.BgmClips[t],p)},r._playRndBgm=function(){this._rndClip!==this.bgmSource.clip&&(this.bgmSource.stop(),this.bgmSource.clip=this._rndClip,this.bgmSource.loop=!0,this.bgmSource.play())},r._recvPlayTx=function(t){if(f.inst.sound&&void 0!==t&&m(t)){var e=this._txingMap.get(t);if(e&&h(e))this._playTxSource(t,e);else{var n=x.strFormat(_.TxClipFormat,t),i=v.inst.get(n,p),o=this._getTxSource();o.stop(),o.clip=i,this._playTxSource(t,o)}}},r._playTxSource=function(t,e){var n=this;this._txingMap.set(t,e),e.node.targetOff(a.EventType.ENDED),e.stop(),e.node.once(a.EventType.ENDED,(function(){n._txingMap.delete(t),n._putTxSource(e)})),e.play()},r._getTxSource=function(){var t=this._txPool.get();if(t&&h(t)){t.setParent(this.txParent,!1);var e=t.getComponent(a);if(e&&h(e))return e.loop=!1,e;t.destroy()}var n=new l("TxSource");n.setParent(this.txParent,!1);var i=n.addComponent(a);return i.loop=!1,i},r._putTxSource=function(t){h(t)&&this._txPool.put(t.node)},e}(y)).prototype,"bgmSource",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(T.prototype,"txParent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=T))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/BaseComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventCenter.ts","./LoadUser.ts"],(function(t){"use strict";var n,o,e,s,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t.Component},function(t){s=t.EventCenter},function(t){i=t.UNLOAD_USER}],execute:function(){o._RF.push({},"091bcg4gNBMvL3uJ/WZP6B/","BaseComponent",void 0);t("BaseComponent",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).loadInterrupt=!1,n.resInfos=[],n}n(o,t);var e=o.prototype;return e.on=function(t,n){s.inst.on(t,n,this)},e.once=function(t,n){s.inst.once(t,n,this)},e.off=function(t,n){s.inst.off(t,n,this)},e.offAll=function(){s.inst.targetOff(this)},e.onDestroy=function(){this.offAll(),i(this),this.loadInterrupt=!0},o}(e));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./UIMgr.ts"],(function(t){"use strict";var n,e,r,s,o,a,i;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator},function(t){a=t.BaseComponent},function(t){i=t.UIMgr}],execute:function(){var c,u;s._RF.push({},"2989cWksKJOyqEPyUSaAuhJ","BaseUI",void 0);var p=o.ccclass;t("BaseUI",p("BaseUI")(((u=function(t){function s(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).param=void 0,n}return n(s,t),s.show=function(){var t=e(r().mark((function t(n){var e,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.prefabPath,s=this.isUnique,t.t0=e,!t.t0){t.next=6;break}return t.next=6,i.inst.add(e,n,s);case 6:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.pop=function(){var t=this.prefabPath;t&&i.inst.pop(t)},s.prototype.dispose=function(){var t=this.constructor.prefabPath;t&&i.inst.remove(t,this.node)},s}(a)).prefabPath=void 0,u.isUnique=!0,c=u))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/BossCellComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./PlayerData.ts","./AudioDeine.ts","./EventId.ts","./LevelDefine.ts","./EventCenter.ts","./FSM.ts","./ConfigHelper.ts","./EnemyHelper.ts","./CellBaseComp.ts","./CoordinateTrackerFixed.ts","./PlayerComp.ts"],(function(t){"use strict";var e,i,n,o,s,r,a,l,u,c,p,h,d,f,m,y,C,_,v,g,E,P,w,S,D,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,u=t.Collider,c=t.v3,p=t.Vec3,h=t.isValid},function(t){d=t.LevelData},function(t){f=t.PlayerData},function(t){m=t.AudioDefine},function(t){y=t.EventId},function(t){C=t.EnemyLevel,_=t.LevelState},function(t){v=t.EventCenter},function(t){g=t.FSM},function(t){E=t.ConfigHelper,P=t.ConfigKey},function(t){w=t.EnemyHeler},function(t){S=t.CellBaseComp},function(t){D=t.CoordinateTrackerFixed},function(t){b=t.PlayerComp}],execute:function(){var B,x,F,H,A,L,R,T,k;r._RF.push({},"28b35AivCxIQ5MFuJMljmwB","BossCellComp",void 0);var z=a.ccclass,M=a.property,V=(t("BossCellComp",(B=z("BossCellComp"),x=M(l),F=M(u),H=M(D),B((R=e((L=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"hitPos",R,o(e)),n(e,"collider",T,o(e)),n(e,"hpTracker",k,o(e)),e._tmpV3=c(),e._maxHp=1,e._hp=0,e._wPos=c(),e._dumpCoin=0,e._playerReady=!1,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this._fsm=new g(this)},r.onEnable=function(){var t,e;p.multiplyScalar(this.node.scale,p.ONE,this.param),this.node.setScale(this.node.scale),this.collider.on("onCollisionEnter",this._onColliderEnter,this),this.on(y.LevelSys.onStateChange,this._updateState),this.on(y.PlayerSys.bossReady,this._recvPlayerReady),this._dumpCoin=w.getDumpCoin(C.Boss),this._maxHp=null!=(t=null==(e=E.getConfig(P.EnemyHp))?void 0:e[C.Boss])?t:1,this.hp=this._maxHp,this._updateState(),this._fsm.switch(V,void 0)},r.update=function(t){this._fsm.update(t)},r.onDisable=function(){this._fsm.reset(),this.collider.off("onCollisionEnter",this._onColliderEnter,this),this.offAll()},r.onDestroy=function(){t.prototype.onDestroy.call(this),this._fsm.destroy()},r.hurt=function(t){this.hp-=t},r._recvPlayerReady=function(){this._playerReady=!0,this._updateState()},r._updateState=function(){d.inst.levelState===_.Runing?this.hp<=0?this._fsm.switch(j,void 0):this._playerReady&&this._fsm.switch(I,void 0):this._fsm.switch(V,void 0)},r._onColliderEnter=function(t){if("onCollisionEnter"===t.type){var e=t.otherCollider.node.getComponent(b);e&&h(e)&&e.hurtFromEnemy(C.Boss)}},r.moveForward=function(t){var e,i=null!=(e=E.getConfig(P.BossSp))?e:1;p.multiplyScalar(this._tmpV3,this.forward,i*t),this.node.getWorldPosition(this._wPos).add(this._tmpV3),this.node.setWorldPosition(this._wPos)},s(e,[{key:"dumpCoin",get:function(){return this._dumpCoin}},{key:"hp",get:function(){return this._hp},set:function(t){this._hp!==t&&(this._hp=t,this.hpTracker.progessBar.progess=t/this._maxHp,t<=0&&this._fsm.switch(j,void 0))}}]),e}(S)).prototype,"hitPos",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(L.prototype,"collider",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(L.prototype,"hpTracker",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=L))||A)),function(){function t(){this.onParamChange=void 0}var e=t.prototype;return e.onEnter=function(){this.target.playAni("idle")},e.update=function(t){},e.onExit=function(){},t}()),I=function(){function t(){this.onParamChange=void 0}var e=t.prototype;return e.onEnter=function(){this.target.playAni("run",.5)},e.update=function(t){this.target.moveForward(t)},e.onExit=function(){},t}(),j=function(){function t(){this.onParamChange=void 0}var e=t.prototype;return e.onEnter=function(){var t=this;v.inst.emit(y.Audio.playTx,m.TxType.BossDied),d.inst.dumpCoin+=this.target.dumpCoin,f.inst.coin+=this.target.dumpCoin,this.target.playAni("died",void 0,(function(){return t.target.destroyCell()}))},e.update=function(t){},e.onExit=function(){},t}();r._RF.pop()}}}));

System.register("chunks:///_virtual/BossGroundSauatCol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./EventId.ts","./LevelDefine.ts","./BaseComponent.ts","./EventCenter.ts","./BossCellComp.ts","./EnemyCellComp.ts","./PlayerRolesComp.ts"],(function(e){"use strict";var t,n,o,r,l,s,i,a,u,c,C,p,f;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Collider,l=e.isValid},function(e){s=e.LevelData},function(e){i=e.EventId},function(e){a=e.LevelState},function(e){u=e.BaseComponent},function(e){c=e.EventCenter},function(e){C=e.BossCellComp},function(e){p=e.EnemyCellComp},function(e){f=e.PlayerRolesComp}],execute:function(){var v;n._RF.push({},"ac446TkMYdLW5A95DnrS32e","BossGroundSauatCol",void 0);var d=o.ccclass;o.property,e("BossGroundSauatCol",d("BossGroundSauatCol")(v=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._col=null,t}t(n,e);var o=n.prototype;return o.onLoad=function(){var e;this._col=this.node.getComponent(r),null==(e=this._col)||e.on("onTriggerEnter",this._onTriggerEnter,this)},o._onTriggerEnter=function(e){if("onTriggerEnter"===e.type){var t=e.otherCollider.node.getComponent(f);if(t&&l(t))c.inst.emit(i.PlayerSys.enterBossState);else{var n=e.otherCollider.node.getComponent(C);if(n&&l(n))s.inst.levelState=a.RunFail;else{var o=e.otherCollider.node.getComponent(p);o&&l(o)&&(s.inst.levelState=a.RunFail)}}}},n}(u))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/BtnCoin2Ad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerData.ts","./BaseComponent.ts","./ADHelper.ts"],(function(t){"use strict";var i,n,e,o,r,c,a,s,u,l,h,b,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,u=t.Node,l=t.Label},function(t){h=t.PlayerData},function(t){b=t.BaseComponent},function(t){p=t.ADHelper}],execute:function(){var _,d,f,C,k,g,v,y,m;a._RF.push({},"ec9087UG1tN9K5G2EV9YyO2","BtnCoin2Ad",void 0);var L=s.ccclass,w=s.property;t("BtnCoin2Ad",(_=L("BtnCoin2Ad"),d=w(u),f=w(u),C=w(l),_((v=i((g=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return i=t.call.apply(t,[this].concat(r))||this,e(i,"coinNode",v,o(i)),e(i,"adNode",y,o(i)),e(i,"numLb",m,o(i)),i._coinCost=0,i._bEnough=!1,i._clickSucCb=void 0,i._clickFailCb=void 0,i._adLooking=!1,i}n(i,t);var a=i.prototype;return a.setCoinCost=function(t,i,n){this._coinCost=t,this._clickSucCb=i,this._clickFailCb=n,this._updateView()},a._updateView=function(){var t,i;this._bEnough=h.inst.coin>=this._coinCost,this.coinNode.active=this._bEnough,this.adNode.active=!this._bEnough,this.numLb.string=this._bEnough?null!=(t=null==(i=this._coinCost)?void 0:i.toString())?t:"":"FREE"},a.onClickSelf=function(){var t=r(c().mark((function t(){var i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this._coinCost){t.next=2;break}return t.abrupt("return");case 2:if(!this._bEnough){t.next=8;break}h.inst.coin-=this._coinCost,this._updateView(),this._clickSucCb&&this._clickSucCb(),t.next=16;break;case 8:if(!this._adLooking){t.next=10;break}return t.abrupt("return");case 10:return this._adLooking=!0,t.next=13,p.openAD();case 13:i=t.sent,this._adLooking=!1,i?this._clickSucCb&&this._clickSucCb():this._clickFailCb&&this._clickFailCb();case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(b)).prototype,"coinNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(g.prototype,"adNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(g.prototype,"numLb",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=g))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/BucketCellComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioDeine.ts","./EventId.ts","./EventCenter.ts","./CellBaseComp.ts","./WeaponColComp.ts"],(function(e){"use strict";var i,t,n,o,r,l,a,s,c,p,u,g,h,f,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Animation,s=e.ParticleSystem,c=e.Collider,p=e.isValid},function(e){u=e.AudioDefine},function(e){g=e.EventId},function(e){h=e.EventCenter},function(e){f=e.CellBaseComp},function(e){d=e.WeaponColComp}],execute:function(){var m,b,C,y,v,T,E,w,_,B,A;r._RF.push({},"06ce1RvVANNHI3Wq+p4n3x3","BucketCellComp",void 0);var k=l.ccclass,z=l.property;e("BucketCellComp",(m=k("BucketCellComp"),b=z(a),C=z(s),y=z(c),v=z(c),m((w=i((E=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return i=e.call.apply(e,[this].concat(r))||this,n(i,"ani",w,o(i)),n(i,"bomb",_,o(i)),n(i,"collider",B,o(i)),n(i,"wpTrigger",A,o(i)),i}t(i,e);var r=i.prototype;return r.onEnable=function(){if(this.wpTrigger.on("onTriggerEnter",this._onTriggerEnter,this),this.collider.node.active=!1,this.bomb.node.active=!1,this.ani.defaultClip){var e=this.ani.getState(this.ani.defaultClip.name);e.setTime(0),e.sample()}},r.onDisable=function(){this.wpTrigger.off("onTriggerEnter",this._onTriggerEnter,this)},r.playAni=function(){h.inst.emit(g.Audio.playTx,u.TxType.BucketBoom),this.bomb.node.active=!0,this.bomb.play(),this.ani.play(),this.scheduleOnce(this._aniComplete,.5),this.collider.node.active=!0},r._aniComplete=function(){var e=this;this.collider.node.active=!1,this.scheduleOnce((function(){e.ani.stop(),e.bomb.stop(),e.destroyCell()}),.5)},r._onTriggerEnter=function(e){if("onTriggerEnter"===e.type){var i=e.otherCollider.node.getComponent(d);i&&p(i)&&(this.wpTrigger.off("onTriggerEnter",this._onTriggerEnter,this),this.playAni())}},i}(f)).prototype,"ani",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(E.prototype,"bomb",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(E.prototype,"collider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(E.prototype,"wpTrigger",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=E))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/BulletColTxComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(t){"use strict";var e,o,r,n,i,l,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.CCFloat},function(t){c=t.BaseComponent}],execute:function(){var u,s,p,C,f;i._RF.push({},"13292xLucpAq5sg8yWU0Pm5","BulletColTxComp",void 0);var m=l.ccclass,y=l.property;t("BulletColTxComp",(u=m("BulletColTxComp"),s=y(a),u((f=e((C=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,r(e,"waitCd",f,n(e)),e}return o(e,t),e}(c)).prototype,"waitCd",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=C))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/CalcPosMatrix.ts",["cc"],(function(r){"use strict";var a,t;return{setters:[function(r){a=r.cclegacy,t=r.v3}],execute:function(){var o,c;r("PlayerPosMatrix",void 0),a._RF.push({},"88b7bHlFHhNobyueHxaSmp/","CalcPosMatrix",void 0),(c=o||(o=r("PlayerPosMatrix",{}))).calc=function(r,a){void 0===a&&(a=1);var o,c=Math.sqrt(r),i=Math.ceil(c),e=Math.floor(c),s=i-c;o=0===s?c:s<=.5?i:e;for(var u=[],v=r,n=1;n<=o;n++){var l=n===o?v:o;if(!(l<=0)){for(var f=o*a,h=f*((n-1)/(o-1))-f/2,M=1;M<=l;M++){var P=l*a,x=P*((M-1)/(l-1))-P/2;u.push(t(x,0,h))}v-=l}}return u},c.calcBoss=function(r,a,o){for(var c=[],i=Math.ceil(r/a),e=r,s=1;s<=i;s++){var u=s===i?e:a;if(!(u<=0)){for(var v=i*o,n=v*((i-s)/(i-1))-v,l=1;l<=u;l++){var f=u*o,h=f*((l-1)/(u-1))-f/2;c.push(t(h,0,n))}e-=u}}return c},window.PlayerPosMatrix=o,a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(e){"use strict";var t,n,o,r,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,r=e._decorator},function(e){c=e.BaseComponent}],execute:function(){var s;o._RF.push({},"cd2ech6UjlOsqPCqvUCfh3j","CameraInfo",void 0);var a=r.ccclass;r.property,e("CameraInfo",a("CameraInfo")(s=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._fov=0,t}return t(o,e),n(o,[{key:"fov",get:function(){return this._fov},set:function(e){this._fov=e}}]),o}(c))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/CameraSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventId.ts","./BaseComponent.ts","./EventCenter.ts"],(function(t){"use strict";var e,o,a,r,s,i,n,c,l,u,h,p,f,_,d,v,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.createClass},function(t){i=t.cclegacy,n=t._decorator,c=t.CCFloat,l=t.v3,u=t.quat,h=t.Camera,p=t.Vec3,f=t.Quat,_=t.lerp},function(t){d=t.EventId},function(t){v=t.BaseComponent},function(t){g=t.EventCenter}],execute:function(){var m,y,C,w,P;i._RF.push({},"a051cajG09AUpyW1Teb4AA7","CameraSys",void 0);var S=n.ccclass,F=n.property;t("CameraSys",(m=S("CameraSys"),y=F({type:c,tooltip:"相机跟随速度"}),m((P=e((w=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this)._targetPos=l(),e._targetQuat=u(),e._targetFov=0,a(e,"followSpeed",P,r(e)),e._wPos=l(),e}o(e,t);var i=e.prototype;return i.onLoad=function(){this._camera=this.node.getComponent(h),g.inst.emit(d.UICoordinateTrackerSys.setCamera,this._camera)},i.lateUpdate=function(t){var e=this.node.getWorldPosition(this._wPos);e.equals(this._targetPos)||(p.lerp(e,e,this._targetPos,t*this.followSpeed),this.node.setWorldPosition(e));var o=this.node.worldRotation;o.equals(this._targetQuat)||(f.slerp(o,o,this._targetQuat,t*this.followSpeed),this.node.setRotation(o)),this._camera.fov!==this._targetFov&&(_(this._camera.fov,this._targetFov,t*this.followSpeed),this._camera.fov=this._camera.fov)},i.followPlayer=function(t,e,o){this._targetPos.set(t),this._targetQuat.set(e),this._targetFov=o},s(e,[{key:"camera",get:function(){return this._camera}}]),e}(v)).prototype,"followSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=w))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/CellBaseComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventId.ts","./BaseComponent.ts","./EventCenter.ts","./LevelHelper.ts","./Log.ts","./Utils.ts"],(function(t){"use strict";var e,n,r,s,l,o,i,a,u,c,p,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.v3,o=t.Vec3},function(t){i=t.EventId},function(t){a=t.BaseComponent},function(t){u=t.EventCenter},function(t){c=t.LevelHelper},function(t){p=t.LOG},function(t){f=t.Utils}],execute:function(){var d;r._RF.push({},"ffd84H5SlNG8pjlbeiX9gzh","CellBaseComp",void 0);var h=s.ccclass;s.property,t("CellBaseComp",h("CellBaseComp")(d=function(t){function r(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).lastGround=!1,e._forward=l(),e}e(r,t);var s=r.prototype;return s.setData=function(t,e,n,r,s,l,o){return this.level=t,this.plateIdx=e,this.data=n,this.playerPos=r,this.playerRolesPos=s,this.playerForward=l,this.lastGround=o,this},s.setParam=function(t){return this.param=t,this},s.onPlayerEnterGround=function(){},s.playAni=function(t,e,n){var r=c.getStyleCfgByLevel(this.level);if(!r)return p.E("[EnemyCellComp] level:"+this.level+" style get fail"),void(n&&n());f.playNodeSkeAni(this.node,r.id,r[this.data.styleKey],t,e,n)},s.destroyCell=function(){u.inst.emit(i.GroundSys.destroyCell,this.plateIdx,this.data)},n(r,[{key:"forward",get:function(){return o.multiplyScalar(this._forward,this.node.forward,-1)}}]),r}(a))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/CheckValue.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){function u(n){return"string"==typeof n}n({IS_NULL:function(n){return null===n},IS_NULL_OR_UNDEFINED:function(n){return null==n},IS_NUM:function(n){return"number"==typeof n&&!Number.isNaN(n)},IS_STR:u,IS_STR_NOT_EMPTY:function(n){return u(n)&&""!==n},IS_UNDEFINED:function(n){return void 0===n}}),t._RF.push({},"5bc36xFrCdOao6GFcs57x80","CheckValue",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ClassNameSign.ts",["cc"],(function(n){"use strict";var r;return{setters:[function(n){r=n.cclegacy}],execute:function(){n({getCtorClassName:function(n){var r,t,l=null!=(r=null==n||null==(t=n.prototype)?void 0:t[e])?r:"";if(""===l)throw new Error((null==n?void 0:n.name)+" 为注册类名标识");return l},getObjClassName:function(n){var r,t,l=null!=(r=null==n?void 0:n[e])?r:"";if(""===l)throw new Error((null==n||null==(t=n.constructor)?void 0:t.name)+" 为注册类名标识");return l}}),r._RF.push({},"f9efda57CRCRa2PZ4vk7zWg","ClassNameSign",void 0);var e="__classname__";r._RF.pop()}}}));

System.register("chunks:///_virtual/CoinFly.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(t){"use strict";var e,o,r,i,n,s,a,l,c,u,d,h,p,g,_,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.Node,l=t.UITransform,c=t.CCInteger,u=t.NodePool,d=t.math,h=t.v3,p=t.instantiate,g=t.tween,_=t.Vec3},function(t){f=t.BaseComponent}],execute:function(){var P,v,y,b,m,C,A,w,N,x,I;n._RF.push({},"fcdc1JvoFREXqfT7MbEzHwk","CoinFly",void 0);var z=s.ccclass,F=s.property;t("CoinFly",(P=z("CoinFly"),v=F(a),y=F(l),b=F(c),m=F(a),P((w=e((A=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,r(e,"targetNode",w,i(e)),r(e,"startUt",N,i(e)),r(e,"count",x,i(e)),r(e,"itemNode",I,i(e)),e._pool=new u,e._targetWPos=void 0,e._rndPosArr=void 0,e._genIdx=-1,e._completeCb=void 0,e}o(e,t);var n=e.prototype;return n.fly=function(t){var e,o;this.targetNode&&this.startUt&&0!==this.count?(this._completeCb=t,this._targetWPos=this.targetNode.getWorldPosition(),this._calcRndPosArr(),this._genIdx=0,this.schedule(this._genCoin,.02,null!=(e=null==(o=this._rndPosArr)?void 0:o.length)?e:0)):t&&t()},n._calcRndPosArr=function(){null!=this._rndPosArr||(this._rndPosArr=[]);for(var t=this.startUt.node.getWorldPosition(),e=this.startUt.width/2,o=this.startUt.height/2,r=0;r<this.count;r++){var i=d.randomRange(t.x-e,t.x+e),n=d.randomRange(t.y-o,t.y+o);this._rndPosArr.push(h(i,n,0))}},n._genCoin=function(){var t,e=this;if(this._rndPosArr&&this._targetWPos){var o=this._rndPosArr.length;if(!(-1===this._genIdx||this._genIdx>=o)){var r=this._genIdx++,i=this._rndPosArr[r],n=null!=(t=this._pool.get())?t:p(this.itemNode);n.active=!0,n.setParent(this.node,!1),n.setWorldPosition(i),n.setScale(0,0),g(n).to(.2,{scale:_.ONE}).call((function(){e.scheduleOnce((function(){var t=g(n).to(.5,{worldPosition:e._targetWPos}).call((function(){t.stop(),e._pool.put(n),r===o-1&&e._completeCb&&e._completeCb()})).start()}),1)})).start()}}},e}(f)).prototype,"targetNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(A.prototype,"startUt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(A.prototype,"count",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=e(A.prototype,"itemNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=A))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/ColDefine.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var o,t,i;e("ColDefine",void 0),n._RF.push({},"3a804BhyO9CF7vsXC62ZokV","ColDefine",void 0),t=o||(o=e("ColDefine",{})),function(e){e[e.Default=1]="Default",e[e.Player=2]="Player",e[e.Weapon=4]="Weapon",e[e.Enemy=8]="Enemy",e[e.Ground=16]="Ground",e[e.WithWeapon=32]="WithWeapon",e[e.Died=64]="Died"}(i||(i={})),t.Group=i,n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigHelper.ts",["cc","./RefDataMgr.ts"],(function(e){"use strict";var n,i,t;return{setters:[function(e){n=e.cclegacy},function(e){i=e.RefDataMgr,t=e.Ref}],execute:function(){var a;e("ConfigKey",void 0),n._RF.push({},"b53cbzeAT5EVqbp+kaf8idb","ConfigHelper",void 0),function(e){e[e.InitAtk=1]="InitAtk",e[e.SinglePlayerHp=2]="SinglePlayerHp",e[e.EnemyDamage=3]="EnemyDamage",e[e.EnemyHp=4]="EnemyHp",e[e.EnemySp=5]="EnemySp",e[e.EnemyWithPlayerDis=6]="EnemyWithPlayerDis",e[e.BossSp=7]="BossSp",e[e.PlayerHorSp=8]="PlayerHorSp",e[e.PlayerTouchMoveScl=9]="PlayerTouchMoveScl",e[e.PlayerCamRuningDuration=10]="PlayerCamRuningDuration",e[e.PlayerRotSp=11]="PlayerRotSp",e[e.ResultAdMulWeight=12]="ResultAdMulWeight",e[e.DailyTaskBigNum=13]="DailyTaskBigNum",e[e.DailyTaskBigAdMul=14]="DailyTaskBigAdMul",e[e.TurnTableWeight=15]="TurnTableWeight",e[e.InitSkins=16]="InitSkins",e[e.MaxShowRole=17]="MaxShowRole",e[e.BossEnemySlow=18]="BossEnemySlow"}(a||(a=e("ConfigKey",{})));e("ConfigHelper",function(){function e(){}return e.getConfig=function(e){var n,a=null==(n=i.inst.getDic(t.config))?void 0:n.get(e);return null==a?void 0:a.param},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CoordinateTrackerFixed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventId.ts","./BaseComponent.ts","./EventCenter.ts"],(function(t){"use strict";var e,i,r,n,o,s,a,l,c,u,p,y,h,f,g,b,d,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,a=t._decorator,l=t.CCString,c=t.Color,u=t.CCFloat,p=t.CCBoolean,y=t.Font,h=t.CCInteger,f=t.Prefab,g=t.Enum},function(t){b=t.EventId},function(t){d=t.BaseComponent},function(t){_=t.EventCenter}],execute:function(){var C,w,k,m,L,S,T,I,O,z,U,B,P,v,V,F,D,j,H,W,E,x,A,Y,R,q,J,M,Q,G,K,N,X,Z,$,tt,et,it,rt,nt,ot,st,at,lt,ct;t("CoordinateTrackerFixedType",void 0),s._RF.push({},"ece57YFndhLPpEsygQxYYJH","CoordinateTrackerFixed",void 0);var ut,pt=a.ccclass,yt=a.property;!function(t){t[t.Label=0]="Label",t[t.ProgessBar=1]="ProgessBar"}(ut||(ut=t("CoordinateTrackerFixedType",{})));var ht=function(){function t(){this._isValid=!1,this._own=void 0}var e=t.prototype;return e.setValid=function(t){this._isValid=t},e.setOwn=function(t){this._own=t},o(t,[{key:"isValid",get:function(){return this._isValid}},{key:"own",get:function(){return this._own}}]),t}(),ft=t("CoordinateTrackerLabel",(C=pt("CoordinateTrackerLabel"),w=yt(l),k=yt(c),m=yt(u),L=yt(u),S=yt(p),T=yt(p),I=yt(p),O=yt(p),z=yt({type:y,visible:function(){return!this.useSystemFont}}),U=yt(p),B=yt({type:c,visible:function(){return this.outLine}}),P=yt({type:h,visible:function(){return this.outLine}}),C((F=e((V=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_string",F,n(e)),r(e,"_color",D,n(e)),r(e,"_fontSize",j,n(e)),r(e,"_lineHeight",H,n(e)),r(e,"_isBold",W,n(e)),r(e,"_isItalic",E,n(e)),r(e,"_isUnderline",x,n(e)),r(e,"_useSystemFont",A,n(e)),r(e,"_font",Y,n(e)),r(e,"_outLine",R,n(e)),r(e,"_outLineClr",q,n(e)),r(e,"_outLineWid",J,n(e)),e}return i(e,t),o(e,[{key:"string",get:function(){return this._string},set:function(t){this._string!==t&&(this._string=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"color",get:function(){return this._color},set:function(t){this._color.equals(t)||(this._color=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"isBold",get:function(){return this._isBold},set:function(t){this._isBold!==t&&(this._isBold=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"isItalic",get:function(){return this._isItalic},set:function(t){this._isItalic!==t&&(this._isItalic=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"isUnderline",get:function(){return this._isUnderline},set:function(t){this._isUnderline!==t&&(this._isUnderline=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"useSystemFont",get:function(){return this._useSystemFont},set:function(t){this._useSystemFont!==t&&(this._useSystemFont=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"font",get:function(){return this._font},set:function(t){this._font!==t&&(this._font=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"outLine",get:function(){return this._outLine},set:function(t){this._outLine!==t&&(this._outLine=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"outLineClr",get:function(){return this._outLineClr},set:function(t){this._outLineClr!==t&&(this._outLineClr=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}},{key:"outLineWid",get:function(){return this._outLineWid},set:function(t){this._outLineWid!==t&&(this._outLineWid=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.lbChange,this.own))}}]),e}(ht)).prototype,"_string",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(V.prototype,"string",[w],Object.getOwnPropertyDescriptor(V.prototype,"string"),V.prototype),D=e(V.prototype,"_color",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.WHITE.clone()}}),e(V.prototype,"color",[k],Object.getOwnPropertyDescriptor(V.prototype,"color"),V.prototype),j=e(V.prototype,"_fontSize",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),e(V.prototype,"fontSize",[m],Object.getOwnPropertyDescriptor(V.prototype,"fontSize"),V.prototype),H=e(V.prototype,"_lineHeight",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),e(V.prototype,"lineHeight",[L],Object.getOwnPropertyDescriptor(V.prototype,"lineHeight"),V.prototype),W=e(V.prototype,"_isBold",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(V.prototype,"isBold",[S],Object.getOwnPropertyDescriptor(V.prototype,"isBold"),V.prototype),E=e(V.prototype,"_isItalic",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(V.prototype,"isItalic",[T],Object.getOwnPropertyDescriptor(V.prototype,"isItalic"),V.prototype),x=e(V.prototype,"_isUnderline",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(V.prototype,"isUnderline",[I],Object.getOwnPropertyDescriptor(V.prototype,"isUnderline"),V.prototype),A=e(V.prototype,"_useSystemFont",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(V.prototype,"useSystemFont",[O],Object.getOwnPropertyDescriptor(V.prototype,"useSystemFont"),V.prototype),Y=e(V.prototype,"_font",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(V.prototype,"font",[z],Object.getOwnPropertyDescriptor(V.prototype,"font"),V.prototype),R=e(V.prototype,"_outLine",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(V.prototype,"outLine",[U],Object.getOwnPropertyDescriptor(V.prototype,"outLine"),V.prototype),q=e(V.prototype,"_outLineClr",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.WHITE.clone()}}),e(V.prototype,"outLineClr",[B],Object.getOwnPropertyDescriptor(V.prototype,"outLineClr"),V.prototype),J=e(V.prototype,"_outLineWid",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(V.prototype,"outLineWid",[P],Object.getOwnPropertyDescriptor(V.prototype,"outLineWid"),V.prototype),v=V))||v)),gt=t("CoordinateTrackerProgessBar",(M=pt("CoordinateTrackerProgessBar"),Q=yt(f),G=yt(u),M((X=e((N=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"pfb",X,n(e)),r(e,"_progess",Z,n(e)),e}return i(e,t),o(e,[{key:"progess",get:function(){return this._progess},set:function(t){this._progess!==t&&(this._progess=t,this.isValid&&_.inst.emit(b.UICoordinateTrackerSys.progessBarChange,this.own))}}]),e}(ht)).prototype,"pfb",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(N.prototype,"_progess",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(N.prototype,"progess",[G],Object.getOwnPropertyDescriptor(N.prototype,"progess"),N.prototype),K=N))||K));t("CoordinateTrackerFixed",($=pt("CoordinateTrackerFixed"),tt=yt({type:g(ut)}),et=yt({type:ft,visible:function(){return this.trackerType===ut.Label}}),it=yt({type:gt,visible:function(){return this.trackerType===ut.ProgessBar}}),rt=yt(u),$((st=e((ot=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"trackerType",st,n(e)),r(e,"label",at,n(e)),r(e,"progessBar",lt,n(e)),r(e,"_distance",ct,n(e)),e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.label.setOwn(this),this.progessBar.setOwn(this)},s.onEnable=function(){_.inst.emit(b.UICoordinateTrackerSys.show,this),this.label.setValid(!0),this.progessBar.setValid(!0)},s.onDisable=function(){this.label.setValid(!1),this.progessBar.setValid(!1),_.inst.emit(b.UICoordinateTrackerSys.hide,this)},o(e,[{key:"distance",get:function(){return this._distance},set:function(t){this._distance!==t&&(this._distance=t,this.enabledInHierarchy&&_.inst.emit(b.UICoordinateTrackerSys.disChange,this))}}]),e}(d)).prototype,"trackerType",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ut.Label}}),at=e(ot.prototype,"label",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ft}}),lt=e(ot.prototype,"progessBar",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new gt}}),ct=e(ot.prototype,"_distance",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(ot.prototype,"distance",[rt],Object.getOwnPropertyDescriptor(ot.prototype,"distance"),ot.prototype),nt=ot))||nt));s._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskBigUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DailyTaskData.ts","./PlayerData.ts","./AudioDeine.ts","./EventId.ts","./PathDefine.ts","./EventCenter.ts","./ADHelper.ts","./ConfigHelper.ts","./BaseUI.ts","./CoinFly.ts"],(function(t){"use strict";var i,e,n,a,r,s,o,u,l,c,f,p,y,b,g,h,d,m,D,k;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,u=t._decorator,l=t.Label},function(t){c=t.DailyTaskData},function(t){f=t.PlayerData},function(t){p=t.AudioDefine},function(t){y=t.EventId},function(t){b=t.PathDefine},function(t){g=t.EventCenter},function(t){h=t.ADHelper},function(t){d=t.ConfigHelper,m=t.ConfigKey},function(t){D=t.BaseUI},function(t){k=t.CoinFly}],execute:function(){var _,N,v,C,L,T,B,I,A,x;o._RF.push({},"ff5bc04MmxE0oFRkO7aCFo+","DailyTaskBigUI",void 0);var w=u.ccclass,P=u.property;t("DailyTaskBigUI",(_=w("DailyTaskBigUI"),N=P(l),v=P(l),C=P(k),_(((x=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"baseNumLb",B,a(i)),n(i,"adNumLb",I,a(i)),n(i,"fly",A,a(i)),i._baseNum=0,i._adNum=0,i._adLooking=!1,i}e(i,t);var o=i.prototype;return o.onLoad=function(){this._initData()},o.start=function(){g.inst.emit(y.Audio.playTx,p.TxType.Reward)},o._initData=function(){var t,i;this._baseNum=null!=(t=d.getConfig(m.DailyTaskBigNum))?t:0,this._adNum=this._baseNum*(null!=(i=d.getConfig(m.DailyTaskBigAdMul))?i:0),this.baseNumLb.string="+"+this._baseNum,this.adNumLb.string="+"+this._adNum},o.onClickClose=function(){c.inst.setBigComplete(!0),f.inst.coin+=this._baseNum,this.dispose()},o.onClickAd=function(){var t=r(s().mark((function t(){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._adLooking){t.next=2;break}return t.abrupt("return");case 2:return this._adLooking=!0,t.next=5,h.openAD();case 5:if(i=t.sent,this._adLooking=!1,i){t.next=9;break}return t.abrupt("return");case 9:c.inst.setBigComplete(!0),f.inst.coin+=this._adNum,this.fly.fly(this.dispose.bind(this));case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(D)).prefabPath=b.DailyTaskBigUI,B=i((T=x).prototype,"baseNumLb",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(T.prototype,"adNumLb",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(T.prototype,"fly",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=T))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskCountdown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DailyTaskData.ts","./BaseComponent.ts","./TImeHelper.ts"],(function(t){"use strict";var e,n,o,s,i,a,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.Label,i=t.macro},function(t){a=t.DailyTaskData},function(t){r=t.BaseComponent},function(t){c=t.TimeHelper}],execute:function(){var u;n._RF.push({},"4895a8q0vNKaJVEuNdK8YQt","DailyTaskCountdown",void 0);var l=o.ccclass;o.property,t("DailyTaskCountdown",l("DailyTaskCountdown")(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._timeLb=void 0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this._timeLb=this.node.getComponent(s)},o.start=function(){this._freshTime(),this.schedule(this._freshTime,1,i.REPEAT_FOREVER)},o._freshTime=function(){var t=Date.now(),e=new Date(t).setHours(0,0,0,0)+864e5-t;e<1e3&&a.inst.reset(),this._timeLb&&(this._timeLb.string=c.secondToHMS(e/1e3))},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalStorage.ts","./DailyTaskDefine.ts","./EventId.ts","./EventCenter.ts","./CheckValue.ts","./LocalHandler.ts","./RefDataMgr.ts","./Singleton.ts"],(function(t){"use strict";var n,e,i,a,s,l,o,r,c,h,u,g,_,p;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy},function(t){a=t.LocalStorage,s=t.LocalKey},function(t){l=t.DailyTaskDefine},function(t){o=t.EventId},function(t){r=t.EventCenter},function(t){c=t.IS_NUM,h=t.IS_STR},function(t){u=t.LocalHandler},function(t){g=t.RefDataMgr,_=t.Ref},function(t){p=t.Singleton}],execute:function(){i._RF.push({},"de74ee7m9lG4ZV8J6znQtx/","DailyTaskData",void 0);t("DailyTaskData",function(t){function i(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this)._localHandler=new u(s.DailyTaskData),n._cfgs=void 0,n._completeIds=[],n._bigcomplete=0,n._idProgMap={},n._levelPassCnt=0,n._turntableCnt=0,n._initAgeUpLvCnt=0,n._initOwnNumUpLvCnt=0,n._atkrateUpLvCnt=0,n._atkUpLvCnt=0,n._unlockAdvSkinCnt=0,n._watchAdCnt=0,n}n(i,t);var p=i.prototype;return p.onInit=function(){var t=this;r.inst.on(o.PalyerData.onLevelChange,(function(n,e){return t._recvChange("levelPassCnt",n,e)}),this),r.inst.on(o.PalyerData.onInitAgeUpLvChange,(function(n,e){return t._recvChange("initAgeUpLvCnt",n,e)}),this),r.inst.on(o.PalyerData.onInitOwnNumUpLvChange,(function(n,e){return t._recvChange("initOwnNumUpLvCnt",n,e)}),this),r.inst.on(o.PalyerData.onAtkRateUpLvChange,(function(n,e){return t._recvChange("atkrateUpLvCnt",n,e)}),this),r.inst.on(o.PalyerData.onAtkUpLvChange,(function(n,e){return t._recvChange("atkUpLvCnt",n,e)}),this),r.inst.on(o.PalyerData.onAddSkin,(function(){return t.unlockAdvSkinCnt++}),this),r.inst.on(o.DailyTaskData.addAdCnt,(function(){return t.watchAdCnt++}),this)},p._recvChange=function(t,n,e){c(n)&&c(e)&&(n-e<=0||"number"==typeof this[t]&&this[t]++)},p.onDestroy=function(){this._localHandler.clearDelay(),this._localHandler=void 0,this._cfgs=void 0,r.inst.targetOff(this)},p.hasBigComplete=function(){return 1===this._bigcomplete},p.setBigComplete=function(t){var n=Number(t);this._bigcomplete!==n&&(this._bigcomplete=n,this._localHandler.setValue("bigcomplete",n),r.inst.emit(o.DailyTaskData.bigChange))},p.idHasComplete=function(t){return-1!==this._completeIds.indexOf(t)},p.getCompleteCount=function(){return this._completeIds.length},p.idComplete=function(t){this.idHasComplete(t)||(this._completeIds.push(t),this._localHandler.setValue("completeIds",this._completeIds),r.inst.emit(o.DailyTaskData.onIdCompleteChange))},p.setProg=function(t,n){n!==this._idProgMap[t]&&(this._idProgMap[t]=n,this._localHandler.setValue("idProgMap",this._idProgMap),r.inst.emit(o.DailyTaskData.onIdProgChange))},p.getProg=function(t){var n;return null!=(n=this._idProgMap[t])?n:0},p.reset=function(){this.setBigComplete(!1),this.levelPassCnt=0,this.turntableCnt=0,this.initAgeUpLvCnt=0,this.initOwnNumUpLvCnt=0,this.atkrateUpLvCnt=0,this.atkUpLvCnt=0,this.unlockAdvSkinCnt=0,this.watchAdCnt=0,0!==this._completeIds.length&&(this._completeIds.length=0,this._localHandler.setValue("completeIds",this._completeIds),r.inst.emit(o.DailyTaskData.onIdCompleteChange))},p.loadLocal=function(){var t=this._localHandler.getData();t&&(c(t.bigcomplete)&&(this._bigcomplete=t.bigcomplete),t.completeIds instanceof Array&&(this._completeIds=t.completeIds),t.idProgMap&&(this._idProgMap=t.idProgMap),c(t.levelPassCnt)&&(this._levelPassCnt=t.levelPassCnt),c(t.turntableCnt)&&(this._turntableCnt=t.turntableCnt),c(t.initAgeUpLvCnt)&&(this._initAgeUpLvCnt=t.initAgeUpLvCnt),c(t.initOwnNumUpLvCnt)&&(this._initOwnNumUpLvCnt=t.initOwnNumUpLvCnt),c(t.atkrateUpLvCnt)&&(this._atkrateUpLvCnt=t.atkrateUpLvCnt),c(t.atkUpLvCnt)&&(this._atkUpLvCnt=t.atkUpLvCnt),c(t.unlockAdvSkinCnt)&&(this._unlockAdvSkinCnt=t.unlockAdvSkinCnt),c(t.watchAdCnt)&&(this._watchAdCnt=t.watchAdCnt))},p.checkReset=function(){var t=a.getStr(s.OnlineTime);if(t&&h(t)){var n=Number(t);if(c(n))new Date(Date.now()).toDateString()!==new Date(n).toDateString()&&this.reset()}},e(i,[{key:"levelPassCnt",get:function(){return this._levelPassCnt},set:function(t){var n=this;(t=Math.max(0,t))!==this._levelPassCnt&&(this._levelPassCnt=t,this._localHandler.setValue("levelPassCnt",t),null!=this._cfgs||(this._cfgs=g.inst.getData(_.dailyTask)),this._cfgs&&this._cfgs.forEach((function(e){return e.type===l.Type.PassLevel&&n.setProg(e.id,t)})))}},{key:"turntableCnt",get:function(){return this._turntableCnt},set:function(t){var n=this;(t=Math.max(0,t))!==this._turntableCnt&&(this._turntableCnt=t,this._localHandler.setValue("turntableCnt",t),null!=this._cfgs||(this._cfgs=g.inst.getData(_.dailyTask)),this._cfgs&&this._cfgs.forEach((function(e){return e.type===l.Type.SpinTurntable&&n.setProg(e.id,t)})))}},{key:"initAgeUpLvCnt",get:function(){return this._initAgeUpLvCnt},set:function(t){var n=this;(t=Math.max(0,t))!==this._initAgeUpLvCnt&&(this._initAgeUpLvCnt=t,this._localHandler.setValue("initAgeUpLvCnt",t),null!=this._cfgs||(this._cfgs=g.inst.getData(_.dailyTask)),this._cfgs&&this._cfgs.forEach((function(e){return e.type===l.Type.UpgradeInitAgeUpLv&&n.setProg(e.id,t)})))}},{key:"initOwnNumUpLvCnt",get:function(){return this._initOwnNumUpLvCnt},set:function(t){var n=this;(t=Math.max(0,t))!==this._initOwnNumUpLvCnt&&(this._initOwnNumUpLvCnt=t,this._localHandler.setValue("initOwnNumUpLvCnt",t),null!=this._cfgs||(this._cfgs=g.inst.getData(_.dailyTask)),this._cfgs&&this._cfgs.forEach((function(e){return e.type===l.Type.UpgradeInitOwnNum&&n.setProg(e.id,t)})))}},{key:"atkrateUpLvCnt",get:function(){return this._atkrateUpLvCnt},set:function(t){var n=this;(t=Math.max(0,t))!==this._atkrateUpLvCnt&&(this._atkrateUpLvCnt=t,this._localHandler.setValue("atkrateUpLvCnt",t),null!=this._cfgs||(this._cfgs=g.inst.getData(_.dailyTask)),this._cfgs&&this._cfgs.forEach((function(e){return e.type===l.Type.UpgradeAtkRate&&n.setProg(e.id,t)})))}},{key:"atkUpLvCnt",get:function(){return this._atkUpLvCnt},set:function(t){var n=this;(t=Math.max(0,t))!==this._atkUpLvCnt&&(this._atkUpLvCnt=t,this._localHandler.setValue("atkUpLvCnt",t),null!=this._cfgs||(this._cfgs=g.inst.getData(_.dailyTask)),this._cfgs&&this._cfgs.forEach((function(e){return e.type===l.Type.UpgradeAtk&&n.setProg(e.id,t)})))}},{key:"unlockAdvSkinCnt",get:function(){return this._unlockAdvSkinCnt},set:function(t){var n=this;(t=Math.max(0,t))!==this._unlockAdvSkinCnt&&(this._unlockAdvSkinCnt=t,this._localHandler.setValue("unlockAdvSkinCnt",t),null!=this._cfgs||(this._cfgs=g.inst.getData(_.dailyTask)),this._cfgs&&this._cfgs.forEach((function(e){return e.type===l.Type.UnlockSkin&&n.setProg(e.id,t)})))}},{key:"watchAdCnt",get:function(){return this._watchAdCnt},set:function(t){var n=this;(t=Math.max(0,t))!==this._watchAdCnt&&(this._watchAdCnt=t,this._localHandler.setValue("watchAdCnt",t),null!=this._cfgs||(this._cfgs=g.inst.getData(_.dailyTask)),this._cfgs&&this._cfgs.forEach((function(e){return e.type===l.Type.WatchAd&&n.setProg(e.id,t)})))}}]),i}(p()));i._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskDefine.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var n,t,i;e("DailyTaskDefine",void 0),a._RF.push({},"d083fHofyJJRLE2YC/3Bju9","DailyTaskDefine",void 0),t=n||(n=e("DailyTaskDefine",{})),function(e){e[e.PassLevel=1]="PassLevel",e[e.SpinTurntable=2]="SpinTurntable",e[e.UpgradeInitAgeUpLv=3]="UpgradeInitAgeUpLv",e[e.UpgradeInitOwnNum=4]="UpgradeInitOwnNum",e[e.UpgradeAtkRate=5]="UpgradeAtkRate",e[e.UpgradeAtk=6]="UpgradeAtk",e[e.UnlockSkin=7]="UnlockSkin",e[e.WatchAd=8]="WatchAd"}(i||(i={})),t.Type=i,a._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskHelper.ts",["cc","./PlayerData.ts","./DailyTaskDefine.ts","./LevelHelper.ts","./RefDataMgr.ts","./SkinHelper.ts","./Utils.ts"],(function(e){"use strict";var t,n,i,r,l,a,s,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.PlayerData},function(e){i=e.DailyTaskDefine},function(e){r=e.LevelHelper},function(e){l=e.RefDataMgr,a=e.Ref},function(e){s=e.SkinHelper},function(e){o=e.Utils}],execute:function(){t._RF.push({},"29b95AiNvdNMaOYhGQlAmFj","DailyTaskHelper",void 0);e("DailyTaskHelper",function(){function e(){}return e.extractTasks=function(){var e,t=null==(e=l.inst.getData(a.dailyTask))?void 0:e.sort((function(e,t){return t.sort-e.sort})),u=[];if(null==t||!t.length)return u;var c=[];t.forEach((function(e){var t=e.sort,n=!1;c.forEach((function(i){var r;(null==(r=i[0])?void 0:r.sort)===t&&(i.push(e),n=!0)})),n||c.push([e])}));for(var f=0;f<5;f++)for(var v=0;v<c.length;v++){var p=c[v];if(p.length){var g=o.getRandomIndex(p.map((function(e){return e.weight}))),k=p[g=-1===g?0:g],h=!1;if(k.type===i.Type.PassLevel)r.getMaxLevel()-n.inst.level>=k.condition&&(h=!0);else if(k.type===i.Type.UnlockSkin){var y,D;(null!=(y=null==(D=s.getSkinCfgs())?void 0:D.length)?y:0)-n.inst.getAllSkin().length>=k.condition&&(h=!0)}else h=!0;if(h){p.splice(g,1),u.push(k);break}}}return u},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DailyTaskData.ts","./TaskDefine.ts","./BaseComponent.ts"],(function(e){"use strict";var t,i,r,a,n,o,s,c,u,d,l,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.Label,c=e.ProgressBar,u=e.UITransform,d=e.Node},function(e){l=e.DailyTaskData},function(e){f=e.TaskDefine},function(e){h=e.BaseComponent}],execute:function(){var p,g,b,w,v,N,y,m,_,T,S,k,E,L,C,D,z,B,R,I,A,P,M;n._RF.push({},"52b2f6f++pBqaCMmiNju+YW","DailyTaskItem",void 0);var O=o.ccclass,U=o.property;e("DailyTaskItem",(p=O("DailyTaskItem"),g=U(s),b=U(c),w=U(s),v=U(s),N=U(s),y=U(u),m=U([d]),_=U([d]),T=U([d]),S=U([d]),p((L=t((E=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"desLb",L,a(t)),r(t,"progBar",C,a(t)),r(t,"progLb",D,a(t)),r(t,"rewardLb",z,a(t)),r(t,"canNumLb",B,a(t)),r(t,"flyStartUt",R,a(t)),r(t,"ingNodes",I,a(t)),r(t,"rewardNodes",A,a(t)),r(t,"adRewardNodes",P,a(t)),r(t,"rewardedNodes",M,a(t)),t._cfg=void 0,t._state=f.ST.ing,t.onClickClaim=void 0,t.onClickOpenAd=void 0,t}i(t,e);var n=t.prototype;return n.updateView=function(e){this._cfg=e,this.offAll(),this._updateState(e),this._updateShow(e),this._updateView(e)},n._updateState=function(e){var t=l.inst;t.idHasComplete(e.id)?this._state=f.ST.rewarded:t.getProg(e.id)>=e.condition?this._state=f.ST.canget:this._state=f.ST.ing},n._updateShow=function(e){this._state===f.ST.rewarded?(this.rewardNodes.forEach((function(e){return e.active=!1})),this.ingNodes.forEach((function(e){return e.active=!1})),this.adRewardNodes.forEach((function(e){return e.active=!1})),this.rewardedNodes.forEach((function(e){return e.active=!0}))):this._state===f.ST.canget?(this.adRewardNodes.forEach((function(e){return e.active=!1})),this.ingNodes.forEach((function(e){return e.active=!1})),this.rewardedNodes.forEach((function(e){return e.active=!1})),this.rewardNodes.forEach((function(e){return e.active=!0}))):8===e.type?(this.rewardNodes.forEach((function(e){return e.active=!1})),this.ingNodes.forEach((function(e){return e.active=!1})),this.rewardedNodes.forEach((function(e){return e.active=!1})),this.adRewardNodes.forEach((function(e){return e.active=!0}))):(this.rewardNodes.forEach((function(e){return e.active=!1})),this.adRewardNodes.forEach((function(e){return e.active=!1})),this.rewardedNodes.forEach((function(e){return e.active=!1})),this.ingNodes.forEach((function(e){return e.active=!0})))},n._updateView=function(e){this.desLb.string=e.des;var t=e.condition,i=Math.min(l.inst.getProg(e.id),t);this.progBar.progress=i/t,this.progLb.string=i+"/"+t,this._state===f.ST.ing?this.rewardLb.string=e.reward.toString():this._state===f.ST.canget&&(this.canNumLb.string=e.reward.toString())},n.onClickBtn=function(){var e;this._state!==f.ST.rewarded&&(this._state===f.ST.canget?this.onClickClaim&&this.onClickClaim():8===(null==(e=this._cfg)?void 0:e.type)&&this.onClickOpenAd&&this.onClickOpenAd())},t}(h)).prototype,"desLb",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(E.prototype,"progBar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(E.prototype,"progLb",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(E.prototype,"rewardLb",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(E.prototype,"canNumLb",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(E.prototype,"flyStartUt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(E.prototype,"ingNodes",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(E.prototype,"rewardNodes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(E.prototype,"adRewardNodes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(E.prototype,"rewardedNodes",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=E))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DailyTaskData.ts","./PlayerData.ts","./EventId.ts","./PathDefine.ts","./TaskDefine.ts","./EventCenter.ts","./ADHelper.ts","./DailyTaskHelper.ts","./Log.ts","./Utils.ts","./BaseUI.ts","./CoinFly.ts","./DailyTaskBigUI.ts","./DailyTaskItem.ts"],(function(t){"use strict";var i,n,e,a,s,o,r,l,u,c,g,f,p,h,d,y,k,D,b,_,C,T,v,m,A,L,I,U;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,l=t._decorator,u=t.Animation,c=t.Label,g=t.Node,f=t.Vec3,p=t.isValid,h=t.instantiate},function(t){d=t.DailyTaskData},function(t){y=t.PlayerData},function(t){k=t.EventId},function(t){D=t.PathDefine},function(t){b=t.TaskDefine},function(t){_=t.EventCenter},function(t){C=t.ADHelper},function(t){T=t.DailyTaskHelper},function(t){v=t.LOG},function(t){m=t.Utils},function(t){A=t.BaseUI},function(t){L=t.CoinFly},function(t){I=t.DailyTaskBigUI},function(t){U=t.DailyTaskItem}],execute:function(){var w,S,P,B,z,V,E,x,F,H,O,R;r._RF.push({},"c19a1Daj2hJAaULqCNOa7kq","DailyTaskUI",void 0);var N=l.ccclass,j=l.property;t("DailyTaskUI",(w=N("DailyTaskUI"),S=j(u),P=j(c),B=j(g),z=j(L),w(((R=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,e(i,"bigAni",x,a(i)),e(i,"bigProgLb",F,a(i)),e(i,"taskContent",H,a(i)),e(i,"fly",O,a(i)),i._cfgs=void 0,i._adLooking=!1,i._bigState=b.ST.ing,i}n(i,t);var r=i.prototype;return r.onLoad=function(){this._initData(),this.on(k.DailyTaskData.onIdCompleteChange,this._updateView),this.on(k.DailyTaskData.onIdProgChange,this._updateList),this.on(k.DailyTaskData.bigChange,this._updateBig)},r.start=function(){this._updateView()},r._initData=function(){var t;this._cfgs=T.extractTasks(),null!=(t=this._cfgs)&&t.length||v.E("[DailyTaskUI] get cfg fail")},r._updateView=function(){this._updateBig(),this._updateList()},r._updateBig=function(){var t,i,n=d.inst,e=n.getCompleteCount(),a=null!=(t=null==(i=this._cfgs)?void 0:i.length)?t:0;this.bigProgLb.string=e+"/"+a,n.hasBigComplete()?this._bigState=b.ST.rewarded:this._bigState=e>=a?b.ST.canget:b.ST.ing,this._bigState===b.ST.canget?this.bigAni.play():(this.bigAni.stop(),f.zero(this.bigAni.node.eulerAngles),this.bigAni.node.setRotationFromEuler(this.bigAni.node.eulerAngles))},r._updateList=function(){var t,i,n=this;m.recoverUseNode(this.taskContent,null!=(t=null==(i=this._cfgs)?void 0:i.length)?t:0,(function(t,i){var e=t.getComponent(U);e&&p(e)&&(e.updateView(n._cfgs[i]),e.onClickClaim=function(){return n._onClickClaim(e,i)},e.onClickOpenAd=function(){return n._onClickOpenAd()})}),(function(t){var i=h(n.taskContent.children[0]);return i.setParent(n.taskContent,!1),i}))},r._onClickClaim=function(t,i){this.fly.startUt=t.flyStartUt;var n=this._cfgs[i];d.inst.idComplete(n.id),y.inst.coin+=n.reward,this.fly.fly((function(){return t.updateView(n)}))},r._onClickOpenAd=function(){var t=s(o().mark((function t(){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._adLooking){t.next=2;break}return t.abrupt("return");case 2:return this._adLooking=!0,t.next=5,C.openAD();case 5:i=t.sent,this._adLooking=!1,i&&(_.inst.emit(k.DailyTaskData.addAdCnt),this._updateList());case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onClickBig=function(){this._bigState===b.ST.canget&&I.show()},i}(A)).prefabPath=D.DailyTaskUI,x=i((E=R).prototype,"bigAni",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(E.prototype,"bigProgLb",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(E.prototype,"taskContent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(E.prototype,"fly",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=E))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyCellComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./PlayerData.ts","./AudioDeine.ts","./ColDefine.ts","./EventId.ts","./LevelDefine.ts","./EventCenter.ts","./FSM.ts","./ConfigHelper.ts","./EnemyHelper.ts","./CellBaseComp.ts","./CoordinateTrackerFixed.ts","./PlayerComp.ts"],(function(t){"use strict";var i,e,n,o,s,r,a,l,h,p,u,c,d,f,m,_,y,g,v,C,w,E,P,b,S,D,L,A,V,x,F;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,l=t.RigidBody,h=t.Collider,p=t.Enum,u=t.v3,c=t.quat,d=t.Vec3,f=t.isValid,m=t.Quat},function(t){_=t.LevelData},function(t){y=t.PlayerData},function(t){g=t.AudioDefine},function(t){v=t.ColDefine},function(t){C=t.EventId},function(t){w=t.EnemyLevel,E=t.LevelState,P=t.EnemyType},function(t){b=t.EventCenter},function(t){S=t.FSM},function(t){D=t.ConfigHelper,L=t.ConfigKey},function(t){A=t.EnemyHeler},function(t){V=t.CellBaseComp},function(t){x=t.CoordinateTrackerFixed},function(t){F=t.PlayerComp}],execute:function(){var T,W,k,H,O,R,B,G,z,M,I;r._RF.push({},"7d77ejf0hZPnrr7ROo7PiML","EnemyCellComp",void 0);var Q=a.ccclass,j=a.property,U=(t("EnemyCellComp",(T=Q("EnemyCellComp"),W=j(l),k=j(h),H=j({type:p(w)}),O=j(x),T((G=i((B=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"rig",G,o(i)),n(i,"col",z,o(i)),n(i,"enmeyLevel",M,o(i)),n(i,"hpTracker",I,o(i)),i._dumpCoin=0,i._maxHp=1,i._hp=0,i._bossOpen=!0,i._startForward=u(),i._tmpV3=u(),i._tmpQuat=c(),i._wPos=u(),i}e(i,t);var r=i.prototype;return r.onLoad=function(){this._fsm=new S(this)},r.onEnable=function(){var t,i,e;this.lastGround&&(this._bossOpen=!1),this.rig.setGroup(v.Group.Enemy),this.col.on("onCollisionEnter",this._onCollisionEnter,this),this.on(C.LevelSys.onStateChange,this._updateState),this.on(C.PlayerSys.bossReady,this._recvEnterBoss),this._dumpCoin=A.getDumpCoin(this.enmeyLevel),this._maxHp=null!=(t=null==(i=D.getConfig(L.EnemyHp))?void 0:i[this.enmeyLevel])?t:1,this.hp=this._maxHp,this._startForward.set(this.forward),this._updateState(),this.node.setScale(d.ONE.clone().multiplyScalar(null!=(e=this.param[1])?e:1))},r.update=function(t){this._hp>0&&this.node.position.y<=-5&&(this.lastGround?_.inst.levelState=E.RunFail:this.hp=0),this._fsm.update(t)},r.onDisable=function(){this.col.off("onCollisionEnter",this._onCollisionEnter,this),this.offAll(),this._fsm.reset()},r.onDestroy=function(){t.prototype.onDestroy.call(this),this._fsm.destroy()},r.hurt=function(t){this.hp-=t},r.toDied=function(){this.hp=0},r._recvEnterBoss=function(){this._bossOpen=!0,this._updateState()},r._updateState=function(){if(this.hp<=0)this._fsm.switch(N,void 0);else if(_.inst.levelState===E.Runing)if(this.lastGround)this._fsm.switch(K,{bossSlow:!0,limitAngle:360});else{var t=this.param[0];void 0===t||t===P.Static?this._fsm.switch(U,void 0):t===P.Move?this._fsm.switch(q,void 0):t===P.Tracker&&this._fsm.switch(K,{bossSlow:!1,limitAngle:15})}else this._fsm.switch(U,void 0)},r._onCollisionEnter=function(t){if(!("onCollisionEnter"!==t.type||this.hp<=0)){var i=t.otherCollider.node.getComponent(F);i&&f(i)&&(i.hurtFromEnemy(this.enmeyLevel),this.hp=0)}},r.moveToPlayer=function(t,i){var e,n=null!=(e=D.getConfig(L.EnemySp))?e:1;this.node.getWorldPosition(this._wPos),d.subtract(this._tmpV3,this.playerRolesPos,this._wPos).normalize();var o=i*Math.PI/180;Math.acos(d.dot(this._startForward,this._tmpV3))>=o?(d.multiplyScalar(this._tmpV3,this.forward,n*t),this._wPos.add(this._tmpV3),this.node.setWorldPosition(this._wPos)):(d.multiplyScalar(this._tmpV3,this._tmpV3,n*t),this._wPos.add(this._tmpV3),this.node.setWorldPosition(this._wPos),m.fromViewUp(this._tmpQuat,this._tmpV3,d.UP),this.node.setWorldRotation(this._tmpQuat))},r.moveForward=function(t){var i,e=null!=(i=D.getConfig(L.EnemySp))?i:1;d.multiplyScalar(this._tmpV3,this.forward,e*t),this.node.getWorldPosition(this._wPos).add(this._tmpV3),this.node.setWorldPosition(this._wPos)},r.getDisWithPlayer=function(){return this.node.getWorldPosition(this._wPos),d.distance(this._wPos,this.playerPos)},s(i,[{key:"dumpCoin",get:function(){return this._dumpCoin}},{key:"hp",get:function(){return this._hp},set:function(t){this._hp!==t&&(this._hp=t,this.hpTracker.progessBar.progess=t/this._maxHp,t<=0&&this._fsm.switch(N,void 0))}},{key:"bossOpen",get:function(){return this._bossOpen}}]),i}(V)).prototype,"rig",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(B.prototype,"col",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(B.prototype,"enmeyLevel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.default}}),I=i(B.prototype,"hpTracker",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=B))||R)),function(){function t(){this.onParamChange=void 0}var i=t.prototype;return i.onEnter=function(){this.target.playAni("idle")},i.update=function(t){},i.onExit=function(){},t}()),q=function(){function t(){this._open=!1,this.onParamChange=void 0}var i=t.prototype;return i.onEnter=function(){var t;this._open=!1,this.target.playAni("idle"),this._dis=null!=(t=D.getConfig(L.EnemyWithPlayerDis))?t:0},i.update=function(t){this._open?this.target.moveForward(t):(this._open=this.target.bossOpen&&this.target.getDisWithPlayer()<=this._dis,this._open&&this.target.playAni("run"))},i.onExit=function(){},t}(),K=function(){function t(){this._open=!1,this._bossSlow=1,this.onParamChange=void 0}var i=t.prototype;return i.onEnter=function(){var t,i;this._open=!1,this._bossSlow=null!=(t=D.getConfig(L.BossEnemySlow))?t:1,this.target.playAni("idle"),this._dis=null!=(i=D.getConfig(L.EnemyWithPlayerDis))?i:0},i.update=function(t){this.param.bossSlow&&(t*=this._bossSlow),this._open?this.target.moveToPlayer(t,this.param.limitAngle):(this._open=this.target.bossOpen&&this.target.getDisWithPlayer()<=this._dis,this._open&&this.target.playAni("run",this.param.bossSlow?this._bossSlow:1))},i.onExit=function(){},t}(),N=function(){function t(){this.param=void 0,this.onParamChange=void 0}var i=t.prototype;return i.onEnter=function(){var t=this;b.inst.emit(C.Audio.playTx,g.TxType.EnemyDied),_.inst.dumpCoin+=this.target.dumpCoin,y.inst.coin+=this.target.dumpCoin,this.target.rig.setGroup(v.Group.Died),b.inst.emit(C.GroundSys.showEnemyCoin,this.target.node),this.target.playAni("died",void 0,(function(){return t.target.destroyCell()}))},i.update=function(t){},i.onExit=function(){},t}();r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyCoinComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(e){"use strict";var n,t,i,o,r,a,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.SkeletalAnimation},function(e){s=e.BaseComponent}],execute:function(){var l,p,u,m,y;r._RF.push({},"a001cKMhe1O05wG0Qz1r+Xv","EnemyCoinComp",void 0);var f=a.ccclass,C=a.property;e("EnemyCoinComp",(l=f("EnemyCoinComp"),p=C(c),l((y=n((m=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"ani",y,o(n)),n}return t(n,e),n}(s)).prototype,"ani",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyHelper.ts",["cc","./PlayerData.ts","./RefDataMgr.ts"],(function(e){"use strict";var n,t,r,l;return{setters:[function(e){n=e.cclegacy},function(e){t=e.PlayerData},function(e){r=e.RefDataMgr,l=e.Ref}],execute:function(){n._RF.push({},"a5474rwIKJClJXV+/TFhflO","EnemyHelper",void 0);e("EnemyHeler",function(){function e(){}return e.getDumpCoin=function(e){var n,u,a=r.inst.getData(l.dumpCoin);if(null==a||!a.length)return 0;for(var i=t.inst.level,c=void 0,o=0;o<a.length;o++){var f=a[o],s=f.levelInterval,v=s[0],g=s[1];if(i>=v&&(i<=g||o===a.length-1)){c=f;break}}return null!=(n=null==(u=c)?void 0:u.enemyCoin[e])?n:0},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/EventCenter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(n){"use strict";var t,e,o,r;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n.director},function(n){r=n.Singleton}],execute:function(){e._RF.push({},"d7266WrNz9IXp3rsPd/Mrsq","EventCenter",void 0);n("EventCenter",function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var r=e.prototype;return r.on=function(n,t,e,r){o.on(n,t,e,r)},r.once=function(n,t,e){o.once(n,t,e)},r.emit=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];o.emit.apply(o,[n].concat(e))},r.off=function(n,t,e){o.off(n,t,e)},r.targetOff=function(n){o.targetOff(n)},e}(r()));e._RF.pop()}}}));

System.register("chunks:///_virtual/EventId.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var n,o;e("EventId",void 0),a._RF.push({},"0dbc90uPDZGrLuOhlHpTRxk","EventId",void 0),(o=n||(n=e("EventId",{}))).MainScene={addNodeToCanvas:"MainScene_addNodeToCanvas",mouseTouchStart:"MainScene_mouseTouchStart",mouseTouchMove:"MainScene_mouseTouchMove",mouseTouchEnd:"MainScene_mouseTouchEnd",loadLevelRes:"MainScene_loadLevelRes",unloadPreLevelRes:"MainScene_unloadPreLevelRes"},o.LoadingUI={addTasks:"LoadingUI_addTasks"},o.LevelSys={onStateChange:"LevelSys_onStateChange",onAgeChange:"LevelSys_onAgeChange"},o.PlayerSys={freshInitRole:"PlayerSys_freshInitRole",rotDir:"PlayerSys_rotDir",onWeaponLoop:"PlayerSys_onWeaponLoop",showWeaponColTx:"PlayerSys_showWeaponColTx",recoverWeapon:"PlayerSys_recoverWeapon",slowRunSpRatio:"PlayerSys_slowRunSpRatio",enterBossState:"PlayerSys_enterBossState",bossReady:"PlayerSys_bossReady"},o.GroundSys={onPlayerInGround:"GroundSys_onPlayerInGround",onPlayerInDoor:"GroundSys_onPlayerInDoor",showEnemyCoin:"GroundSys_showEnemyCoin",destroyCell:"GroundSys_destroyCell"},o.UICoordinateTrackerSys={setCamera:"UICoordinateTrackerSys_setCamera",show:"UICoordinateTrackerSys_show",lbChange:"UICoordinateTrackerSys_lbChange",progessBarChange:"UICoordinateTrackerSys_progessBarChange",disChange:"UICoordinateTrackerSys_disChange",hide:"UICoordinateTrackerSys_hide"},o.PalyerData={onLevelChange:"PlayerData_onLevelChange",onCoinChange:"PlayerData_onCoinChange",onInitOwnNumChange:"PlayerData_onInitOwnNumChange",onInitAgeChange:"PlayerData_onInitAgeChange",onInitAgeUpLvChange:"PlayerData_onInitAgeUpLvChange",onInitOwnNumUpLvChange:"PlayerData_onInitOwnNumUpLvChange",onAtkUpLvChange:"PlayerData_onAtkUpLvChange",onAtkRateUpLvChange:"PlayerData_onAtkRateUpLvChange",onAddSkin:"PlayerData_onAddSkin",onRemoveSkin:"PlayerData_onRemoveSkin"},o.DailyTaskData={onIdCompleteChange:"DailyTaskData_onIdCompleteChange",onIdProgChange:"DailyTaskData_onIdProgChange",addAdCnt:"DailyTaskData_addAdCnt",bigChange:"DailyTaskData_bigChange"},o.AD={watchSuc:"AD_watchSuc",watchFail:"AD_watchFail"},o.SettingData={onHapticChange:"SettingData_onHapticChange",onSoundChange:"SettingData_onSoundChange"},o.Audio={playBgm:"Audio_playBgm",playTx:"Audio_playTx"},a._RF.pop()}}}));

System.register("chunks:///_virtual/Extends.ts",["cc","./AudioDeine.ts","./EventId.ts","./EventCenter.ts"],(function(t){"use strict";var n,e,o,u,i;return{setters:[function(t){n=t.cclegacy,e=t.Button},function(t){o=t.AudioDefine},function(t){u=t.EventId},function(t){i=t.EventCenter}],execute:function(){var c;t("ButtonEx",void 0),n._RF.push({},"ed975ZHmw5OXYsWNnvdFPoa","Extends",void 0),(c||(c=t("ButtonEx",{}))).setClickDefaultSound=function(){var t=e.prototype;t.touchBeganClone||(t.touchBeganClone=e.prototype._onTouchEnded,e.prototype._onTouchEnded=function(t){this.interactable&&this.enabledInHierarchy&&i.inst.emit(u.Audio.playTx,o.TxType.Button),this.touchBeganClone(t)})},n._RF.pop()}}}));

System.register("chunks:///_virtual/FSM.ts",["cc","./Log.ts"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.LOG}],execute:function(){e._RF.push({},"47fd8PvWitDKbjrCBiP+/OJ","FSM",void 0);t("FSM",function(){function t(t){this._poolMap=new Map,this._activeStates=[],this.target=t}var e=t.prototype;return e.isActive=function(t){return!!this._getActive(t)},e.switch=function(t,e){var i=this._add(t,e),n=i[0],a=i[1];return this._exitOther(a),n},e.add=function(t,e){return this._add(t,e)[0]},e.update=function(t){this._activeStates.forEach((function(e){return e.update(t)}))},e.exit=function(t){return this._exit(t)},e.reset=function(){for(var t=this._activeStates.length-1;t>=0;--t){var e=this._activeStates[t];e&&(e.onExit(),this._put(e))}},e.destroy=function(){for(;this._activeStates.length;){this._activeStates.pop().onExit()}this._poolMap.clear()},e._getActive=function(t){return this._activeStates.find((function(e){return e.constructor===t}))},e._add=function(t,e){var n=this._getActive(t);return n?(n.param=e,n.onParamChange&&n.onParamChange(),i.W("[FSM] "+t.name+" has active, enter fail"),[!1,n]):((n=this._get(t)).param=e,n.onEnter(),n.onParamChange&&n.onParamChange(),[!0,n])},e._exit=function(t){var e=this._getActive(t);return e?(e.onExit(),this._put(e),!0):(i.W("[FSM] "+t.name+" not active, exit fail"),!1)},e._exitOther=function(t){var e=this,i=[];this._activeStates.forEach((function(e){e!==t&&i.push(e)})),i.forEach((function(t){t.onExit(),e._put(t)}))},e._get=function(t){var e,i=this._poolMap.get(t);return i&&(e=i.pop()),e||((e=new t).target=this.target),this._activeStates.push(e),e},e._put=function(t){var e=this._activeStates.findIndex((function(e){return e===t}));-1!==e&&this._activeStates.splice(e,1);var i=t.constructor,n=this._poolMap.get(i);n||(n=[],this._poolMap.set(i,n)),n.push(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GroundComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./Log.ts"],(function(e){"use strict";var t,i,n,o,r,s,u,l,a,c,m,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,u=e.Vec3,l=e.CCFloat,a=e.CCBoolean,c=e.MeshRenderer,m=e.isValid,p=e.v3},function(e){f=e.BaseComponent},function(e){h=e.LOG}],execute:function(){var d,b,y,z,g,C,v,P,x,M,S,w,R,G,L;r._RF.push({},"e5594HyLUVGDJZNXJKmLpEW","GroundComp",void 0);var B=s.ccclass,D=s.property;e("GroundComp",(d=B("GroundComp"),b=D(u),y=D(l),z=D(a),g=D({visible:function(){return this.isCustomSize}}),C=D({visible:function(){return this.isCustomSize}}),v=D({type:c,visible:function(){return!this.isCustomSize}}),d((M=t((x=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"anchor",M,o(t)),n(t,"cellPosy",S,o(t)),n(t,"isCustomSize",w,o(t)),n(t,"customMinPos",R,o(t)),n(t,"customMaxPos",G,o(t)),n(t,"meshRender",L,o(t)),t}return i(t,e),t.prototype.getSize=function(){var e,t,i;if(this.isCustomSize)e=this.customMinPos,t=this.customMaxPos,i=this.node.getWorldScale();else{var n,o,r,s,u=null==(n=this.meshRender)||null==(o=n.mesh)?void 0:o.struct;if(!u||!m(u))return void h.E("ground struct get fail");e=null!=(r=u.minPosition)?r:p(),t=null!=(s=u.maxPosition)?s:p(),i=this.meshRender.node.getWorldScale()}return{long:Math.max(t.z-e.z,0)*i.z,width:Math.max(t.x-e.x,0)*i.x}},t}(f)).prototype,"anchor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p()}}),S=t(x.prototype,"cellPosy",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=t(x.prototype,"isCustomSize",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=t(x.prototype,"customMinPos",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p()}}),G=t(x.prototype,"customMaxPos",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p()}}),L=t(x.prototype,"meshRender",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=x))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/GroundSpikesCellComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellBaseComp.ts","./PedalComp.ts"],(function(e){"use strict";var i,t,n,l,o,a,r,s,p,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,r=e.Animation,s=e.Collider},function(e){p=e.CellBaseComp},function(e){c=e.PedalComp}],execute:function(){var u,d,h,f,C,y,m,b,_;o._RF.push({},"10bb7rbjwBAzYqpFzsC5rjF","GroundSpikesCellComp",void 0);var v=a.ccclass,S=a.property;e("GroundSpikesCellComp",(u=v("GroundSpikesCellComp"),d=S(r),h=S(s),f=S(c),u((m=i((y=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"ani",m,l(i)),n(i,"col",b,l(i)),n(i,"pedal",_,l(i)),i}t(i,e);var o=i.prototype;return o.onLoad=function(){this.ani.__onHideSpikes__=this._hideSpikes.bind(this),this.pedal.onPlayerColEnter=this._playerColPedal.bind(this),this.col.node.active=!1},o.start=function(){if(this.ani.defaultClip){var e=this.ani.getState(this.ani.defaultClip.name);e.setTime(0),e.sample()}},o._hideSpikes=function(){this.col.node.active=!1},o._playerColPedal=function(e){this._playAni()},o._playAni=function(){this.col.node.active=!0,this.ani.play()},i}(p)).prototype,"ani",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(y.prototype,"col",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(y.prototype,"pedal",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=y))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/GroundSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BossCellComp.ts","./CellBaseComp.ts","./EnemyCoinComp.ts","./GroundComp.ts","./LevelData.ts","./PlayerData.ts","./EventId.ts","./LevelDefine.ts","./BaseComponent.ts","./EventCenter.ts","./LevelHelper.ts","./Log.ts","./NodeRecoverHandler.ts"],(function(t){"use strict";var e,o,n,r,i,a,s,l,d,u,h,c,f,p,_,y,g,v,P,N,G,C,w,m,R,S,b,E,x,D,F;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.createClass,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.CCFloat,d=t.isValid,u=t.Vec3,h=t.NodePool,c=t.v3,f=t.Node,p=t.Prefab,_=t.SkeletalAnimation},function(t){y=t.BossCellComp},function(t){g=t.CellBaseComp},function(t){v=t.EnemyCoinComp},function(t){P=t.GroundComp},function(t){N=t.LevelData},function(t){G=t.PlayerData},function(t){C=t.EventId},function(t){w=t.EulerY,m=t.PlayerInGroundType,R=t.LevelState,S=t.GroundDir},function(t){b=t.BaseComponent},function(t){E=t.EventCenter},function(t){x=t.LevelHelper},function(t){D=t.LOG},function(t){F=t.NodeRecoverHandler}],execute:function(){var z,k,L,I,B,M,O;a._RF.push({},"c85e61kLg1P85R/0yBtCnTT","GroundSys",void 0);var A=s.ccclass,H=s.property,Y=(t("GroundSys",(z=A("GroundSys"),k=H({type:l,tooltip:"地板距离玩家前方多少距离将会被裁剪"}),L=H({type:l,tooltip:"地板距离玩家后方多少距离将会被裁剪"}),z((M=e((B=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"cropForwardDis",M,i(e)),r(e,"cropBackDis",O,i(e)),e._groundNodePool=new h,e._pfbNodePool=new F,e._allGrounds=[],e._activeGrounds=[],e._playerGround=void 0,e._playerPos=c(-999,-999,-999),e._playerRolesPos=c(),e._playerForward=c(),e}n(e,t);var a=e.prototype;return a.onLoad=function(){this._updateState(),this.on(C.LevelSys.onStateChange,this._updateState),this.on(C.GroundSys.destroyCell,this._recvDestroyCell),this.on(C.GroundSys.showEnemyCoin,this._recvShowEnemyCoin)},a.update=function(t){var e;null==(e=this._playerGround)||e.onPlayerUpdate()},a.onDestroy=function(){t.prototype.onDestroy.call(this),this._groundNodePool.clear(),this._pfbNodePool.clear(),this._playerGround=void 0},a.genGroundNode=function(){var t;return null!=(t=this._groundNodePool.get())?t:new f},a.putGroundNode=function(t){this._groundNodePool.put(t)},a.genPfbNode=function(t){return this._pfbNodePool.get(t)},a.putPfbNode=function(t){this._pfbNodePool.put(t)},a.cropGround=function(t,e,o){this._playerPos.equals(t)&&this._playerForward.equals(o)||(this._playerPos.set(t),this._playerRolesPos.set(e),this._playerForward.set(o),this._showViewGround())},a._isActiveNode=function(t){return-1!==this._activeGrounds.findIndex((function(e){return t===e}))},a._updateState=function(){N.inst.levelState===R.RunBegin&&this._initAllData()},a._recvDestroyCell=function(t,e){var o=this._activeGrounds.find((function(e){return e.data.plateIdx===t}));o?e&&o.destroyCell(e):D.W(t+" ground not find, cell destoy fail")},a._recvShowEnemyCoin=function(t){var e=this;if(t&&d(t)){var o=x.getStyleCfgByLevel(G.inst.level);if(o){var n=x.getStyleRes(o,"enemyDiedCoin",p);if(n&&d(n)){var r=this.genPfbNode(n),i=r.getComponent(v);i&&d(i)?(r.setParent(this.node,!1),r.setWorldPosition(t.getWorldPosition()),r.setWorldRotation(t.getWorldRotation()),i.ani.once(_.EventType.FINISHED,(function(){return e.putPfbNode(r)})),i.ani.play()):this.putPfbNode(r)}}}},a._initAllData=function(){for(this._playerGround=void 0;this._activeGrounds.length;)this._activeGrounds.pop();for(;this._allGrounds.length;){var t=this._allGrounds.pop();null==t||t.hide()}var e=x.getLevelCfg(G.inst.level);if(e)for(var o,n=c(),r=c(),i=e.plates.length,a=0;a<i;a++){var s=this._getGroundData(e,a,n,r,o);s&&(this._allGrounds.push(new Y(this,s,a===i-1,i,this.playerPos,this._playerRolesPos,this._playerForward)),o=s)}},a._getGroundData=function(t,e,o,n,r){var i,a,s,l,u=this,h=x.getPlateCfg(t,e);if(h){var f=x.getStyleCfg(t);if(f){var p=x.getPlateRes(f,h);if(p&&d(p)){var _=this._pfbNodePool.get(p),y=_.getComponent(P);if(y&&d(y)){var g=y.anchor,v=y.getSize();this._pfbNodePool.put(_);var N=null!=(i=null==v?void 0:v.long)?i:0,G=null!=(a=null==v?void 0:v.width)?a:0;0===e&&(o.z-=N),this._addRot(n,r),this._fixRotPos(o,n,g,G,r),this._addPos(o,n,r);var C=o.clone(),w=n.clone(),m=null!=(s=null==(l=x.getCellGroupCfgs(h.cellgroup))?void 0:l.map((function(t){var e=x.getCellRes(f,t),o=u._calcCellPos(t.pos,y.cellPosy,N,G,g),n=c(0,t.y_euler,0),r=t.param;return{styleKey:t.styleKey,pfb:e,pos:o,euler:n,param:r}})))?s:[];return{level:t.level,plateIdx:e,cfg:h,platePfb:p,cells:m,anchor:g,long:N,width:G,pos:C,euler:w}}D.E("level:"+t.level+", plateId:"+h.id+",ground comp get fail")}}}},a._calcCellPos=function(t,e,o,n,r){var i=(t[0]+5)/10,a=(t[1]+5)/10;return c((1-r.x-i)*n,e,(a-r.z)*o)},a._addPos=function(t,e,o){if(o){var n,r=o.cfg.dir===S.Forward?o.long:o.width;switch(o.cfg.dir){case S.Forward:n=1-o.anchor.z;break;case S.Left:n=1-o.anchor.x;break;case S.Right:n=o.anchor.x;break;default:n=0}var i=r*n,a=x.calcEulerY(e.y);a===w.Forward?t.add3f(0,0,i):a===w.Left?t.add3f(i,0,0):a===w.Right?t.add3f(-i,0,0):a===w.Back&&t.add3f(0,0,-i)}},a._addRot=function(t,e){if(e){switch(e.cfg.dir){case S.Left:t.y+=90;break;case S.Right:t.y-=90}t.y%=360}},a._fixRotPos=function(t,e,o,n,r){if(r&&r.cfg.dir!==S.Forward){var i=n*(r.cfg.dir===S.Left?o.x:1-o.x),a=x.calcEulerY(e.y),s=x.calcEulerY(r.euler.y);a===w.Forward||a===w.Back?s===w.Right?t.add3f(i,0,0):s===w.Left&&t.add3f(-i,0,0):a!==w.Right&&a!==w.Left||(s===w.Forward?t.add3f(0,0,i):s===w.Back&&t.add3f(0,0,-i))}},a._showViewGround=function(){var t=this,e=0,o=[],n=[];for(this._activeGrounds=this._allGrounds.filter((function(e){var r=e.isPlayerFilter(t.cropForwardDis,t.cropBackDis),i=t._isActiveNode(e);if(r===m.Out)i&&o.push(e);else{var a;if(r===m.In)if(void 0===t._playerGround||e.data.plateIdx>t._playerGround.data.plateIdx)null==(a=t._playerGround)||a.onPlayerExit(),t._playerGround=e,e.onPlayerEnter();i||n.push(e)}return r!==m.Out}));o.length;){var r=o.pop();null==r||r.hide()}this.schedule((function o(){var r=n[e++];r?r.show():t.unschedule(o)}))},o(e,[{key:"playerPos",get:function(){return this._playerPos}},{key:"playerGround",get:function(){return this._playerGround}},{key:"playerNextGround",get:function(){if(this.playerGround)return this._allGrounds[this.playerGround.data.plateIdx+1]}}]),e}(b)).prototype,"cropForwardDis",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=e(B.prototype,"cropBackDis",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),I=B))||I)),t("Ground",function(){function t(t,e,o,n,r,i,a){this._node=void 0,this._groundNode=void 0,this._cellNodes=void 0,this._callPlayerMid=!1,this._withPlayerDir=c(),this._centerPos=c(),this._groundSys=t,this.data=e,this.lastGround=o,this.plateLen=n,this._playerPos=r,this._playerRolesPos=i,this._playerForward=a}var e=t.prototype;return e.show=function(){var t=this;if(!this._node||!d(this._node)){var e=this._groundSys.genGroundNode();e.name="ground"+this.data.plateIdx,e.setParent(this._groundSys.node,!1),e.setPosition(this.data.pos),e.setRotationFromEuler(this.data.euler),this._node=e}if(!this._groundNode||!d(this._groundNode)){var o=this._groundSys.genPfbNode(this.data.platePfb);o.setParent(this._node,!1),u.zero(o.position),o.setPosition(o.position),o.setRotationFromEuler(u.ZERO),this._groundNode=o}this._cellNodes||(this._cellNodes=[],this.data.cells.forEach((function(e){var o=t._groundSys.genPfbNode(e.pfb),n=o.getComponent(g);n&&d(n)&&n.setData(t.data.level,t.data.plateIdx,e,t._playerPos,t._playerRolesPos,t._playerForward,t.lastGround).setParam(e.param),o.setPosition(e.pos),o.setRotationFromEuler(e.euler),o.setParent(t._node,!1),t._cellNodes.push(o)})))},e.hide=function(){var t=this;this._cellNodes&&(this._cellNodes.forEach((function(e){return t._groundSys.putPfbNode(e)})),this._cellNodes=void 0),this._groundNode&&d(this._groundNode)&&(this._groundSys.putPfbNode(this._groundNode),this._groundNode=void 0),this._node&&d(this._node)&&(this._groundSys.putGroundNode(this._node),this._node=void 0)},e.getBossCell=function(){var t;if(null!=(t=this._cellNodes)&&t.length)return this._cellNodes.find((function(t){return!!t.getComponent(y)}))},e.destroyCell=function(t){var e=this.data.cells.indexOf(t);if(-1!==e&&this.data.cells.splice(e,1),this._cellNodes){var o=this._cellNodes[e];o&&d(o)&&(this._cellNodes.splice(e,1),this._groundSys.putPfbNode(o))}this._checkRunEnd()},e.isPlayerFilter=function(t,e){this._centerPos.set(this.data.pos);var o=x.calcEulerY(this.data.euler.y);o===w.Forward?(this._centerPos.z+=(.5-this.data.anchor.z)*this.data.long,this._centerPos.x+=(.5-this.data.anchor.x)*this.data.width):o===w.Left?(this._centerPos.x+=(.5-this.data.anchor.z)*this.data.long,this._centerPos.z+=(.5-this.data.anchor.x)*this.data.width):o===w.Right?(this._centerPos.x-=(.5-this.data.anchor.z)*this.data.long,this._centerPos.z-=(.5-this.data.anchor.x)*this.data.width):o===w.Back&&(this._centerPos.z-=(.5-this.data.anchor.z)*this.data.long,this._centerPos.x-=(.5-this.data.anchor.x)*this.data.width);var n=u.subtract(this._withPlayerDir,this._centerPos,this._playerPos).normalize(),r=u.angle(n,this._playerForward)/Math.PI*180,i=u.distance(this._centerPos,this._playerPos);return r<=120?i>=t?m.Out:i<=this.data.long/2?m.In:m.InDis:i>=e?m.Out:m.InDis},e.onPlayerEnter=function(){var t;E.inst.emit(C.PlayerSys.rotDir,this.data.cfg.dir),E.inst.emit(C.GroundSys.onPlayerInGround,this),null==(t=this._cellNodes)||t.forEach((function(t){var e=t.getComponent(g);e&&d(e)&&e.onPlayerEnterGround()})),this._checkRunEnd()},e.onPlayerUpdate=function(){this._checkPlayerMid()&&this._onPlayerMid()},e.onPlayerExit=function(){this._callPlayerMid||this._onPlayerMid()},e._checkPlayerMid=function(){var t=x.calcEulerY(this.data.euler.y);if(t===w.Forward){var e=this.data.long*(.5-this.data.anchor.z);return this._playerPos.z>=this.data.pos.z+e}if(t===w.Left){var o=this.data.long*(.5-this.data.anchor.z);return this._playerPos.x>=this.data.pos.x+o}if(t===w.Right){var n=this.data.long*(.5-this.data.anchor.z);return this._playerPos.x<=this.data.pos.x-n}if(t===w.Back){var r=this.data.long*(.5-this.data.anchor.z);return this._playerPos.z<=this.data.pos.z-r}return!1},e._onPlayerMid=function(){this._callPlayerMid||(this._callPlayerMid=!0)},e._checkRunEnd=function(){this.lastGround&&!this.data.cells.length&&(N.inst.levelState=R.RunPass)},o(t,[{key:"groundNode",get:function(){return this._groundNode}}]),t}()));a._RF.pop()}}}));

System.register("chunks:///_virtual/GrounpPedalComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./PedalComp.ts"],(function(e){"use strict";var t,i,n,a,o,l,r,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Animation},function(e){p=e.BaseComponent},function(e){s=e.PedalComp}],execute:function(){var u,c,d,f,h,m,C;o._RF.push({},"7bf34+aSuRId6axAjgCx+gO","GrounpPedalComp",void 0);var y=l.ccclass,P=l.property;e("GrounpPedalComp",(u=y("GrounpPedalComp"),c=P(s),d=P(r),u((m=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"pedal",m,a(t)),n(t,"ani",C,a(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.pedal.onPlayerColEnter=this._onPlayerColPedal.bind(this)},o.onEnable=function(){if(this.ani.defaultClip){var e=this.ani.getState(this.ani.defaultClip.name);e.setTime(0),e.sample()}},o._onPlayerColPedal=function(e){if(this.ani.defaultClip&&this.ani.getState(this.ani.defaultClip.name).isPlaying)return;this.ani.play()},t}(p)).prototype,"pedal",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(h.prototype,"ani",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventId.ts","./LevelDefine.ts","./EventCenter.ts","./Singleton.ts"],(function(t){"use strict";var e,n,i,u,o,s,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){u=t.EventId},function(t){o=t.LevelState},function(t){s=t.EventCenter},function(t){a=t.Singleton}],execute:function(){i._RF.push({},"5b9e3TY/bVNyr8TGKqfwsB0","LevelData",void 0);t("LevelData",function(t){function i(){for(var e,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))||this)._levelState=o.RunBegin,e.runSpeed=10,e.horizontalSpeed=5,e._dumpCoin=0,e._age=0,e._ownNum=0,e}return e(i,t),n(i,[{key:"levelState",get:function(){return this._levelState},set:function(t){this._levelState!==t&&(this._levelState=t,t===o.RunBegin&&(this.dumpCoin=0),s.inst.emit(u.LevelSys.onStateChange))}},{key:"dumpCoin",get:function(){return this._dumpCoin},set:function(t){this._dumpCoin!==t&&(this._dumpCoin=t)}},{key:"age",get:function(){return this._age},set:function(t){if(t=Math.max(t,0),this._age!==t){var e=this._age;this._age=Math.round(t),s.inst.emit(u.LevelSys.onAgeChange,t,e)}}},{key:"ownNum",get:function(){return this._ownNum},set:function(t){t=Math.max(t,0),this._ownNum!==t&&(this._ownNum=t,this._ownNum<=0&&(i.inst.levelState=o.RunFail))}}]),i}(a()));i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDefine.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var i,o,t,r,u,a,c,d;e({EnemyLevel:void 0,EnemyType:void 0,EulerY:void 0,GroundDir:void 0,LevelState:void 0,PlayerInGroundType:void 0,SkinType:void 0,WeaponType:void 0}),n._RF.push({},"77266SMgopLnZQpynWzBdfd","LevelDefine",void 0),function(e){e[e.RunLoading=0]="RunLoading",e[e.RunBegin=1]="RunBegin",e[e.Runing=2]="Runing",e[e.RunPass=3]="RunPass",e[e.RunFail=4]="RunFail"}(i||(i=e("LevelState",{}))),function(e){e[e.Forward=0]="Forward",e[e.Left=1]="Left",e[e.Right=2]="Right"}(o||(o=e("GroundDir",{}))),function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.Back=4]="Back"}(t||(t=e("EulerY",{}))),function(e){e[e.Out=0]="Out",e[e.In=1]="In",e[e.InDis=2]="InDis"}(r||(r=e("PlayerInGroundType",{}))),function(e){e[e.base=1]="base",e[e.adv=2]="adv",e[e.nft=3]="nft"}(u||(u=e("SkinType",{}))),function(e){e[e.default=0]="default",e[e.adv=1]="adv",e[e.Boss=2]="Boss"}(a||(a=e("EnemyLevel",{}))),function(e){e[e.Static=0]="Static",e[e.Move=1]="Move",e[e.Tracker=2]="Tracker"}(c||(c=e("EnemyType",{}))),function(e){e[e.Decors=0]="Decors",e[e.Throw=1]="Throw",e[e.Melee=2]="Melee",e[e.Gun=3]="Gun",e[e.Laser=4]="Laser",e[e.OnlyLaser=5]="OnlyLaser"}(d||(d=e("WeaponType",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelHelper.ts",["cc","./LevelDefine.ts","./LoadMgr.ts","./CheckValue.ts","./Log.ts","./RefDataMgr.ts","./StyleHelper.ts","./Utils.ts"],(function(e){"use strict";var t,n,r,a,l,i,u,f,g,c,o,s,v;return{setters:[function(e){t=e.cclegacy,n=e.Prefab,r=e.isValid,a=e.TextureCube},function(e){l=e.EulerY},function(e){i=e.LoadMgr},function(e){u=e.IS_NUM,f=e.IS_STR_NOT_EMPTY},function(e){g=e.LOG},function(e){c=e.RefDataMgr,o=e.Ref},function(e){s=e.StyleHelper},function(e){v=e.Utils}],execute:function(){t._RF.push({},"f508bMGiB5AmYEb8bc0Za3d","LevelHelper",void 0),e("LevelHelper",function(){function e(){}return e.getMaxLevel=function(){var t;if(void 0!==this._maxLevel&&u(e._maxLevel))return this._maxLevel;var n=null==(t=e.getLevelCfgs())?void 0:t.map((function(e){return e.level}));return n?(this._maxLevel=Math.max.apply(Math,n),this._maxLevel):(this._maxLevel=0,this._maxLevel)},e.getLevelCfgs=function(){return c.inst.getData(o.level)},e.getLevelCfg=function(e){var t,n=null==(t=c.inst.getDic(o.level))?void 0:t.get(e);return n||g.E(e+" lv cfg get fail"),n},e.getStyleCfg=function(e){return s.getStyleCfg(e.style)},e.getStyleCfgByLevel=function(t){var n=e.getLevelCfg(t);if(n)return s.getStyleCfg(n.style)},e.getPlateCfg=function(e,t){var n,r=e.plates[t],a=null==(n=c.inst.getDic(o.plate))?void 0:n.get(r);return a||g.E(r+" plate cfg get fail"),a},e.getPlateCfgByLevel=function(t,n){var r=e.getLevelCfg(t);if(r)return e.getPlateCfg(r,n)},e.getCellGroupCfgs=function(e){var t;if(0!==e.length){var n=null==(t=c.inst.getData(o.cell))?void 0:t.filter((function(t){return e.some((function(e){return e===t.id}))}));return(null==n?void 0:n.length)||g.E(e+" cell cfgs get fail"),n}},e.getAniCfg=function(e,t){var n=c.inst.getData(o.ani);if(null!=n&&n.length)return n.find((function(n){return n.style===e&&n.name===t}))},e.resParse=function(t){var r=e.getLevelCfg(t);if(!r)return[];var l=e.getStyleCfg(r);if(!l)return[];var i=s.getResHead(l),u=[];for(var g in l){var v=g,d=l[v];if(f(d))switch(v){case"skybox":u.push({path:i+d,type:a});break;case"enemyDiedCoin":u.push({path:i+d,type:n})}}var p=r.plates.filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){var t;return null==(t=c.inst.getDic(o.plate))?void 0:t.get(e)}));return p.filter((function(e,t,n){var r=null==e?void 0:e.ground;return n.findIndex((function(e){return(null==e?void 0:e.ground)===r}))===t})).forEach((function(e){e&&f(e.ground)&&u.push({path:i+e.ground,type:n})})),p.forEach((function(t){if(t){var r=e.getCellGroupCfgs(t.cellgroup);null!=r&&r.length&&r.forEach((function(e){var t=i+""+l[e.styleKey];u.push({path:t,type:n})}))}})),u},e.getAgeRange=function(t,n){var r=e.getLevelCfg(t);if(!r)return[0,0];var a=n,l=n;return r.plates.forEach((function(t){var n,r=null==(n=c.inst.getDic(o.plate))?void 0:n.get(t);if(r){var i=e.getCellGroupCfgs(r.cellgroup);null!=i&&i.length&&i.forEach((function(t){"yeardoor"!==t.styleKey&&"deyeardoor"!==t.styleKey||(a=Math.min(a,e.calcAgeDoorParam(a,t.param)),l=Math.max(l,e.calcAgeDoorParam(l,t.param)))}))}})),[a,l]},e.getStyleRes=function(e,t,n){if(e){var a=s.getResHead(e)+""+e[t],l=i.inst.get(a,n);return!l&&!r(l)&&g.E("style:"+e.id+","+t+",pfb get fail"),l}},e.getPlateRes=function(e,t){if(e&&t){var a=s.getResHead(e)+""+t.ground,l=i.inst.get(a,n);return!l&&!r(l)&&g.E("style:"+e.id+",plateId:"+t.id+",plate pfb get fail"),l}},e.getCellRes=function(e,t){var a=s.getResHead(e)+""+e[t.styleKey],l=i.inst.get(a,n);return!l&&!r(l)&&g.E("style:"+e.id+",cell type:"+t.styleKey+",pfb get fail"),l},e.getAniName=function(t,n,r){var a,l,i=e.getAniCfg(t,n);return null!=(a=null==i||null==(l=i[r])?void 0:l.toString())?a:""},e.getAniNameByStyleCfg=function(t,n,r){var a,l,i=e.getAniCfg(t.id,t[n]);return null!=(a=null==i||null==(l=i[r])?void 0:l.toString())?a:""},e.calcAgeDoorParam=function(e,t){if((null==t?void 0:t.length)<3)return e;var n;switch(t[0]){case"YEARS":n=e;break;case"MONTHS":n=12*e;break;case"WEEKS":n=12*e*4;break;case"DAYS":n=12*e*4*7;break;default:n=e}var r,a=this.calcDoorParam(n,t.slice(1));switch(t[0]){case"YEARS":r=a;break;case"MONTHS":r=Number((a/12).toFixed(2));break;case"WEEKS":r=Number((a/12/4).toFixed(2));break;case"DAYS":r=Number((e/12/4/7).toFixed(2));break;default:r=a}return r},e.calcDoorParam=function(e,t){if((null==t?void 0:t.length)<2)return e;var n,r=Number(t[1]);switch(t[0]){case"+":n=e+r;break;case"-":n=e-r;break;case"÷":case"/":n=e/r;break;case"*":case"x":n=e*r;break;default:n=e}return n},e.calcEulerY=function(e,t){return void 0===t&&(t=.1),v.equals(e,0,t)?l.Forward:v.equals(e,90,t)||v.equals(e,-270,t)?l.Left:v.equals(e,-90,t)||v.equals(e,270,t)?l.Right:v.equals(e,180,t)||v.equals(e,-180,t)?l.Back:l.None},e}())._maxLevel=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./PlayerData.ts","./EventId.ts","./LevelDefine.ts","./BaseComponent.ts","./EventCenter.ts","./MainUI.ts","./RunResultFailUI.ts","./RunResultPassUI.ts","./RunResultUpGradeUI.ts","./RuningUI.ts","./ConfigHelper.ts","./LevelHelper.ts","./CameraSys.ts","./GroundSys.ts","./PlayerSys.ts","./SkyboxSys.ts"],(function(e){"use strict";var t,s,a,i,o,n,r,l,y,u,c,p,h,f,S,_,P,d,m,g,v,R,x,b,C,L,w,z,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,r=e.v3,l=e.quat,y=e.equals,u=e.math},function(e){c=e.LevelData},function(e){p=e.PlayerData},function(e){h=e.EventId},function(e){f=e.LevelState,S=e.EulerY},function(e){_=e.BaseComponent},function(e){P=e.EventCenter},function(e){d=e.MainUI},function(e){m=e.RunResultFailUI},function(e){g=e.RunResultPassUI},function(e){v=e.RunResultUpGradeUI},function(e){R=e.RuningUI},function(e){x=e.ConfigHelper,b=e.ConfigKey},function(e){C=e.LevelHelper},function(e){L=e.CameraSys},function(e){w=e.GroundSys},function(e){z=e.PlayerSys},function(e){I=e.SkyboxSys}],execute:function(){var k,U,F,D,G,B,Q,T,E,Y,H;o._RF.push({},"6d713YeJiZF+J+gQqZ259sz","LevelSys",void 0);var M=n.ccclass,W=n.property;e("LevelSys",(k=M("LevelSys"),U=W(L),F=W(z),D=W(I),G=W(w),k((T=t((Q=function(e){function t(){for(var t,s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,a(t,"cameraSys",T,i(t)),a(t,"playerSys",E,i(t)),a(t,"skyboxSys",Y,i(t)),a(t,"groundSys",H,i(t)),t._cameraPos=r(),t._playerPos=r(),t._playerRolesPos=r(),t._cameraTargetPos=r(),t._cameraTargetQuat=l(),t._initCameraPos=r(),t._initCameraQuat=l(),t._initSkyboxY=0,t}s(t,e);var o=t.prototype;return o.onLoad=function(){this._initCameraPos.set(this.cameraSys.node.position),this._initCameraQuat.set(this.cameraSys.node.rotation),this._initSkyboxY=this.skyboxSys.node.getPosition().y},o.start=function(){this._onStateChange(),this.on(h.LevelSys.onStateChange,this._onStateChange)},o.lateUpdate=function(e){this._cropGround(),this._fixPlayerDirPos(e),this._cameraFollow(),this._skyBoxFollow()},o._onStateChange=function(){var e=c.inst.levelState;if(e===f.RunBegin)this._resetCamera(),d.show();else if(e===f.RunPass)1===p.inst.level?g.show():v.show();else if(e===f.RunFail)m.show();else if(e===f.RunLoading)P.inst.emit(h.MainScene.loadLevelRes,p.inst.level,p.inst.initAge,(function(){P.inst.emit(h.MainScene.unloadPreLevelRes),c.inst.levelState=f.RunBegin}));else if(e===f.Runing){var t={yearNode:this.playerSys.year,cam:this.cameraSys.camera,dis:8};R.show(t)}},o._resetCamera=function(){this.cameraSys.node.setPosition(this._initCameraPos),this.cameraSys.node.setRotation(this._initCameraQuat)},o._cropGround=function(){this.playerSys.node.getWorldPosition(this._playerPos),this.playerSys.roles.getWorldPosition(this._playerRolesPos),this.groundSys.cropGround(this._playerPos,this._playerRolesPos,this.playerSys.playerForward)},o._fixPlayerDirPos=function(e){var t;if(this.groundSys.playerGround){var s=this.groundSys.playerNextGround;if(s){var a=s.data.euler.y,i=null!=(t=x.getConfig(b.PlayerRotSp))?t:1,o=C.calcEulerY(a);if(o===S.Forward){var n=s.data.pos.x;if(y(this._playerPos.x,n))return;this._playerPos.x=u.lerp(this._playerPos.x,n,e*i)}else if(o===S.Left){var r=s.data.pos.z;if(y(this._playerPos.z,r))return;this._playerPos.z=u.lerp(this._playerPos.z,r,e*i)}else if(o===S.Right){var l=s.data.pos.z;if(y(this._playerPos.z,l))return;this._playerPos.z=u.lerp(this._playerPos.z,l,e*i)}else{if(o!==S.Back)return;var c=s.data.pos.x;if(y(this._playerPos.x,c))return;this._playerPos.x=u.lerp(this._playerPos.x,c,e*i)}this.playerSys.node.setWorldPosition(this._playerPos)}}},o._cameraFollow=function(){var e=this.playerSys.cameraInfo.node;e.getWorldPosition(this._cameraTargetPos),e.getWorldRotation(this._cameraTargetQuat),this.cameraSys.followPlayer(this._cameraTargetPos,this._cameraTargetQuat,this.playerSys.cameraInfo.fov)},o._skyBoxFollow=function(){this.cameraSys.node.getPosition(this._cameraPos),this.skyboxSys.node.setPosition(this._cameraPos.x,this._initSkyboxY,this._cameraPos.z)},t}(_)).prototype,"cameraSys",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(Q.prototype,"playerSys",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(Q.prototype,"skyboxSys",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(Q.prototype,"groundSys",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=Q))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/ListContentRender.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListItemRender.ts"],(function(e){"use strict";var t,n,r,o,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.UIRenderer},function(e){s=e.ListItemRender}],execute:function(){var i;n._RF.push({},"4ae52SArXBB/JZsbUB1fk4M","ListContentRender",void 0);var a=r.ccclass;r.property,e("ListContentRender",a("ListContentRender")(i=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._maxLevel=1,t}t(n,e);var r=n.prototype;return r.onDisable=function(){this._maxLevel=1},r.updateAssembler=function(e){},r.postUpdateAssembler=function(e){for(var t=this,n=function(n){t.node.children.forEach((function(r){var o,i=null!=(o=r.getComponent(s))?o:r.addComponent(s);t._maxLevel=Math.max(i.__getRenderCnt(),t._maxLevel),i.__renderUI(n,e)}))},r=0;r<this._maxLevel;r++)n(r)},n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/ListItemRender.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./ListContentRender.ts"],(function(e){"use strict";var n,r,t,i,_,s,o,d;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator,i=e.Node,_=e.isValid,s=e.UIRenderer},function(e){o=e.BaseComponent},function(e){d=e.ListContentRender}],execute:function(){var h;r._RF.push({},"3588cHUGNNPJJt7IN9hwJJd","ListItemRender",void 0);var c=t.ccclass;t.property,e("ListItemRender",c("ListItemRender")(h=function(e){function r(){for(var n,r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return(n=e.call.apply(e,[this].concat(t))||this).m_renders=[],n.m_renderLen=0,n}n(r,e);var t=r.prototype;return t.onLoad=function(){this.node.on(i.EventType.PARENT_CHANGED,this._recvParentChange,this)},t.onEnable=function(){var e=this;this.__redefineInit(),this.node.walk((function(n){n.on(i.EventType.ACTIVE_IN_HIERARCHY_CHANGED,e._recvChildChange,e),n.on(i.EventType.CHILD_ADDED,e._recvChildChange,e),n.on(i.EventType.CHILD_REMOVED,e._recvChildChange,e)}))},t.onDiable=function(){var e=this;this.node.walk((function(n){n.off(i.EventType.ACTIVE_IN_HIERARCHY_CHANGED,e._recvChildChange,e),n.off(i.EventType.CHILD_ADDED,e._recvChildChange,e),n.off(i.EventType.CHILD_REMOVED,e._recvChildChange,e)})),this.___redefineReset()},t._recvParentChange=function(){_(this.node.parent)&&_(this.node.parent.getComponent(d))||this.___redefineReset()},t._recvChildChange=function(e){var n=this;e.walk((function(e){e.on(i.EventType.ACTIVE_IN_HIERARCHY_CHANGED,n._recvChildChange,n),e.on(i.EventType.CHILD_ADDED,n._recvChildChange,n),e.on(i.EventType.CHILD_REMOVED,n._recvChildChange,n)})),this.unschedule(this.__freshRender),this.scheduleOnce(this.__freshRender,.2)},t.__getRenderCnt=function(){return this.m_renderLen},t.__redefineInit=function(){this.m_renders=this.node.getComponentsInChildren(s),this.m_renderLen=this.m_renders.length,this.m_renders.forEach((function(e){var n=e;null==n._realRenderFunc&&(n._realRenderFunc=n._render,n._render=function(){})}))},t.___redefineReset=function(){this.m_renders.forEach((function(e){var n=e;null!=n._realRenderFunc&&(n._render=n._realRenderFunc,n._realRenderFunc=null)})),this.m_renders=[],this.m_renderLen=0},t.__freshRender=function(){this.___redefineReset(),this.__redefineInit()},t.__renderUI=function(e,n){var r=this.m_renders[e];return!!r&&(r._realRenderFunc&&r._assembler&&r._renderFlag&&r.enabledInHierarchy&&r._realRenderFunc(n),!0)},r}(o))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventId.ts","./PathDefine.ts","./CheckValue.ts","./BaseUI.ts"],(function(e){"use strict";var t,n,r,a,i,s,o,u,c,l,p,f,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,c=e.Label,l=e.ProgressBar},function(e){p=e.EventId},function(e){f=e.PathDefine},function(e){h=e.IS_STR},function(e){d=e.BaseUI}],execute:function(){var b,g,k,v,m,_,T,x,y,L;o._RF.push({},"5e161Oh6v1AmZw6+/bM+Rho","LoadingUI",void 0);var I=u.ccclass,w=u.property;e("LoadingUI",(b=I("LoadingUI"),g=w(c),k=w(c),v=w(l),b(((L=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"titleLb",T,a(t)),r(t,"detailLb",x,a(t)),r(t,"progBar",y,a(t)),t._mainTasks=[],t._mainCompletes=[],t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.on(p.LoadingUI.addTasks,this._recvAddTasks)},o._recvAddTasks=function(e,t){var n;if(null!=e&&e.length){var r=this._mainTasks.length;(n=this._mainTasks).push.apply(n,e),t&&this._mainCompletes.push(t),r||this._runMainTask()}},o._runMainTask=function(){var e=i(s().mark((function e(){var t,n,r,a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=0,e.next=3,this._runTask(this.titleLb,this._mainTasks,(function(e,r){a.progBar.progress=e/r,t=e,n=r}),i(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&r.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a._runTask(a.detailLb,r,(function(e,r){return a.progBar.progress=(t+e/r)/n}));case 4:case"end":return e.stop()}}),e)}))));case 3:for(;this._mainCompletes.length;)(r=this._mainCompletes.shift())&&r();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o._runTask=function(){var e=i(s().mark((function e(t,n,r,a){var i,o,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&n.length){e.next=2;break}return e.abrupt("return");case 2:i=0,o=n.length;case 4:if(!n.length){e.next=22;break}if(u=n.shift()){e.next=8;break}return e.abrupt("continue",4);case 8:return u.des&&h(u.des)?(t.node.active=!0,t.string=u.des):t.node.active=!1,r(i,o),e.next=12,u.doTask();case 12:if(c=e.sent,this.isValid){e.next=15;break}return e.abrupt("break",22);case 15:if(e.t0=a,!e.t0){e.next=19;break}return e.next=19,a(c);case 19:r(++i,o),e.next=4;break;case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),t}(d)).prefabPath=f.loadingUI,T=t((_=L).prototype,"titleLb",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(_.prototype,"detailLb",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(_.prototype,"progBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=_))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoadMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts","./Singleton.ts","./LoadUtils.ts"],(function(e){"use strict";var t,n,a,r,i,o,s,c,u;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e.resources,o=e.isValid},function(e){s=e.LOG},function(e){c=e.Singleton},function(e){u=e.LoadUtils}],execute:function(){r._RF.push({},"063426dVA5I07dzNEJiF/ii","LoadMgr",void 0);e("LoadMgr",function(e){function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this)._cacheMap=new Map,t._loadingMap=new Map,t._waitUnloadSet=new Set,t}t(r,e);var c=r.prototype;return c.onDestroy=function(){i.releaseUnusedAssets()},c.get=function(e,t){var n=u.genKey(e,t);return this._cacheMap.get(n)},c.load=function(){var e=n(a().mark((function e(t,n){var r,c,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u.genKey(t,n),l=this._cacheMap.get(c),!o(l)){e.next=5;break}return l.addRef(),e.abrupt("return",l);case 5:return this._waitUnloadSet.delete(c),d=null!=(r=this._loadingMap.get(c))?r:new Promise((function(e,a){i.load(t,n,(function(t,n){t?(s.E("[LoadMgr] "+c+" load fail || "+t),e(void 0)):e(n)}))})),e.next=9,d;case 9:if(l=e.sent,this._loadingMap.delete(c),!this._waitUnloadSet.has(c)){e.next=15;break}return this._waitUnloadSet.delete(c),this.unload(t,n),e.abrupt("return",void 0);case 15:return o(l)&&(this._cacheMap.set(c,l),l.addRef()),e.abrupt("return",l);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),c.unload=function(e,t){var n=u.genKey(e,t);if(this._loadingMap.has(n))return this._waitUnloadSet.add(n),!1;var a=this._cacheMap.get(n);return o(a)?(a.decRef(),a.refCount<=0&&(this._cacheMap.delete(n),i.release(e,t),!0)):(s.W("[LoadMgr] unload fail "+n),!1)},c.unloadAll=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._loadingMap.size){e.next=3;break}return e.next=3,Promise.all(this._loadingMap.values());case 3:this._cacheMap.forEach((function(e){return e.destroy()})),this._cacheMap.clear(),this._loadingMap.clear(),this._waitUnloadSet.clear();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r}(c()));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadUser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadMgr.ts"],(function(n){"use strict";var r,t,e,u,s;return{setters:[function(n){r=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){e=n.cclegacy,u=n.isValid},function(n){s=n.LoadMgr}],execute:function(){function o(){return(o=r(t().mark((function n(r){var e;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.resInfos.map((function(n){return s.inst.load(n.path,n.type)})),n.next=3,Promise.all(e);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function a(){return(a=r(t().mark((function n(r,e,o){var a,p;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i(r)){n.next=2;break}return n.abrupt("return",void 0);case 2:if(!f(r,e,o)){n.next=10;break}if(!(a=s.inst.get(e,o))||!u(a)){n.next=9;break}return a.addRef(),n.abrupt("return",a);case 9:c(r,e,o);case 10:return n.next=12,s.inst.load(e,o);case 12:if(p=n.sent,!i(r)){n.next=16;break}return s.inst.unload(e,o),n.abrupt("return",void 0);case 16:return r.resInfos.push({path:e,type:o}),n.abrupt("return",p);case 18:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function i(n){var r;return null==(r=null==n?void 0:n.loadInterrupt)||r}function c(n,r,t){var e=n.resInfos.findIndex((function(n){return n.path===r&&n.type===t}));e>=0&&(n.resInfos[e]=n.resInfos[n.resInfos.length-1],n.resInfos.length--)}function f(n,r,t){return n.resInfos.some((function(n){return n.path===r&&n.type===t}))}n({IS_USER_INTERRUPT:i,LOAD_TO_USER:function(n,r,t){return a.apply(this,arguments)},LOAD_USER:function(n){return o.apply(this,arguments)},UNLOAD_FROM_USER:function(n,r,t){return!(i(n)||!f(n,r,t))&&(c(n,r,t),s.inst.unload(r,t))},UNLOAD_USER:function(n){n.loadInterrupt=!0;for(;n.resInfos.length;){var r=n.resInfos.pop();s.inst.unload(r.path,r.type)}}}),e._RF.push({},"5978belkfdCpLkPlpj8TLyC","LoadUser",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadUtils.ts",["cc","./ClassNameSign.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.getCtorClassName}],execute:function(){n._RF.push({},"0c1d6V1BWNN1Z2+5XJUndvR","LoadUtils",void 0);t("LoadUtils",function(){function t(){}return t.genKey=function(t,n){return t+"#"+e(n)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LocalHandler.ts",["cc","./LocalStorage.ts"],(function(t){"use strict";var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.LocalStorage}],execute:function(){a._RF.push({},"053ddpzZGpMsLgoDB7MD7oZ","LocalHandler",void 0);t("LocalHandler",function(){function t(t){this._data=void 0,this._delayId=-1,this._key=t}var a=t.prototype;return a.getData=function(){return null!=this._data||(this._data=e.getObj(this._key)),this._data},a.setValue=function(t,a){var i=this;null!=this._data||(this._data=e.getObj(this._key)),this._data||(this._data={}),this._data[t]=a,this.clearDelay(),this._delayId=setTimeout((function(){e.set(i._key,JSON.stringify(i._data))}),500)},a.clearDelay=function(){-1!==this._delayId&&(clearTimeout(this._delayId),this._delayId=-1)},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorage.ts",["cc","./CheckValue.ts","./Log.ts"],(function(t){"use strict";var e,a,r;return{setters:[function(t){e=t.cclegacy},function(t){a=t.IS_NUM},function(t){r=t.LOG}],execute:function(){var c;t("LocalKey",void 0),e._RF.push({},"0e04bEZ99VGLrIJg1m5pG0q","LocalStorage",void 0),function(t){t[t.OnlineTime=0]="OnlineTime",t[t.PlayerData=1]="PlayerData",t[t.DailyTaskData=2]="DailyTaskData",t[t.SettingData=3]="SettingData"}(c||(c=t("LocalKey",{})));t("LocalStorage",function(){function t(){}return t.getStr=function(t){var e=void 0;try{e=localStorage.getItem(c[t])}catch(e){r.E("[LocalStorage] get "+c[t]+" fail,"+e)}return e},t.getNum=function(e){var r=t.getStr(e);if(!r)return null;var c=Number(r);return a(c)?c:null},t.getObj=function(e){var a,r=t.getStr(e);if(!r)return null;try{a=JSON.parse(r)}catch(t){a=null}return a},t.set=function(t,e){try{localStorage.setItem(c[t],e)}catch(a){r.E("[LocalStorage] set key:"+c[t]+" value:"+e+" fail,"+a)}},t.delete=function(t){try{localStorage.removeItem(c[t])}catch(e){r.E("[LocalStorage] delete "+c[t]+" fail,"+e)}},t.clear=function(){try{localStorage.clear()}catch(t){r.E("[LocalStorage] clear fail,"+t)}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Log.ts",["cc"],(function(o){"use strict";var n;return{setters:[function(o){n=o.cclegacy}],execute:function(){var t;o("LOG",void 0),n._RF.push({},"9927eKF0AtOeqfzt4HmbtKc","Log",void 0),function(o){o[o.Log=1]="Log",o[o.Warn=2]="Warn",o[o.Err=4]="Err"}(t||(t={}));var c,r=t.Log|t.Warn|t.Err;!function(o){function n(){}o.L=r&t.Log?Function.prototype.bind.call(console.log,console):Function.prototype.bind.call(n,void 0),o.W=r&t.Warn?Function.prototype.bind.call(console.warn,console):Function.prototype.bind.call(n,void 0),o.E=r&t.Err?Function.prototype.bind.call(console.error,console):Function.prototype.bind.call(n,void 0)}(c||(c=o("LOG",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./App.ts","./LocalStorage.ts","./Persist.ts","./BossCellComp.ts","./BossGroundSauatCol.ts","./BucketCellComp.ts","./BulletColTxComp.ts","./CameraInfo.ts","./CellBaseComp.ts","./CoordinateTrackerFixed.ts","./EnemyCellComp.ts","./EnemyCoinComp.ts","./GroundComp.ts","./GroundSpikesCellComp.ts","./GrounpPedalComp.ts","./MenDoorCellComp.ts","./ObstacleHurtComp.ts","./OwnCellComp.ts","./PedalComp.ts","./PlayerComp.ts","./PlayerRolesComp.ts","./SkeAniMapComp.ts","./TouchListener.ts","./UICoordinateTrackerFixed.ts","./WeaponColComp.ts","./WeaponComp.ts","./YearDoorCellComp.ts","./DailyTaskData.ts","./LevelData.ts","./PlayerData.ts","./SettingData.ts","./AssetDefine.ts","./AudioDeine.ts","./ColDefine.ts","./DailyTaskDefine.ts","./EventId.ts","./LevelDefine.ts","./PathDefine.ts","./RefDefine.ts","./ShopDefine.ts","./TaskDefine.ts","./BaseComponent.ts","./EventCenter.ts","./FSM.ts","./LoadMgr.ts","./LoadUser.ts","./LoadUtils.ts","./MainScene.ts","./AudioSys.ts","./CameraSys.ts","./GroundSys.ts","./LevelSys.ts","./PlayerSys.ts","./SkyboxSys.ts","./UICoordinateTrackerSys.ts","./BaseUI.ts","./UIMgr.ts","./AdCoinMul.ts","./BtnCoin2Ad.ts","./CoinFly.ts","./DailyTaskCountdown.ts","./ListContentRender.ts","./ListItemRender.ts","./TopCoin.ts","./TopLevel.ts","./DailyTaskBigUI.ts","./DailyTaskItem.ts","./DailyTaskUI.ts","./LoadingUI.ts","./MainUI.ts","./RewardUI.ts","./RunResultFailUI.ts","./RunResultPassUI.ts","./RunResultUpGradeUI.ts","./RuningUI.ts","./SettingOpen.ts","./SettingUI.ts","./ShopItem.ts","./ShopUI.ts","./TurnTableUI.ts","./ADHelper.ts","./AgeHelper.ts","./AssetHelper.ts","./CalcPosMatrix.ts","./CheckValue.ts","./ClassNameSign.ts","./ConfigHelper.ts","./DailyTaskHelper.ts","./EnemyHelper.ts","./Extends.ts","./LevelHelper.ts","./LocalHandler.ts","./Log.ts","./NodeRecoverHandler.ts","./PlayerHelper.ts","./RefDataMgr.ts","./ShopHelper.ts","./Singleton.ts","./SkinHelper.ts","./StyleHelper.ts","./TImeHelper.ts","./Utils.ts","./WeaponHelper.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DailyTaskData.ts","./PlayerData.ts","./SettingData.ts","./EventId.ts","./PathDefine.ts","./BaseComponent.ts","./EventCenter.ts","./LoadMgr.ts","./LoadUser.ts","./LoadingUI.ts","./CheckValue.ts","./ConfigHelper.ts","./LevelHelper.ts","./Log.ts","./RefDataMgr.ts","./SkinHelper.ts","./Utils.ts"],(function(n){"use strict";var e,t,r,a,s,i,o,u,c,p,f,l,d,h,v,k,g,m,w,y,L,_,x,A,R,S,P,D,T,C,I,b,M,U;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,a=n.assertThisInitialized,s=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){o=n.cclegacy,u=n._decorator,c=n.Canvas,p=n.Node,f=n.isValid,l=n.Prefab,d=n.instantiate,h=n.JsonAsset,v=n.AudioClip},function(n){k=n.DailyTaskData},function(n){g=n.PlayerData},function(n){m=n.SettingData},function(n){w=n.EventId},function(n){y=n.PathDefine},function(n){L=n.BaseComponent},function(n){_=n.EventCenter},function(n){x=n.LoadMgr},function(n){A=n.UNLOAD_FROM_USER,R=n.LOAD_TO_USER},function(n){S=n.LoadingUI},function(n){P=n.IS_NUM},function(n){D=n.ConfigHelper,T=n.ConfigKey},function(n){C=n.LevelHelper},function(n){I=n.LOG},function(n){b=n.RefDataMgr},function(n){M=n.SkinHelper},function(n){U=n.Utils}],execute:function(){var N,O,E,G,H,B,z;o._RF.push({},"e1f878dLPNCZ6AHaGVNC9me","MainScene",void 0);var F=u.ccclass,V=u.property;n("MainScene",(N=F("MainScene"),O=V(c),E=V(p),N((B=e((H=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return e=n.call.apply(n,[this].concat(s))||this,r(e,"canvas",B,a(e)),r(e,"systems",z,a(e)),e._skinArrs=void 0,e}t(e,n);var o=e.prototype;return o.onLoad=function(){this.on(w.MainScene.addNodeToCanvas,this._recvAddNodeToCanvas),this.on(w.MainScene.loadLevelRes,this._recvLoadLevelRes),this.on(w.MainScene.unloadPreLevelRes,this._recvUnloadPreLevelRes),this.on(w.PalyerData.onInitAgeChange,this._recvAgeChange),this.on(w.PalyerData.onAddSkin,this._recvAgeChange),g.inst.loadLocal(),m.inst.loadLocal(),k.inst.loadLocal(),k.inst.checkReset()},o.start=function(){var n=s(i().mark((function n(){var e,t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.show();case 2:return n.next=4,this._loadRef();case 4:return this._addInitSkins(),n.next=7,this._loadAudio();case 7:return _.inst.emit(w.Audio.playBgm),n.next=10,this._loadLevelRes(g.inst.level);case 10:return e=C.getAgeRange(g.inst.level,g.inst.initAge),t=e[0],r=e[1],n.next=13,this._loadSkinRes(t,r);case 13:return n.next=15,this._loadLevelPfb();case 15:return this._showLevelSys(),n.next=18,U.waitMoment(500);case 18:S.pop();case 19:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o._recvAddNodeToCanvas=function(n){n&&f(n)&&n.setParent(this.canvas.node,!1)},o._recvLoadLevelRes=function(){var n=s(i().mark((function n(e,t,r){var a,s,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e&&P(e)&&void 0!==t&&P(t)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,S.show();case 4:return n.next=6,this._loadLevelRes(e);case 6:return a=C.getAgeRange(e,t),s=a[0],o=a[1],n.next=9,this._loadSkinRes(s,o);case 9:return n.next=11,U.waitMoment(500);case 11:S.pop(),r&&r();case 13:case"end":return n.stop()}}),n,this)})));return function(e,t,r){return n.apply(this,arguments)}}(),o._recvUnloadPreLevelRes=function(){var n=g.inst.preLevel;void 0!==n&&P(n)&&(this._unloadLevelRes(n),this._unloadSkinRes())},o._recvAgeChange=function(){var n=s(i().mark((function n(){var e,t,r,a,s,o,u=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=g.inst.level,t=C.getAgeRange(e,g.inst.initAge),r=t[0],a=t[1],s=M.resParse(r,a),o=s.map((function(n){return R(u,n.path,n.type)})),n.next=6,Promise.all(o);case 6:this._unloadSkinRes(),this._skinArrs=s,_.inst.emit(w.PlayerSys.freshInitRole);case 9:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o._loadRef=function(){var n=s(i().mark((function n(){var e=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,t){var r,a=[];a.push({des:"LOADING...",doTask:(r=s(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=b.inst.getAllCfgPath().map((function(n){return{doTask:(t=s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e,n,h);case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})};var t})),n.abrupt("return",t);case 2:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)})}),_.inst.emit(w.LoadingUI.addTasks,a,n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o._loadAudio=function(){var n=s(i().mark((function n(){var e=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,t){var r,a,o=[];o.push({des:"LOADING...",doTask:(r=s(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=y.BgmClips.map((function(n){return{doTask:(t=s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e,n,v);case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})};var t})),n.abrupt("return",t);case 2:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)})}),o.push({des:"LOADING...",doTask:(a=s(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=y.TxClips.map((function(n){return{doTask:(t=s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e,n,v);case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})};var t})),n.abrupt("return",t);case 2:case"end":return n.stop()}}),n)}))),function(){return a.apply(this,arguments)})}),_.inst.emit(w.LoadingUI.addTasks,o,n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o._addInitSkins=function(){var n;(null!=(n=D.getConfig(T.InitSkins))?n:[]).forEach((function(n){return g.inst.addSkin(n)}))},o._loadLevelRes=function(){var n=s(i().mark((function n(e){var t=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,r){var a,o=[];o.push({des:"LOADING...",doTask:(a=s(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=C.resParse(e).map((function(n){return{doTask:(e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t,n.path,n.type);case 2:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})};var e})),n.abrupt("return",r);case 2:case"end":return n.stop()}}),n)}))),function(){return a.apply(this,arguments)})}),_.inst.emit(w.LoadingUI.addTasks,o,n)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),o._loadSkinRes=function(){var n=s(i().mark((function n(e,t){var r=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,a){var o,u=[];u.push({des:"LOADING...",doTask:(o=s(i().mark((function n(){var a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r._skinArrs=M.resParse(e,t),a=r._skinArrs.map((function(n){return{doTask:(e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(r,n.path,n.type);case 2:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})};var e})),n.abrupt("return",a);case 3:case"end":return n.stop()}}),n)}))),function(){return o.apply(this,arguments)})}),_.inst.emit(w.LoadingUI.addTasks,u,n)}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),o._loadLevelPfb=function(){var n=s(i().mark((function n(){var e=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,t){var r,a=[];a.push({des:"LOADING...",doTask:(r=s(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R(e,y.levelSys,l);case 2:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)})}),_.inst.emit(w.LoadingUI.addTasks,a,n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o._unloadLevelRes=function(n){var e=this;C.resParse(n).forEach((function(n){return A(e,n.path,n.type)}))},o._unloadSkinRes=function(){var n,e=this;null!=(n=this._skinArrs)&&n.length&&(this._skinArrs.forEach((function(n){return A(e,n.path,n.type)})),this._skinArrs.length=0)},o._showLevelSys=function(){var n=x.inst.get(y.levelSys,l);n&&f(n)?d(n).setParent(this.systems,!1):I.E("关卡系统预制加载异常")},e}(L)).prototype,"canvas",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(H.prototype,"systems",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=H))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/MainUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./PlayerData.ts","./EventId.ts","./LevelDefine.ts","./PathDefine.ts","./Log.ts","./RefDataMgr.ts","./BaseUI.ts","./BtnCoin2Ad.ts","./DailyTaskUI.ts","./SettingUI.ts","./ShopUI.ts","./TurnTableUI.ts"],(function(t){"use strict";var n,i,e,a,s,u,o,l,r,g,p,c,f,h,v,_,m,U,C,b,w,A,I;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose},function(t){u=t.cclegacy,o=t._decorator,l=t.Label,r=t.Node},function(t){g=t.LevelData},function(t){p=t.PlayerData},function(t){c=t.EventId},function(t){f=t.LevelState},function(t){h=t.PathDefine},function(t){v=t.LOG},function(t){_=t.RefDataMgr,m=t.Ref},function(t){U=t.BaseUI},function(t){C=t.BtnCoin2Ad},function(t){b=t.DailyTaskUI},function(t){w=t.SettingUI},function(t){A=t.ShopUI},function(t){I=t.TurnTableUI}],execute:function(){var L,d,B,O,N,y,D,k,S,x,z,M,T,P,F,R;u._RF.push({},"74a673qRuNOXqyrHdbQqAne","MainUI",void 0);var V=o.ccclass,E=o.property;t("MainUI",(L=V("MainUI"),d=E(l),B=E(r),O=E(r),N=E(r),y=E(r),D=E(r),L(((R=function(t){function n(){for(var n,i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=t.call.apply(t,[this].concat(s))||this,e(n,"startAgeLb",x,a(n)),e(n,"taskBtn",z,a(n)),e(n,"turntableBtn",M,a(n)),e(n,"upAgeBtn",T,a(n)),e(n,"upInitOwnNumBtn",P,a(n)),e(n,"desLb",F,a(n)),n._bFirstLevel=!0,n._upAgeCfg=void 0,n._maxUpAgeCfg=void 0,n._upInitOwnNumCfg=void 0,n._maxUpInitOwnNumCfg=void 0,n}i(n,t);var u=n.prototype;return u.onLoad=function(){var t=this;this._initData(),this._initView(),this.on(c.LevelSys.onAgeChange,this._recvAgeChange),this.on(c.PalyerData.onInitAgeUpLvChange,this._recvAgeChange),this.on(c.PalyerData.onInitOwnNumUpLvChange,(function(){t._updateData(),t._setUpBtnLv(t.upInitOwnNumBtn,p.inst.initOwnNumUpLv)}))},u._recvAgeChange=function(){this._updateData(),this.startAgeLb.string=g.inst.age.toString(),this._setUpBtnLv(this.upAgeBtn,p.inst.initAgeUpLv)},u.start=function(){this._updateData(),this._updateView()},u.onClickSetting=function(){w.show()},u.onClickStartGame=function(){g.inst.levelState=f.Runing,this.dispose()},u.onClickShop=function(){A.show()},u.onClickDailyTask=function(){b.show()},u.onClickTurnTable=function(){I.show()},u._initData=function(){var t=p.inst;this._bFirstLevel=t.level<=1;var n=_.inst.getDic(m.mainUpCost);if(null!=n&&n.size)for(var i,e=s(n.values());!(i=e()).done;){var a=i.value;(!this._maxUpAgeCfg||a.level>this._maxUpAgeCfg.level&&a.initAge>0)&&(this._maxUpAgeCfg=a),(!this._maxUpInitOwnNumCfg||a.level>this._maxUpInitOwnNumCfg.level&&a.initOwn>0)&&(this._maxUpInitOwnNumCfg=a)}else v.E("[MainUI] get main up cost cfg fail")},u._initView=function(){this.taskBtn.active=this.turntableBtn.active=this.upAgeBtn.active=this.upInitOwnNumBtn.active=this.desLb.active=!this._bFirstLevel},u._updateData=function(){var t=p.inst;this._bFirstLevel=t.level<=1;var n,i,e=_.inst.getDic(m.mainUpCost);null!=e&&e.size?(this._upAgeCfg=null!=(n=e.get(t.initAgeUpLv))?n:this._maxUpAgeCfg,this._upInitOwnNumCfg=null!=(i=e.get(t.initOwnNumUpLv))?i:this._maxUpInitOwnNumCfg):v.E("[MainUI] get main up cost cfg fail")},u._updateView=function(){var t=this;this.startAgeLb.string=g.inst.age.toString(),this._upAgeCfg&&(this._setUpBtnLv(this.upAgeBtn,p.inst.initAgeUpLv),this._setUpBtnClick(this.upAgeBtn,this._upAgeCfg.initAge,(function(){p.inst.initAgeUpLv++,p.inst.initAge+=t._upAgeCfg.initAgeAdd}))),this._upInitOwnNumCfg&&(this._setUpBtnLv(this.upInitOwnNumBtn,p.inst.initOwnNumUpLv),this._setUpBtnClick(this.upInitOwnNumBtn,this._upInitOwnNumCfg.initOwn,(function(){p.inst.initOwnNumUpLv++,p.inst.initOwnNum+=t._upInitOwnNumCfg.initOwnAdd})))},u._setUpBtnLv=function(t,n){var i,e=null==(i=t.getChildByName("lb_lv"))?void 0:i.getComponent(l);e&&(e.string="LV:"+n)},u._setUpBtnClick=function(t,n,i){var e,a=null==(e=t.getChildByName("btn_coin2ad_01"))?void 0:e.getComponent(C);a&&a.setCoinCost(n,i)},n}(U)).prefabPath=h.MainUI,x=n((S=R).prototype,"startAgeLb",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(S.prototype,"taskBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(S.prototype,"turntableBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(S.prototype,"upAgeBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(S.prototype,"upInitOwnNumBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(S.prototype,"desLb",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=S))||k));u._RF.pop()}}}));

System.register("chunks:///_virtual/MenDoorCellComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./AudioDeine.ts","./EventId.ts","./EventCenter.ts","./CheckValue.ts","./LevelHelper.ts","./CellBaseComp.ts","./CoordinateTrackerFixed.ts","./PlayerRolesComp.ts"],(function(e){"use strict";var t,n,o,i,r,l,a,s,c,u,p,h,d,C,f,m,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Collider,s=e.Animation,c=e.isValid},function(e){u=e.LevelData},function(e){p=e.AudioDefine},function(e){h=e.EventId},function(e){d=e.EventCenter},function(e){C=e.IS_NUM},function(e){f=e.LevelHelper},function(e){m=e.CellBaseComp},function(e){y=e.CoordinateTrackerFixed},function(e){v=e.PlayerRolesComp}],execute:function(){var g,D,T,b,_,I,E,P,k;r._RF.push({},"21432p1oDNCSrIWpp5GbHFQ","MenDoorCellComp",void 0);var x=l.ccclass,L=l.property;e("MenDoorCellComp",(g=x("MenDoorCellComp"),D=L(a),T=L(y),b=L(s),g((E=t((I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"collider",E,i(t)),o(t,"coordinateTracker",P,i(t)),o(t,"ani",k,i(t)),t._hasCol=!1,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.collider.on("onTriggerEnter",this._onTriggerEnter,this),this.on(h.GroundSys.onPlayerInDoor,this._onPlayerInDoor)},r.onEnable=function(){if(this._hasCol=!1,this.coordinateTracker.label.string="MEN\n"+this.param[0]+this.param[1],1===this.param[2])this.ani.play();else{var e,t;this.ani.stop();var n=this.ani.getState(null!=(e=null==(t=this.ani.defaultClip)?void 0:t.name)?e:"");n&&(n.setTime(0),n.sample())}},r._onPlayerInDoor=function(e){C(e)&&e===this.plateIdx&&(this._hasCol=!0)},r._onTriggerEnter=function(e){if("onTriggerEnter"===e.type){var t=e.otherCollider.node.getComponent(v);t&&c(t)&&!this._hasCol&&(d.inst.emit(h.Audio.playTx,p.TxType.Door),d.inst.emit(h.GroundSys.onPlayerInDoor,this.plateIdx),u.inst.ownNum=f.calcDoorParam(u.inst.ownNum,this.param),this.destroyCell())}},t}(m)).prototype,"collider",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(I.prototype,"coordinateTracker",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(I.prototype,"ani",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=I))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/NodeRecoverHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Log.ts"],(function(e){"use strict";var o,t,r,n,a,i;return{setters:[function(e){o=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy,r=e.isValid,n=e.instantiate,a=e.NodePool},function(e){i=e.LOG}],execute:function(){t._RF.push({},"79d65G07ypKTpL/X+n5Vyaz","NodeRecoverHandler",void 0);var c="__recover_pool_key__";e("NodeRecoverHandler",function(){function e(){this._poolMap=new Map}var t=e.prototype;return t.get=function(e){var o=void 0,t=this._poolMap.get(e);return t&&t.size&&(o=t.get()),o&&r(o)||(o=n(e)),o[c]=e,o},t.put=function(e){var o=e[c];if(o){var t=this._poolMap.get(o);t||(t=new a,this._poolMap.set(o,t)),t.put(e)}else i.E("node pook key not exist, recover fail")},t.clear=function(){for(var e,t=o(this._poolMap);!(e=t()).done;){e.value[1].clear()}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ObstacleHurtComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./EnemyCellComp.ts","./PlayerComp.ts"],(function(e){"use strict";var t,o,n,r,i,s,c,l;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.Collider,i=e.isValid},function(e){s=e.BaseComponent},function(e){c=e.EnemyCellComp},function(e){l=e.PlayerComp}],execute:function(){var p;o._RF.push({},"8d35bpdbxdH9JtpjBUqn3SQ","ObstacleHurtComp",void 0);var u=n.ccclass;n.property,e("ObstacleHurtComp",u("ObstacleHurtComp")(p=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.onLoad=function(){var e=this.node.getComponent(r);e&&i(e)&&e.on("onTriggerEnter",this._onTriggerEnter,this)},n._onTriggerEnter=function(e){if("onTriggerEnter"===e.type){var t=e.otherCollider.node.getComponent(l);if(t&&i(t))t.toDied();else{var o=e.otherCollider.node.getComponent(c);o&&i(o)&&o.toDied()}}},o}(s))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/OwnCellComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./CellBaseComp.ts","./PlayerComp.ts"],(function(e){"use strict";var t,r,o,n,i,l,a,s,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.Collider,s=e.isValid},function(e){c=e.LevelData},function(e){p=e.CellBaseComp},function(e){u=e.PlayerComp}],execute:function(){var C,f,g,m,y;i._RF.push({},"b99d7MmQr5M7I12CkXUo54x","OwnCellComp",void 0);var d=l.ccclass,h=l.property;e("OwnCellComp",(C=d("OwnCellComp"),f=h(a),C((y=t((m=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,o(t,"col",y,n(t)),t}r(t,e);var i=t.prototype;return i.onLoad=function(){this.col.on("onTriggerEnter",this._onTriggerEnter,this)},i._onTriggerEnter=function(e){if("onTriggerEnter"===e.type){var t=e.otherCollider.node.getComponent(u);t&&s(t)&&(this.destroyCell(),c.inst.ownNum++)}},t}(p)).prototype,"col",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/PathDefine.ts",["cc"],(function(s){"use strict";var i;return{setters:[function(s){i=s.cclegacy}],execute:function(){var u,e;s("PathDefine",void 0),i._RF.push({},"9392euOU9ZAfZnQETkyTg8V","PathDefine",void 0),(e=u||(u=s("PathDefine",{}))).levelSys="prefab/LevelSys",e.loadingUI="ui/loading/loading",e.RunResultPassUI="ui/runResult/RunResultPass",e.RunResultFailUI="ui/runResult/RunResultFail",e.RunResultUpGradeUI="ui/runResult/RunResultUpGrade",e.RuningUI="ui/runing/runing",e.DailyTaskUI="ui/dailyTask/dailyTask",e.DailyTaskBigUI="ui/dailyTask/dailyTaskBig",e.MainUI="ui/main/main",e.TurnTableUI="ui/turnTable/turnTable",e.RewardUI="ui/reward/reward",e.ShopUI="ui/shop/shop",e.SettingUI="ui/setting/setting",e.AudioHead="art/audio/",e.BgmClips=[u.AudioHead+"bgm/bgm_1"],e.TxClips=[u.AudioHead+"sfx-bgm/sfx_1",u.AudioHead+"sfx-bgm/sfx_2",u.AudioHead+"sfx-bgm/sfx_3",u.AudioHead+"sfx-bgm/sfx_4",u.AudioHead+"sfx-bgm/sfx_5",u.AudioHead+"sfx-bgm/sfx_6",u.AudioHead+"sfx-bgm/sfx_7",u.AudioHead+"sfx-bgm/sfx_8",u.AudioHead+"sfx-bgm/sfx_9",u.AudioHead+"sfx-bgm/sfx_10",u.AudioHead+"sfx-bgm/sfx_11",u.AudioHead+"sfx-bgm/sfx_12",u.AudioHead+"sfx-bgm/sfx_13",u.AudioHead+"sfx-bgm/sfx_14",u.AudioHead+"sfx-bgm/sfx_15",u.AudioHead+"sfx-bgm/sfx_16",u.AudioHead+"sfx-bgm/sfx_17",u.AudioHead+"sfx-bgm/sfx_18",u.AudioHead+"sfx-bgm/sfx_19",u.AudioHead+"sfx-bgm/sfx_20",u.AudioHead+"sfx-bgm/sfx_21",u.AudioHead+"sfx-bgm/sfx_22",u.AudioHead+"sfx-bgm/sfx_23",u.AudioHead+"sfx-bgm/sfx_24",u.AudioHead+"sfx-bgm/sfx_25"],e.TxClipFormat=u.AudioHead+"sfx-bgm/sfx_{0}",i._RF.pop()}}}));

System.register("chunks:///_virtual/PedalComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioDeine.ts","./EventId.ts","./BaseComponent.ts","./EventCenter.ts","./PlayerRolesComp.ts"],(function(e){"use strict";var t,i,o,r,n,l,a,s,p,g,u,c,y,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.CCFloat,s=e.Collider,p=e.Animation,g=e.isValid},function(e){u=e.AudioDefine},function(e){c=e.EventId},function(e){y=e.BaseComponent},function(e){f=e.EventCenter},function(e){d=e.PlayerRolesComp}],execute:function(){var h,m,C,T,E,w,P,v,b,R,_;n._RF.push({},"30250yP5ftFN4mUm87PyT2a","PedalComp",void 0);var S=l.ccclass,x=l.property;e("PedalComp",(h=S("PedalComp"),m=x(a),C=x(s),T=x(s),E=x(p),h((v=t((P=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,o(t,"slowSpRatio",v,r(t)),o(t,"slowTrigger",b,r(t)),o(t,"col",R,r(t)),o(t,"ani",_,r(t)),t.onPlayerColEnter=void 0,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.slowTrigger.on("onTriggerEnter",this._slowTriggerEnter,this),this.slowTrigger.on("onTriggerExit",this._slowTriggerExit,this),this.col.on("onTriggerEnter",this._onTriggerEnter,this)},n._slowTriggerEnter=function(e){if("onTriggerEnter"===e.type){var t=e.otherCollider.node.getComponent(d);t&&g(t)&&f.inst.emit(c.PlayerSys.slowRunSpRatio,this.slowSpRatio)}},n._slowTriggerExit=function(e){if("onTriggerExit"===e.type){var t=e.otherCollider.node.getComponent(d);t&&g(t)&&f.inst.emit(c.PlayerSys.slowRunSpRatio,0)}},n._onTriggerEnter=function(e){if("onTriggerEnter"===e.type){var t=e.otherCollider.node.getComponent(d);t&&g(t)&&(f.inst.emit(c.Audio.playTx,u.TxType.Pedal),this.ani.play(),this.onPlayerColEnter&&this.onPlayerColEnter(e))}},t}(y)).prototype,"slowSpRatio",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=t(P.prototype,"slowTrigger",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(P.prototype,"col",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(P.prototype,"ani",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=P))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/Persist.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalStorage.ts","./BaseComponent.ts","./Extends.ts"],(function(t){"use strict";var e,n,o,i,s,r,c,u,a,l;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,i=t._decorator,s=t.director,r=t.macro},function(t){c=t.LocalStorage,u=t.LocalKey},function(t){a=t.BaseComponent},function(t){l=t.ButtonEx}],execute:function(){var d,f;o._RF.push({},"63bafMv9itDH6x8RDrD9jdY","Persist",void 0);var p=i.ccclass;i.property,t("Persist",p("Persist")(((f=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var i=o.prototype;return i.onLoad=function(){o._inst=this,s.addPersistRootNode(this.node),l.setClickDefaultSound()},i.start=function(){this._recordOnLineTime(),this.schedule(this._recordOnLineTime,10,r.REPEAT_FOREVER)},i.onDestroy=function(){t.prototype.onDestroy.call(this),o._inst=void 0},i._recordOnLineTime=function(){var t=Date.now();c.set(u.OnlineTime,t.toString())},n(o,null,[{key:"inst",get:function(){return o._inst}}]),o}(a))._inst=void 0,d=f))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./ColDefine.ts","./EventId.ts","./LevelDefine.ts","./BaseComponent.ts","./EventCenter.ts","./FSM.ts","./LoadMgr.ts","./CheckValue.ts","./ConfigHelper.ts","./Log.ts","./PlayerHelper.ts","./Utils.ts","./WeaponHelper.ts","./BossCellComp.ts","./EnemyCellComp.ts","./WeaponComp.ts"],(function(t){"use strict";var e,i,o,n,r,s,a,l,p,u,f,h,c,d,v,_,g,y,m,w,P,C,S,E,k,W,D,I,A,N,b,T,R,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,l=t.RigidBody,p=t.Node,u=t.v3,f=t.Prefab,h=t.isValid,c=t.Vec3,d=t.SkeletalAnimation,v=t.director},function(t){_=t.LevelData},function(t){g=t.ColDefine},function(t){y=t.EventId},function(t){m=t.WeaponType,w=t.LevelState},function(t){P=t.BaseComponent},function(t){C=t.EventCenter},function(t){S=t.FSM},function(t){E=t.LoadMgr},function(t){k=t.IS_STR_NOT_EMPTY},function(t){W=t.ConfigHelper,D=t.ConfigKey},function(t){I=t.LOG},function(t){A=t.PlayerHelper},function(t){N=t.Utils},function(t){b=t.WeaponHelper},function(t){T=t.BossCellComp},function(t){R=t.EnemyCellComp},function(t){G=t.WeaponComp}],execute:function(){var L,B,F,M,x,H,z,q,K,O,V;s._RF.push({},"8f5e9gIcIBBM4PwXCMaNjMy","PlayerComp",void 0);var j=a.ccclass,U=a.property,Z=(t("PlayerComp",(L=j("PlayerComp"),B=U(l),F=U(G),M=U(p),x=U(p),L((q=e((z=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"rig",q,n(e)),o(e,"selfWp",K,n(e)),o(e,"wpNode",O,n(e)),o(e,"wpDecorNode",V,n(e)),e._hp=1,e._skinInfo=void 0,e._wpInfo=void 0,e._forward=u(),e._curGround=void 0,e._atk=0,e._hitSet=new Set,e}i(e,t);var s=e.prototype;return s.onLoad=function(){this._fsm=new S(this)},s.onEnable=function(){var t;this.rig.setGroup(g.Group.Player),this._hp=null!=(t=W.getConfig(D.SinglePlayerHp))?t:1,this._fsm.reset(),this._updateState(),this.on(y.LevelSys.onStateChange,this._updateState),this.on(y.GroundSys.onPlayerInGround,this._onPlayerInGround),this.on(y.PlayerSys.bossReady,this._recvBossReady)},s.update=function(t){!this.died&&this.node.position.y<=-5&&this._toDied(),this._fsm.update(t)},s.onDisable=function(){this.stopAni(),this._hitSet.clear(),this._recoverWps(),this._fsm.switch(Z,void 0),this.offAll()},s.onDestroy=function(){t.prototype.onDestroy.call(this),this._fsm.destroy()},s.setData=function(t,e,i){var o,n;this._recover=t;var r=null==(o=this._skinInfo)?void 0:o.cfg.id;this._skinInfo=e,this._wpInfo=i,this._atk=A.getAtk(_.inst.age,null==(n=this._wpInfo)?void 0:n.cfg),r!==(null==e?void 0:e.cfg.id)&&this._addWpDecor()},s.hurtFromEnemy=function(t){var e,i,o=null!=(e=null==(i=W.getConfig(D.EnemyDamage))?void 0:i[t])?e:0;this._hp-=o,this.died&&this._toDied()},s.toDied=function(){this.died||(this._hp=0,this.died&&this._toDied())},s.recover=function(){this.stopAni(),this._recoverWps(),this._recover.put(this.node)},s.playAtk=function(t,e,i,o){var n,r,s=(null==(n=this._wpInfo)?void 0:n.cfg.type)===m.OnlyLaser;s&&this._addSelfWp(i);var a=null==(r=this._wpInfo)?void 0:r.cfg[o?"squatAtkAniKey":"atkAniKey"];if(a&&k(a)){if(!s){var l,p,u=null!=(l=null==(p=this._wpInfo)?void 0:p.cfg[o?"squatLoopAni":"loopAni"])?l:"";this._addWp(a,u,i)}this.playAni(a,e,t)}else t&&t()},s.playAni=function(t,e,i){if(t)return this._skinInfo?void N.playNodeSkeAni(this.node,this._skinInfo.cfg.style,this._skinInfo.cfg.skin,t,e,i):(I.E("[PlayerComp] skin info is null"),void(i&&i()));i&&i()},s._updateState=function(){if(!this.died){var t=_.inst.levelState;t===w.RunBegin?this._fsm.switch(Z,void 0):t===w.Runing?(this._fsm.switch(X,void 0),this._fsm.add(Y,{})):(t===w.RunPass||t===w.RunFail)&&this._fsm.switch(Z,void 0)}},s._onPlayerInGround=function(t){this._curGround=t,this.died||this._curGround.plateLen-2!==this._curGround.data.plateIdx||this._fsm.switch(X,void 0)},s._recvBossReady=function(){var t;if(!this.died&&this._curGround){var e;this._fsm.reset();var i=this._curGround.getBossCell();i&&(e=null==(t=i.getComponent(T))?void 0:t.hitPos.getWorldPosition()),this._fsm.switch(Y,{targetPos:e,squat:!0})}},s._toDied=function(){this._hp=0,this._fsm.switch(J,void 0)},s._addWp=function(t,e,i){var o=this;if(this._recoverWps(),this._wpInfo){var n=this._wpInfo.cfg,r=n.type;if(r===m.Melee||t===n.atkAniKey||t===n.squatAtkAniKey){var s=E.inst.get(this._wpInfo.path,f);if(s&&h(s)){var a=this._recover.get(s);a.setParent(this.wpNode,!1),c.zero(a.position),a.setPosition(a.position),a.setRotationFromEuler(c.ZERO);var l=a.getComponent(G);if(l&&h(l)){this._hitSet.clear();var p,u=function(t){var e=t.otherCollider.node.getComponent(R);if(e&&h(e)&&!o._hitSet.has(e))return e.hurt(o._atk),o._hitSet.add(e),!0;var i=t.otherCollider.node.getComponent(T);return i&&h(i)&&!o._hitSet.has(i)?(i.hurt(o._atk),o._hitSet.add(i),!0):t.otherCollider.getGroup()===g.Group.WithWeapon};if(r===m.Throw)l.onTriggerPlayerEnter=void 0,null==(p=l.ani)||p.once(d.EventType.FINISHED,(function(){var t;C.inst.emit(y.PlayerSys.onWeaponLoop,a),null==(t=l.ani)||t.play(e),l.moveTo(n.moveSp+_.inst.runSpeed,n.moveDis,i),l.onTriggerPlayerEnter=function(t){u(t)&&(C.inst.emit(y.PlayerSys.showWeaponColTx,n,l.node),l.onTriggerPlayerEnter=void 0,o._recover.put(a))}}));else if(r===m.Melee)t===n.atkAniKey?l.onTriggerPlayerEnter=function(t){u(t)&&(C.inst.emit(y.PlayerSys.showWeaponColTx,n,l.node),l.onTriggerPlayerEnter=void 0)}:l.onTriggerPlayerEnter=void 0;else if(r===m.Gun||r===m.Laser){var v=b.getBulletPfb(n);if(!v||!h(v))return void I.E("[PlayerSys] wp bullet pfb get fail, "+n.name);if(r===m.Gun){var w=0,P=function(t){var e;++w,null==(e=t.ani)||e.once(d.EventType.FINISHED,(function(){--w;var e=o._recover.get(v),r=e.getComponent(G);if(!r||!h(r))return I.E("[PlayerSys] bullet get wp comp fail"),void o._recover.put(e);r.onTriggerPlayerEnter=function(t){u(t)&&(C.inst.emit(y.PlayerSys.showWeaponColTx,n,r.node),r.onTriggerPlayerEnter=void 0,o._recover.put(e))},t.fire&&h(t.fire)&&(e.setParent(t.fire,!1),c.zero(e.position),e.setPosition(e.position),e.setWorldRotation(o.wpNode.worldRotation)),C.inst.emit(y.PlayerSys.onWeaponLoop,e),r.moveTo(n.moveSp+_.inst.runSpeed,n.moveDis,i),0===w&&o._recover.put(a)}))};l.isMul?l.items.forEach((function(t){return P(t)})):P(l)}else if(r===m.Laser){var S,k=this._recover.get(v),W=k.getComponent(G);if(!W||!h(W))return I.E("[PlayerSys] bullet get wp comp fail"),void this._recover.put(k);W.onTriggerPlayerEnter=function(t){u(t)&&C.inst.emit(y.PlayerSys.showWeaponColTx,n,t.otherCollider.node)},k.setParent(this.wpNode,!1),l.fire&&h(l.fire)&&W.setFollowNode(l.fire),k.setWorldRotation(this.wpNode.worldRotation),W.laser(n.moveSp,n.moveDis,i),null==(S=l.ani)||S.once(d.EventType.FINISHED,(function(){return o._recover.put(a)}))}}}else I.E("[PlayerSys] wp comp get fail")}else I.E("[PlayerSys] wp pfb get fail")}}else I.E("[PlayerComp] wp info map is null")},s._addSelfWp=function(t){var e=this;if(this._recoverWps(),this.selfWp&&h(this.selfWp))if(this._wpInfo){var i=this._wpInfo.cfg,o=i.type,n=b.getBulletPfb(i);if(n&&h(n)){this._hitSet.clear();if(o===m.OnlyLaser){var r=this._recover.get(n),s=r.getComponent(G);if(!s||!h(s))return I.E("[PlayerSys] bullet get wp comp fail"),void this._recover.put(r);s.onTriggerPlayerEnter=function(t){(function(t){var i=t.otherCollider.node.getComponent(R);if(i&&h(i)&&!e._hitSet.has(i))return i.hurt(e._atk),e._hitSet.add(i),!0;var o=t.otherCollider.node.getComponent(T);return o&&h(o)&&!e._hitSet.has(o)?(o.hurt(e._atk),e._hitSet.add(o),!0):t.otherCollider.getGroup()===g.Group.WithWeapon})(t)&&C.inst.emit(y.PlayerSys.showWeaponColTx,i,t.otherCollider.node)},r.setParent(this.wpNode,!1),this.selfWp.fire&&h(this.selfWp.fire)&&s.setFollowNode(this.selfWp.fire),r.setWorldRotation(this.wpNode.worldRotation),s.laser(i.moveSp,i.moveDis,t)}}else I.E("[PlayerSys] wp bullet pfb get fail, "+i.name)}else I.E("[PlayerComp] wp info map is null");else I.E("[PlayerComp] self wp is null")},s._addWpDecor=function(){var t=this;if(this._recoverWpDecors(),this._skinInfo){var e=b.getDecorInfosBySkin(this._skinInfo.cfg.wpdecors);null!=e&&e.length&&e.forEach((function(e){var i=E.inst.get(e.path,f);if(i&&h(i)){var o=t._recover.get(i);o.setParent(t.wpDecorNode,!1),c.zero(o.position),o.setPosition(o.position),o.setRotationFromEuler(c.ZERO)}}))}},s._recoverWps=function(){N.stopNodeSkeAni(this.wpNode),this._recoverByParent(this.wpNode)},s._recoverWpDecors=function(){N.stopNodeSkeAni(this.wpDecorNode),this._recoverByParent(this.wpDecorNode)},s.stopAni=function(){N.stopNodeSkeAni(this.node)},s._recoverByParent=function(t){for(var e=t.children.concat([]),i=e.length-1;i>=0;--i){var o=e[i];this._recover.put(o)}},r(e,[{key:"forward",get:function(){return c.negate(this._forward,this.node.forward)}},{key:"died",get:function(){return this._hp<=0}}]),e}(P)).prototype,"rig",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(z.prototype,"selfWp",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(z.prototype,"wpNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(z.prototype,"wpDecorNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=z))||H)),function(){function t(){this.param=void 0,this.onParamChange=void 0}var e=t.prototype;return e.onEnter=function(){this.target.playAni("idle")},e.update=function(t){},e.onExit=function(){},t}()),X=function(){function t(){this.onParamChange=void 0}var e=t.prototype;return e.onEnter=function(){this.target.playAni("run")},e.update=function(t){},e.onExit=function(){},t}(),Y=function(){function t(){this._atkRate=1,this._atkCd=0,this._atking=!1,this.onParamChange=void 0}var e=t.prototype;return e.onEnter=function(){this._atkRate=A.getAtkRate(_.inst.age),this._atkCd=0},e.update=function(t){this._atking||(this._atkCd>=this._atkRate&&(this._atk(),this._atkCd=0),this._atkCd+=t)},e.onExit=function(){this._atking=!1},e._atk=function(){var t=this;this._atking=!0,this.target.playAtk((function(){t._atking=!1,t.param.squat||t.target.playAni("run")}),void 0,this.param.targetPos,this.param.squat)},t}(),J=function(){function t(){this.onParamChange=void 0}var e=t.prototype;return e.onEnter=function(){var t=this;this.target.rig.setGroup(g.Group.Died),_.inst.ownNum--,this.target.node.setParent(v.getScene(),!0),this.target.playAni("died",void 0,(function(){return t.target.recover()}))},e.update=function(t){},e.onExit=function(){},t}();s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalStorage.ts","./EventId.ts","./EventCenter.ts","./CheckValue.ts","./LevelHelper.ts","./LocalHandler.ts","./Log.ts","./Singleton.ts"],(function(t){"use strict";var n,i,e,a,s,l,r,o,h,u,v;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy},function(t){a=t.LocalKey},function(t){s=t.EventId},function(t){l=t.EventCenter},function(t){r=t.IS_NUM},function(t){o=t.LevelHelper},function(t){h=t.LocalHandler},function(t){u=t.LOG},function(t){v=t.Singleton}],execute:function(){e._RF.push({},"3d9fdrkvRJIxYa2+FOPvu7x","PlayerData",void 0);t("PlayerData",function(t){function e(){for(var n,i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this)._localHandler=new h(a.PlayerData),n._level=1,n._preLevel=void 0,n._coin=0,n._initOwnNum=1,n._initAge=1,n._skins=[],n._initAgeUpLv=1,n._initOwnNumUpLv=1,n._atkUpLv=1,n._atkrateUpLv=1,n._turnTableCoinCnt=0,n}n(e,t);var v=e.prototype;return v.onDestroy=function(){this._localHandler.clearDelay(),this._localHandler=void 0},v.getAllSkin=function(){return this._skins},v.hasSkin=function(t){return-1!==this._skins.indexOf(t)},v.addSkin=function(t){this.hasSkin(t)?u.W("[PlayerData] skin::"+t+" add fail"):(this._skins.push(t),this._localHandler.setValue("skins",this._skins),l.inst.emit(s.PalyerData.onAddSkin))},v.removeSkin=function(t){if(this.hasSkin(t)){var n=this._skins.indexOf(t);-1!==n?(this._skins[n]=this._skins[this._skins.length-1],this._skins.length--,this._localHandler.setValue("skins",this._skins),l.inst.emit(s.PalyerData.onRemoveSkin)):u.E("[PlayerData] skin::"+t+" remove fail, what?????")}else u.W("[PlayerData] skin::"+t+" remove fail")},v.loadLocal=function(){var t=this._localHandler.getData();if(t){var n=t.level;r(n)&&(this._level=n);var i=t.coin;r(i)&&(this._coin=i);var e=t.initOwnNum;r(e)&&(this._initOwnNum=e);var a=t.initAge;r(a)&&(this._initAge=a);var s=t.skins;s instanceof Array&&(this._skins=s);var l=t.initAgeUpLv;r(l)&&(this._initAgeUpLv=l);var o=t.initOwnNumUpLv;r(o)&&(this._initOwnNumUpLv=o);var h=t.turnTableCoinCnt;r(h)&&(this._turnTableCoinCnt=h)}},i(e,[{key:"preLevel",get:function(){return this._preLevel}},{key:"level",get:function(){return this._level},set:function(t){t=Math.min(t,o.getMaxLevel()),this._level!==t&&(this._preLevel=this._level,this._level=t,this._localHandler.setValue("level",t),l.inst.emit(s.PalyerData.onLevelChange,t,this.preLevel))}},{key:"coin",get:function(){return this._coin},set:function(t){if((t=Math.max(0,t))!==this._coin){var n=this._coin;this._coin=Math.round(t),this._localHandler.setValue("coin",t),l.inst.emit(s.PalyerData.onCoinChange,t,n)}}},{key:"initOwnNum",get:function(){return this._initOwnNum},set:function(t){if((t=Math.max(t,0))!==this._initOwnNum){var n=this._initOwnNum;this._initOwnNum=t,this._localHandler.setValue("initOwnNum",t),l.inst.emit(s.PalyerData.onInitOwnNumChange,t,n)}}},{key:"initAge",get:function(){return this._initAge},set:function(t){if((t=Math.max(t,0))!==this._initAge){var n=this._initAge;this._initAge=t,this._localHandler.setValue("initAge",t),l.inst.emit(s.PalyerData.onInitAgeChange,t,n)}}},{key:"initAgeUpLv",get:function(){return this._initAgeUpLv},set:function(t){if((t=Math.max(t,1))!==this._initAgeUpLv){var n=this._initAgeUpLv;this._initAgeUpLv=t,this._localHandler.setValue("initAgeUpLv",t),l.inst.emit(s.PalyerData.onInitAgeUpLvChange,t,n)}}},{key:"initOwnNumUpLv",get:function(){return this._initOwnNumUpLv},set:function(t){if((t=Math.max(t,1))!==this._initOwnNumUpLv){var n=this._initOwnNumUpLv;this._initOwnNumUpLv=t,this._localHandler.setValue("initOwnNumUpLv",t),l.inst.emit(s.PalyerData.onInitOwnNumUpLvChange,t,n)}}},{key:"atkUpLv",get:function(){return this._atkUpLv},set:function(t){if((t=Math.max(t,1))!==this._atkUpLv){var n=this._atkUpLv;this._atkUpLv=t,this._localHandler.setValue("atkUpLv",t),l.inst.emit(s.PalyerData.onAtkUpLvChange,t,n)}}},{key:"atkrateUpLv",get:function(){return this._atkrateUpLv},set:function(t){if((t=Math.max(t,1))!==this._atkrateUpLv){var n=this._atkrateUpLv;this._atkrateUpLv=t,this._localHandler.setValue("atkrateUpLv",t),l.inst.emit(s.PalyerData.onAtkRateUpLvChange,t,n)}}},{key:"turnTableCoinCnt",get:function(){return this._turnTableCoinCnt},set:function(t){(t=Math.max(0,t))!==this._turnTableCoinCnt&&(this._turnTableCoinCnt=t,this._localHandler.setValue("turnTableCoinCnt",t))}}]),e}(v()));e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerData.ts","./AgeHelper.ts","./ConfigHelper.ts","./RefDataMgr.ts","./SkinHelper.ts"],(function(t){"use strict";var e,n,l,r,a,u,i,o,f;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){l=t.PlayerData},function(t){r=t.AgeHelper},function(t){a=t.ConfigHelper,u=t.ConfigKey},function(t){i=t.RefDataMgr,o=t.Ref},function(t){f=t.SkinHelper}],execute:function(){n._RF.push({},"552a5U4JPNJfYbnIu3rc4CB","PlayerHelper",void 0);t("PlayerHelper",function(){function t(){}return t.getResultAtkAdd=function(){var t=i.inst.getData(o.resultUpCost);if(null!=t&&t.length){for(var n,r=l.inst.atkUpLv,a=0,u=e(t);!(n=u()).done;){var f=n.value;r>=f.level&&(a+=f.atkAdd)}return a}},t.getResultAtkRateAdd=function(){var t=i.inst.getData(o.resultUpCost);if(null!=t&&t.length){for(var n,r=l.inst.atkrateUpLv,a=0,u=e(t);!(n=u()).done;){var f=n.value;r>=f.level&&(a+=f.atkrateAdd)}return a}},t.getAtk=function(e,n){var l,i,o,f,g;return(null!=(l=a.getConfig(u.InitAtk))?l:0)+(null!=(i=null==(o=r.getCfg(e))?void 0:o.atk)?i:0)+(null!=(f=t.getResultAtkAdd())?f:0)+(null!=(g=null==n?void 0:n.damage)?g:0)},t.getAtkRate=function(e){var n,l,a,u,i=f.getSkinInfo(e);return i?(null!=(n=i.cfg.initAtkRate)?n:0)*(1/((100+(null!=(l=null==(a=r.getCfg(e))?void 0:a.atkrate)?l:0))/100))*(1/((100+(null!=(u=t.getResultAtkRateAdd())?u:0))/100)):0},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerRolesComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(e){"use strict";var o,t,r,n;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){n=e.BaseComponent}],execute:function(){var s;t._RF.push({},"446dfmtA05PjYlbgmi8HqDq","PlayerRolesComp",void 0);var c=r.ccclass;r.property,e("PlayerRolesComp",c("PlayerRolesComp")(s=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(n))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletColTxComp.ts","./CameraInfo.ts","./PlayerComp.ts","./WeaponComp.ts","./LevelData.ts","./PlayerData.ts","./EventId.ts","./LevelDefine.ts","./BaseComponent.ts","./EventCenter.ts","./FSM.ts","./LoadMgr.ts","./CalcPosMatrix.ts","./CheckValue.ts","./ConfigHelper.ts","./Log.ts","./NodeRecoverHandler.ts","./SkinHelper.ts","./WeaponHelper.ts"],(function(t){"use strict";var o,e,n,i,r,s,a,l,u,h,c,f,p,_,v,g,d,y,m,w,R,I,P,S,C,E,T,b,x,z,D,M,F,k,H,L,N;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,n=t.inheritsLoose,i=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,l=t.Vec3,u=t.CCFloat,h=t.Node,c=t.v3,f=t.v2,p=t.Quat,_=t.tween,v=t.isValid,g=t.Prefab},function(t){d=t.BulletColTxComp},function(t){y=t.CameraInfo},function(t){m=t.PlayerComp},function(t){w=t.WeaponComp},function(t){R=t.LevelData},function(t){I=t.PlayerData},function(t){P=t.EventId},function(t){S=t.GroundDir,C=t.LevelState},function(t){E=t.BaseComponent},function(t){T=t.EventCenter},function(t){b=t.FSM},function(t){x=t.LoadMgr},function(t){z=t.PlayerPosMatrix},function(t){D=t.IS_NUM},function(t){M=t.ConfigHelper,F=t.ConfigKey},function(t){k=t.LOG},function(t){H=t.NodeRecoverHandler},function(t){L=t.SkinHelper},function(t){N=t.WeaponHelper}],execute:function(){var B,W,O,A,G,V,U,Z,q,Y,K,Q,X,j,J,$,tt,ot,et,nt,it,rt,st,at,lt,ut;s._RF.push({},"2ac35fdaOZB5K8MUSRIQe6f","PlayerSys",void 0);var ht=a.ccclass,ct=a.property,ft=(B=ht("CameraNodeInfo"),W=ct(l),O=ct(l),A=ct(u),B((U=o((V=function(){e(this,"pos",U,this),e(this,"rotation",Z,this),e(this,"fov",q,this)}).prototype,"pos",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c()}}),Z=o(V.prototype,"rotation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c()}}),q=o(V.prototype,"fov",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),G=V))||G),pt=(t("PlayerSys",(Y=ht("PlayerSys"),K=ct(y),Q=ct(h),X=ct(h),j=ct(h),J=ct({type:ft,tooltip:"未开始时相机跟玩家偏移值"}),$=ct({type:ft,tooltip:"游玩过程中相机跟玩家偏移值"}),tt=ct({type:ft,tooltip:"boss过程中相机跟玩家偏移值"}),Y((nt=o((et=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,e(o,"cameraInfo",nt,i(o)),e(o,"roles",it,i(o)),e(o,"wps",rt,i(o)),e(o,"year",st,i(o)),e(o,"startInfo",at,i(o)),e(o,"playingInfo",lt,i(o)),e(o,"bossInfo",ut,i(o)),o._playerForward=c(),o._recoverHandler=new H,o._curInfo=new ft,o._cameraTween=void 0,o._curGroundData=void 0,o._touchPos=f(),o._maxRoles=0,o._rolesTarget=c(),o._dir=S.Forward,o._tmpRotEuler=c(),o._startRotEuler=c(),o._targetRotEuler=c(),o._rotSp=1,o._skinInfo=void 0,o._wpInfo=void 0,o._slowRunSpRatio=0,o}n(o,t);var s=o.prototype;return s.onLoad=function(){var t,o;this._maxRoles=null!=(t=M.getConfig(F.MaxShowRole))?t:0,this._rotSp=null!=(o=M.getConfig(F.PlayerRotSp))?o:1,this._targetRotEuler.set(this.node.eulerAngles),this._rolesTarget.set(this.roles.position),this._fsm=new b(this),R.inst.ownNum=I.inst.initOwnNum,R.inst.age=I.inst.initAge,this._freshAge(),this._updateState(),this.on(P.LevelSys.onAgeChange,this._freshAge),this.on(P.LevelSys.onStateChange,this._updateState),this.on(P.GroundSys.onPlayerInGround,this._onPlayerInGround),this.on(P.PalyerData.onInitOwnNumChange,this._recvInitOwnNumChange),this.on(P.PlayerSys.freshInitRole,this._recvFreshInitRole),this.on(P.PlayerSys.enterBossState,this._recvEnterBossState),this.on(P.PlayerSys.rotDir,this._onRotDir),this.on(P.PlayerSys.onWeaponLoop,this._onWeaponLoop),this.on(P.PlayerSys.showWeaponColTx,this._showWeaponColTx),this.on(P.PlayerSys.recoverWeapon,this._recvRecoverWeapon),this.on(P.PlayerSys.slowRunSpRatio,this._recvSlowRunSp)},s.update=function(t){this._fixRoles(),this._targetRotEuler.equals(this.node.eulerAngles)||(this._targetRotEuler.equals(this.node.eulerAngles,.1)?this.node.setRotationFromEuler(this._targetRotEuler):(l.subtract(this._tmpRotEuler,this._targetRotEuler,this._startRotEuler).multiplyScalar(this._rotSp*t),l.add(this._tmpRotEuler,this.node.eulerAngles,this._tmpRotEuler),this.node.setRotationFromEuler(this._tmpRotEuler))),this._fsm.update(t),this._rolesFollowTarget(t),this._followYear()},s.onDestroy=function(){t.prototype.onDestroy.call(this),this._recoverHandler.clear(),this._fsm.destroy()},s.resetCamera=function(){this._curInfo.pos.x=this.startInfo.pos.x,this._curInfo.pos.y=this.startInfo.pos.y,this._curInfo.pos.z=this.startInfo.pos.z,this._curInfo.rotation.x=this.startInfo.rotation.x,this._curInfo.rotation.y=this.startInfo.rotation.y,this._curInfo.rotation.z=this.startInfo.rotation.z;var t=this._curInfo.pos;this.cameraInfo.node.setPosition(t.x,t.y,t.z);var o=this._curInfo.rotation;this.cameraInfo.node.setRotation(p.fromEuler(this.cameraInfo.node.rotation,o.x,o.y,o.z))},s.resetPlayer=function(){this._recoveRoles(),R.inst.ownNum=I.inst.initOwnNum,R.inst.age=I.inst.initAge,this._rolesTarget.x=0,l.zero(this.roles.position),this.roles.setPosition(this.roles.position),this.setPlayerPos(l.ZERO),l.zero(this._startRotEuler),l.zero(this._targetRotEuler),this.node.setRotationFromEuler(l.ZERO)},s.resetRolesX=function(){this._rolesTarget.x=0},s.playCameraTween=function(){var t,o,e=this;null==(t=this._cameraTween)||t.stop();var n=null!=(o=M.getConfig(F.PlayerCamRuningDuration))?o:.5;this._cameraTween=_(this._curInfo).to(n,{pos:this.playingInfo.pos,rotation:this.playingInfo.rotation,fov:this.playingInfo.fov},{onUpdate:function(){var t=e._curInfo.pos;e.cameraInfo.node.setPosition(t.x,t.y,t.z);var o=e._curInfo.rotation;p.fromEuler(e.node.rotation,o.x,o.y,o.z),e.cameraInfo.node.setRotation(e.node.rotation),e.cameraInfo.fov=e._curInfo.fov}}).call((function(){return e._cameraTween=void 0})).start()},s.bossCameraTween=function(){var t,o=this;null==(t=this._cameraTween)||t.stop(),this._cameraTween=_(this._curInfo).to(.5,{pos:this.bossInfo.pos,rotation:this.bossInfo.rotation,fov:this.bossInfo.fov},{onUpdate:function(){var t=o._curInfo.pos;o.cameraInfo.node.setPosition(t.x,t.y,t.z);var e=o._curInfo.rotation;p.fromEuler(o.node.rotation,e.x,e.y,e.z),o.cameraInfo.node.setRotation(o.node.rotation),o.cameraInfo.fov=o._curInfo.fov}}).call((function(){return o._cameraTween=void 0})).start()},s.stopCameraTween=function(){var t;null==(t=this._cameraTween)||t.stop(),this._cameraTween=void 0},s.showInitRole=function(){this._recoveRoles(),R.inst.ownNum=I.inst.initOwnNum},s.setPlayerPos=function(t){this.node.setPosition(t)},s.setRolesPos=function(t){this.roles.setPosition(t)},s.moveToBossPos=function(t){var o=this.roles.children.length,e=z.calcBoss(o,6,.5),n=0,i=function(){return++n>=o&&t&&t()};this.roles.children.forEach((function(t,o){t.once(h.EventType.NODE_DESTROYED,i),_(t).to(.5,{position:e[o]}).call(i).start()}))},s.onTouchEvent=function(){this.on(P.MainScene.mouseTouchStart,this._onTouchStart),this.on(P.MainScene.mouseTouchMove,this._onTouchMove)},s.offTouchEvent=function(){this.off(P.MainScene.mouseTouchStart,this._onTouchStart),this.off(P.MainScene.mouseTouchMove,this._onTouchMove)},s._followYear=function(){var t=this.year.position;t.x=this.roles.position.x,this.year.setPosition(t)},s._rolesFollowTarget=function(t){if(!this.roles.position.equals(this._rolesTarget)){var o,e=null!=(o=M.getConfig(F.PlayerHorSp))?o:1;l.lerp(this.roles.position,this.roles.position,this._rolesTarget,t*e),this.roles.setPosition(this.roles.position)}},s._updateState=function(){var t=R.inst.levelState;t===C.RunBegin?this._fsm.switch(pt,void 0):t===C.Runing?this._fsm.switch(_t,void 0):t===C.RunPass?this._fsm.switch(gt,void 0):t===C.RunFail&&this._fsm.switch(dt,void 0)},s._freshAge=function(){var t,o=L.getSkinInfo(R.inst.age);if(o){var e=this._skinInfo;this._skinInfo=o;var n=this._wpInfo;this._wpInfo=N.getInfoBySkin(o.cfg.weapons),o.cfg.id===(null==e?void 0:e.cfg.id)&&(null==(t=this._wpInfo)?void 0:t.cfg.id)===(null==n?void 0:n.cfg.id)||this._recoveRoles()}},s._onPlayerInGround=function(t){t&&(this._curGroundData=t.data)},s._recvInitOwnNumChange=function(){R.inst.levelState===C.RunBegin&&(R.inst.ownNum=I.inst.initOwnNum)},s._recvFreshInitRole=function(){R.inst.levelState===C.RunBegin&&(R.inst.age=I.inst.initAge,this._freshAge())},s._recvEnterBossState=function(){var t;this._fsm.switch(vt,1===(null==(t=this._curGroundData)?void 0:t.cfg.boss))},s._fixRoles=function(){var t=this.roles.children.length,o=Math.min(R.inst.ownNum,this._maxRoles);if(t!==o)if(t<o)this._addRole();else{var e=t-o;this.roles.children.slice(0,e).forEach((function(t){var o=t.getComponent(m);o&&v(o)&&o.recover()}))}},s._onRotDir=function(t){if(void 0!==t&&D(t)&&t!==this._dir&&(this._dir=t,t!==S.Forward))switch(this._startRotEuler.set(this.node.eulerAngles),t){case S.Left:this._targetRotEuler.y+=90;break;case S.Right:this._targetRotEuler.y-=90}},s._onWeaponLoop=function(t){if(t&&v(t)){var o=t.getComponent(w);o&&v(o)&&t.setParent(this.wps,!0)}},s._showWeaponColTx=function(t,o){var e=this;if(t&&o&&v(o)){var n=N.getBulletColTxPfb(t);if(n&&v(n)){var i=this._recoverHandler.get(n);i.setParent(this.wps,!1),i.setWorldPosition(o.getWorldPosition()),i.setWorldRotation(o.getWorldRotation());var r=i.getComponent(d);r&&v(r)?this.scheduleOnce((function(){return e._recoverHandler.put(i)}),r.waitCd):this._recoverHandler.put(i)}}},s._recvRecoverWeapon=function(t){if(t&&v(t)){var o=t.getComponent(w);o&&v(o)&&this._recoverHandler.put(t)}},s._recvSlowRunSp=function(t){void 0!==t&&D(t)&&(this._slowRunSpRatio=t)},s._addRole=function(){if(this._skinInfo){var t=x.inst.get(this._skinInfo.path,g);if(t&&v(t)){var o=this._recoverHandler.get(t),e=o.getComponent(m);e&&v(e)?(e.setData(this._recoverHandler,this._skinInfo,this._wpInfo),o.setParent(this.roles,!1),l.zero(o.position),o.setPosition(o.position),o.setRotationFromEuler(l.ZERO),this._arrangeRoles()):k.E("[PlayerSys] player comp is null")}else k.E("[PlayerSys] skin pfb get fail")}else k.E("[PlayerSys] skin info is null")},s._arrangeRoles=function(){var t=this.roles.children.length,o=z.calc(t,.5);this.roles.children.forEach((function(t,e){var n;t.active=!1,t.setPosition(null!=(n=o[e])?n:t.position),t.active=!0}))},s._recoveRoles=function(){for(var t=this.roles.children.concat([]),o=t.length-1;o>=0;--o){var e=t[o].getComponent(m);null==e||e.recover()}},s._onTouchStart=function(t){this._touchPos.set(0,0)},s._onTouchMove=function(t){var o,e,n;if(t.touch){var i=this._touchPos.x;if(t.touch.getLocationInView(this._touchPos),0!==i){var r=this._touchPos.x-i;if(0!==r){var s=null!=(o=M.getConfig(F.PlayerTouchMoveScl))?o:1;this._rolesTarget.x-=r*s*.1;var a=(null!=(e=null==(n=this._curGroundData)?void 0:n.width)?e:0)/2*.6;this._rolesTarget.x<0?this._rolesTarget.x=Math.max(-a,this._rolesTarget.x):this._rolesTarget.x>0&&(this._rolesTarget.x=Math.min(a,this._rolesTarget.x))}}}},r(o,[{key:"playerPos",get:function(){return this.node.position}},{key:"playerForward",get:function(){return l.multiplyScalar(this._playerForward,this.node.forward,-1)}},{key:"slowRunSpRatio",get:function(){return this._slowRunSpRatio}}]),o}(E)).prototype,"cameraInfo",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=o(et.prototype,"roles",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=o(et.prototype,"wps",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=o(et.prototype,"year",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=o(et.prototype,"startInfo",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ft}}),lt=o(et.prototype,"playingInfo",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ft}}),ut=o(et.prototype,"bossInfo",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ft}}),ot=et))||ot)),function(){function t(){this.param=void 0,this.onParamChange=void 0}var o=t.prototype;return o.onEnter=function(){this.target.resetCamera(),this.target.resetPlayer()},o.update=function(t){},o.onExit=function(){},t}()),_t=function(){function t(){this._playerPos=c(),this._tmpV3=c(),this.onParamChange=void 0}var o=t.prototype;return o.onEnter=function(){this.target.playCameraTween(),this.target.showInitRole(),this.target.onTouchEvent()},o.update=function(t){this._playerRun(t)},o.onExit=function(){this.target.stopCameraTween(),this.target.offTouchEvent()},o._playerRun=function(t){var o=Math.max(R.inst.runSpeed*(1-this.target.slowRunSpRatio),0);this._playerPos.set(this.target.playerPos),l.multiplyScalar(this._tmpV3,this.target.playerForward,o*t),this._playerPos.add(this._tmpV3),this.target.setPlayerPos(this._playerPos)},t}(),vt=function(){function t(){this.onParamChange=void 0}var o=t.prototype;return o.onEnter=function(){var t=this;this.target.resetRolesX(),this.target.moveToBossPos((function(){t.param&&t.target.bossCameraTween(),T.inst.emit(P.PlayerSys.bossReady)}))},o.update=function(t){},o.onExit=function(){},t}(),gt=function(){function t(){this.onParamChange=void 0}var o=t.prototype;return o.onEnter=function(){},o.update=function(t){},o.onExit=function(){},t}(),dt=function(){function t(){this.onParamChange=void 0}var o=t.prototype;return o.onEnter=function(){},o.update=function(t){},o.onExit=function(){},t}();s._RF.pop()}}}));

System.register("chunks:///_virtual/RefDataMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadMgr.ts","./Singleton.ts"],(function(e){"use strict";var t,n,i,a,o,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,a=e.JsonAsset},function(e){o=e.LoadMgr},function(e){c=e.Singleton}],execute:function(){var r,s;e("Ref",void 0),i._RF.push({},"24bd9fWWkdF1aNQoB43lq8q","RefDataMgr",void 0),function(e){e.level="config/level",e.style="config/style",e.plate="config/plate",e.cell="config/cell",e.ani="config/ani",e.skin="config/skin",e.weapon="config/weapon",e.age="config/age",e.config="config/config",e.mainUpCost="config/mainUpCost",e.resultUpCost="config/resultUpCost",e.dailyTask="config/dailyTask",e.dumpCoin="config/dumpCoin"}(s||(s=e("Ref",{})));var l=((r={})[s.level]="level",r[s.mainUpCost]="level",r[s.resultUpCost]="level",r);e("RefDataMgr",function(e){function i(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this)._cache=new Map,t._mapCache=new Map,t}t(i,e);var c=i.prototype;return c.onDestroy=function(){this._cache.clear()},c.getAllCfgPath=function(){return Object.keys(s).map((function(e){return s[e]}))},c.getData=function(e){return this._get(e)},c.getDic=function(e){var t;if(this._mapCache.has(e))return this._mapCache.get(e);var i=this._get(e);if(i){for(var a,o=new Map,c=null!=(t=l[e])?t:"id",r=n(i);!(a=r()).done;){var s=a.value;o.set(s[c],s)}return this._mapCache.set(e,o),o}},c._get=function(e){if(this._cache.has(e))return this._cache.get(e);var t=o.inst.get(e,a);if(null!=t&&t.json){var n=t.json;return this._cache.set(e,n),n}},i}(c()));i._RF.pop()}}}));

System.register("chunks:///_virtual/RefDefine.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var i;e("RefDeine",void 0),t._RF.push({},"d372d1qFHdAUbFaU2moox0H","RefDefine",void 0),i||(i=e("RefDeine",{})),t._RF.pop()}}}));

System.register("chunks:///_virtual/RewardUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetDefine.ts","./AudioDeine.ts","./EventId.ts","./PathDefine.ts","./EventCenter.ts","./LoadUser.ts","./CheckValue.ts","./BaseUI.ts"],(function(e){"use strict";var t,n,r,i,a,s,o,u,c,l,p,f,d,h,m,v,y,b,w,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,c=e.Sprite,l=e.Label,p=e.isValid,f=e.SpriteFrame},function(e){d=e.AssetDefine},function(e){h=e.AudioDefine},function(e){m=e.EventId},function(e){v=e.PathDefine},function(e){y=e.EventCenter},function(e){b=e.LOAD_TO_USER},function(e){w=e.IS_NUM},function(e){I=e.BaseUI}],execute:function(){var D,U,R,g,A,L,T,_;o._RF.push({},"7762eWpQnxByKg1UzFAIsVJ","RewardUI",void 0);var x=u.ccclass,S=u.property;e("RewardUI",(D=x("RewardUI"),U=S(c),R=S(l),D(((_=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,r(t,"iconSp",L,i(t)),r(t,"numLb",T,i(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){this._initView()},o.start=function(){y.inst.emit(m.Audio.playTx,h.TxType.Reward)},o.onDestroy=function(){var e,t;null==(e=this.param)||null==(t=e.closeCb)||t.call(void 0)},o._initView=function(){var e=a(s().mark((function e(){var t,n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w(null==(t=this.param)?void 0:t.rewardType)){e.next=8;break}return r=d.TYPE2ICON[this.param.rewardType],e.next=4,b(this,r,f);case 4:if((i=e.sent)&&p(i)){e.next=7;break}return e.abrupt("return");case 7:this.iconSp.spriteFrame=i;case 8:w(null==(n=this.param)?void 0:n.num)&&(this.numLb.string=(this.param.showAdd?"+":"")+this.param.num);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(I)).prefabPath=v.RewardUI,L=t((A=_).prototype,"iconSp",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(A.prototype,"numLb",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=A))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/RuningUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UICoordinateTrackerFixed.ts","./LevelData.ts","./EventId.ts","./LevelDefine.ts","./PathDefine.ts","./BaseUI.ts","./SettingUI.ts"],(function(e){"use strict";var t,n,i,r,a,s,o,c,u,l,h,f,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Label},function(e){c=e.UICoordinateTrackerFixed},function(e){u=e.LevelData},function(e){l=e.EventId},function(e){h=e.LevelState},function(e){f=e.PathDefine},function(e){g=e.BaseUI},function(e){p=e.SettingUI}],execute:function(){var y,d,v,b,I,L,S,U;a._RF.push({},"41d1btw/25C7YNAHXNCtP1f","RuningUI",void 0);var _=s.ccclass,k=s.property;e("RuningUI",(y=_("RuningUI"),d=k(c),v=k(o),y(((U=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"yearTracker",L,r(t)),i(t,"yearLb",S,r(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e;(this._refreshAge(),this.on(l.LevelSys.onStateChange,this._freshState),this.on(l.LevelSys.onAgeChange,this._refreshAge),this.param)&&(this.yearTracker.camera=this.param.cam,this.yearTracker.target=this.param.yearNode,this.yearTracker.distance=null!=(e=this.param.dis)?e:0)},a.onEnable=function(){this._freshState()},a._freshState=function(){u.inst.levelState!==h.Runing&&this.dispose()},a._refreshAge=function(){this.yearLb.string=u.inst.age.toString()},a.onClickSetting=function(){p.show()},t}(g)).prefabPath=f.RuningUI,L=t((I=U).prototype,"yearTracker",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(I.prototype,"yearLb",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=I))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/RunResultFailUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./AudioDeine.ts","./EventId.ts","./LevelDefine.ts","./PathDefine.ts","./EventCenter.ts","./BaseUI.ts","./AdCoinMul.ts","./CoinFly.ts"],(function(n){"use strict";var e,t,i,o,a,l,u,s,r,c,f,h,d,p,y,v,b;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,u=n.Node,s=n.CCFloat},function(n){r=n.LevelData},function(n){c=n.AudioDefine},function(n){f=n.EventId},function(n){h=n.LevelState},function(n){d=n.PathDefine},function(n){p=n.EventCenter},function(n){y=n.BaseUI},function(n){v=n.AdCoinMul},function(n){b=n.CoinFly}],execute:function(){var k,R,F,T,C,D,_,I,L,g,A,S;a._RF.push({},"c3645+5onRC8ZKcn5jvcjkI","RunResultFailUI",void 0);var N=l.ccclass,U=l.property;n("RunResultFailUI",(k=N("RunResultFailUI"),R=U(v),F=U([u]),T=U(s),C=U(b),k(((S=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a))||this,i(e,"adCoinMul",I,o(e)),i(e,"noThanksNode",L,o(e)),i(e,"noThanksDelay",g,o(e)),i(e,"coinFly",A,o(e)),e}t(e,n);var a=e.prototype;return a.onLoad=function(){this.adCoinMul.onLookAdSuc=this._onLookAdSuc.bind(this),this.noThanksNode.forEach((function(n){return n.active=!1}))},a.start=function(){p.inst.emit(f.Audio.playTx,c.TxType.PassFail),this.scheduleOnce(this._delayNoThanks,this.noThanksDelay)},a._delayNoThanks=function(){this.noThanksNode.forEach((function(n){return n.active=!0}))},a._onLookAdSuc=function(){var n=this;this.unschedule(this._delayNoThanks),this.coinFly.fly((function(){n.scheduleOnce(n._closeSelf.bind(n),1)}))},a.onClickRetry=function(){this._closeSelf()},a._closeSelf=function(){this.dispose(),r.inst.levelState=h.RunBegin},e}(y)).prefabPath=d.RunResultFailUI,I=e((_=S).prototype,"adCoinMul",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(_.prototype,"noThanksNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=e(_.prototype,"noThanksDelay",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),A=e(_.prototype,"coinFly",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=_))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/RunResultPassUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./PlayerData.ts","./AudioDeine.ts","./EventId.ts","./LevelDefine.ts","./PathDefine.ts","./EventCenter.ts","./BaseUI.ts","./AdCoinMul.ts","./CoinFly.ts"],(function(e){"use strict";var n,t,i,o,a,l,s,u,r,c,f,h,d,p,y,b,v,L,k;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.Label,u=e.Node,r=e.CCFloat},function(e){c=e.LevelData},function(e){f=e.PlayerData},function(e){h=e.AudioDefine},function(e){d=e.EventId},function(e){p=e.LevelState},function(e){y=e.PathDefine},function(e){b=e.EventCenter},function(e){v=e.BaseUI},function(e){L=e.AdCoinMul},function(e){k=e.CoinFly}],execute:function(){var D,T,C,P,R,g,I,_,S,A,N,E,F,U;a._RF.push({},"a7887aihcJC4IQU5abIbjJH","RunResultPassUI",void 0);var m=l.ccclass,z=l.property;e("RunResultPassUI",(D=m("RunResultPassUI"),T=z(s),C=z(L),P=z([u]),R=z(r),g=z(k),D(((U=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,i(n,"levelLb",S,o(n)),i(n,"adCoinMul",A,o(n)),i(n,"noThanksNode",N,o(n)),i(n,"noThanksDelay",E,o(n)),i(n,"coinFly",F,o(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){this.levelLb.string="LEVEL "+f.inst.level.toString(),this.adCoinMul.onLookAdSuc=this._onLookAdSuc.bind(this),this.noThanksNode.forEach((function(e){return e.active=!1}))},a.start=function(){b.inst.emit(d.Audio.playTx,h.TxType.PassSuc),this.scheduleOnce(this._delayNoThanks,this.noThanksDelay)},a._delayNoThanks=function(){this.noThanksNode.forEach((function(e){return e.active=!0}))},a._onLookAdSuc=function(){var e=this;this.unschedule(this._delayNoThanks),this.coinFly.fly((function(){e.scheduleOnce(e._closeSelf.bind(e),1)}))},a.onClickNext=function(){this._closeSelf()},a._closeSelf=function(){this.dispose(),f.inst.level++,c.inst.levelState=p.RunLoading},n}(v)).prefabPath=y.RunResultPassUI,S=n((_=U).prototype,"levelLb",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(_.prototype,"adCoinMul",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(_.prototype,"noThanksNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(_.prototype,"noThanksDelay",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),F=n(_.prototype,"coinFly",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=_))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/RunResultUpGradeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerData.ts","./EventId.ts","./PathDefine.ts","./Log.ts","./RefDataMgr.ts","./BaseUI.ts","./BtnCoin2Ad.ts","./RunResultPassUI.ts"],(function(t){"use strict";var e,a,i,n,r,s,l,u,o,p,f,c,U,g,v,h,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,l=t._decorator,u=t.Label},function(t){o=t.PlayerData},function(t){p=t.EventId},function(t){f=t.PathDefine},function(t){c=t.LOG},function(t){U=t.RefDataMgr,g=t.Ref},function(t){v=t.BaseUI},function(t){h=t.BtnCoin2Ad},function(t){k=t.RunResultPassUI}],execute:function(){var L,R,_,C,d,b,A,y,D,m,I,x,P,B;s._RF.push({},"cd932v9h0ZMdavotP79v1Xy","RunResultUpGradeUI",void 0);var w=l.ccclass,z=l.property;t("RunResultUpGradeUI",(L=w("RunResultUpGradeUI"),R=z(u),_=z(u),C=z(h),d=z(u),b=z(h),L(((B=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"levelLb",D,n(e)),i(e,"atkUpLvLb",m,n(e)),i(e,"atkUpBtn",I,n(e)),i(e,"atkrateUpLvLb",x,n(e)),i(e,"atkrateUpBtn",P,n(e)),e._upAtkCfg=void 0,e._maxUpAtkCfg=void 0,e._upAtkRateCfg=void 0,e._maxUpAtkRateCfg=void 0,e}a(e,t);var s=e.prototype;return s.onLoad=function(){this._initData(),this.on(p.PalyerData.onAtkUpLvChange,this._recvUpChange),this.on(p.PalyerData.onAtkRateUpLvChange,this._recvUpChange),this.levelLb.string="LEVEL "+o.inst.level.toString()},s.start=function(){this._updateData(),this._updateView()},s._recvUpChange=function(){this._updateData(),this._updateView()},s._initData=function(){var t=U.inst.getDic(g.resultUpCost);if(null!=t&&t.size)for(var e,a=r(t.values());!(e=a()).done;){var i=e.value;(!this._maxUpAtkCfg||i.level>this._maxUpAtkCfg.level&&i.atk>0)&&(this._maxUpAtkCfg=i),(!this._maxUpAtkRateCfg||i.level>this._maxUpAtkRateCfg.level&&i.atkrate>0)&&(this._maxUpAtkRateCfg=i)}else c.E("[RunResultUpGradeUI] get result up cost cfg fail")},s._updateData=function(){var t,e,a=o.inst,i=U.inst.getDic(g.resultUpCost);null!=i&&i.size?(this._upAtkCfg=null!=(t=i.get(a.atkUpLv))?t:this._maxUpAtkCfg,this._upAtkRateCfg=null!=(e=i.get(a.atkrateUpLv))?e:this._maxUpAtkRateCfg):c.E("[RunResultUpGradeUI] get result up cost cfg fail")},s._updateView=function(){var t=o.inst;this.atkUpLvLb.string="LV: "+t.atkUpLv.toString(),this._upAtkCfg&&this.atkUpBtn.setCoinCost(this._upAtkCfg.atk,(function(){t.atkUpLv++})),this.atkrateUpLvLb.string="LV: "+t.atkrateUpLv.toString(),this._upAtkRateCfg&&this.atkrateUpBtn.setCoinCost(this._upAtkRateCfg.atkrate,(function(){t.atkrateUpLv++}))},s.onClickNext=function(){this.dispose(),k.show()},e}(v)).prefabPath=f.RunResultUpGradeUI,D=e((y=B).prototype,"levelLb",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(y.prototype,"atkUpLvLb",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(y.prototype,"atkUpBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(y.prototype,"atkrateUpLvLb",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(y.prototype,"atkrateUpBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=y))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/SettingData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalStorage.ts","./EventId.ts","./EventCenter.ts","./CheckValue.ts","./LocalHandler.ts","./Singleton.ts"],(function(t){"use strict";var n,e,a,i,o,c,s,l,u;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){a=t.cclegacy},function(t){i=t.LocalKey},function(t){o=t.EventId},function(t){c=t.EventCenter},function(t){s=t.IS_NUM},function(t){l=t.LocalHandler},function(t){u=t.Singleton}],execute:function(){a._RF.push({},"3d90fu2nQRMt7cwEQ8wFTRu","SettingData",void 0);t("SettingData",function(t){function a(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this)._localHandler=new l(i.SettingData),n._haptic=1,n._sound=1,n}n(a,t);var u=a.prototype;return u.onDestroy=function(){this._localHandler.clearDelay(),this._localHandler=void 0},u.loadLocal=function(){var t=this._localHandler.getData();t&&(s(t.haptic)&&(this._haptic=t.haptic),s(t.sound)&&(this._sound=t.sound))},e(a,[{key:"haptic",get:function(){return this._haptic},set:function(t){this._haptic!==t&&(this._haptic=t,this._localHandler.setValue("haptic",t),c.inst.emit(o.SettingData.onHapticChange))}},{key:"sound",get:function(){return this._sound},set:function(t){this._sound!==t&&(this._sound=t,this._localHandler.setValue("sound",t),c.inst.emit(o.SettingData.onSoundChange))}}]),a}(u()));a._RF.pop()}}}));

System.register("chunks:///_virtual/SettingOpen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(e){"use strict";var t,n,o,i,r,c,a,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Node},function(e){p=e.BaseComponent}],execute:function(){var l,s,u,d,f,g,y;r._RF.push({},"4943bIU0CtGkZMwG6G9sqpm","SettingOpen",void 0);var h=c.ccclass,b=c.property;e("SettingOpen",(l=h("SettingOpen"),s=b(a),u=b(a),l((g=t((f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,o(t,"openNode",g,i(t)),o(t,"closeNode",y,i(t)),t}return n(t,e),t.prototype.updateOpen=function(e){this.openNode.active=e,this.closeNode.active=!e},t}(p)).prototype,"openNode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(f.prototype,"closeNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingData.ts","./EventId.ts","./PathDefine.ts","./BaseUI.ts","./SettingOpen.ts"],(function(t){"use strict";var n,e,i,a,o,s,r,u,c,p,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator},function(t){r=t.SettingData},function(t){u=t.EventId},function(t){c=t.PathDefine},function(t){p=t.BaseUI},function(t){l=t.SettingOpen}],execute:function(){var f,h,d,g,v,S,y,I;o._RF.push({},"5d6032hfs9ECIfnEVfYK/B+","SettingUI",void 0);var O=s.ccclass,b=s.property;t("SettingUI",(f=O("SettingUI"),h=b(l),d=b(l),f(((I=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,i(n,"hapticOpen",S,a(n)),i(n,"soundOpen",y,a(n)),n}e(n,t);var o=n.prototype;return o.onLoad=function(){this.on(u.LevelSys.onStateChange,this.dispose)},o.start=function(){this._updateView()},o._updateView=function(){var t=r.inst;this.hapticOpen.updateOpen(!!t.haptic),this.soundOpen.updateOpen(!!t.sound)},o.onClickHaptic=function(){var t=r.inst.haptic;r.inst.haptic=t?0:1,this._updateView()},o.onClickSound=function(){var t=r.inst.sound;r.inst.sound=t?0:1,this._updateView()},n}(p)).prefabPath=c.SettingUI,S=n((v=I).prototype,"hapticOpen",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(v.prototype,"soundOpen",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopDefine.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var t,o,c,i;e("ShopDefine",void 0),n._RF.push({},"6f1e2+r56hMgZzPQIFMcosw","ShopDefine",void 0),o=t||(t=e("ShopDefine",{})),function(e){e[e.age=0]="age",e[e.rare=1]="rare",e[e.ntf=2]="ntf"}(c||(c={})),o.Type=c,function(e){e[e.lock=0]="lock",e[e.own=1]="own",e[e.notOwn=2]="notOwn"}(i||(i={})),o.ItemState=i,n._RF.pop()}}}));

System.register("chunks:///_virtual/ShopHelper.ts",["cc","./PlayerData.ts","./LevelDefine.ts","./ShopDefine.ts","./SkinHelper.ts"],(function(e){"use strict";var t,n,a,i,r;return{setters:[function(e){t=e.cclegacy},function(e){n=e.PlayerData},function(e){a=e.SkinType},function(e){i=e.ShopDefine},function(e){r=e.SkinHelper}],execute:function(){var c;t._RF.push({},"bb456Qr8RFBebjpGenCH7Zl","ShopHelper",void 0);var o=((c={})[a.base]="age",c[a.adv]="rare",c[a.nft]="nft",c);e("ShopHelper",function(){function e(){}return e.getDatas=function(e){var t,n,c,l=this;switch(e){case i.Type.age:return null==(t=r.getSkinCfgs())?void 0:t.filter((function(e){return e.type===a.base})).map((function(e){var t=l.calcItemState(e);return e.type,{id:e.id,title:e.agemin+"-"+(0===e.agemax?"∞":e.agemax),icon:"art/UI/ShopIcon/"+o[e.type]+"/"+(t===i.ItemState.own?e.icon:e.kuang)+"/spriteFrame",state:t,unlockLevel:e.level}}));case i.Type.rare:return null==(n=r.getSkinCfgs())?void 0:n.filter((function(e){return e.type===a.adv})).map((function(e){var t=l.calcItemState(e);return{id:e.id,title:e.agemin+"-"+(0===e.agemax?"∞":e.agemax),icon:"art/UI/ShopIcon/"+o[e.type]+"/"+(t===i.ItemState.own?e.icon:e.kuang)+"/spriteFrame",state:t,unlockLevel:e.level}}));case i.Type.ntf:return null==(c=r.getSkinCfgs())?void 0:c.filter((function(e){return e.type===a.nft})).map((function(e){var t=l.calcItemState(e);return{id:e.id,title:e.agemin+"-"+(0===e.agemax?"∞":e.agemax),icon:"art/UI/ShopIcon/"+o[e.type]+"/"+(t===i.ItemState.own?e.icon:e.kuang)+"/spriteFrame",state:t,unlockLevel:e.level}}))}},e.calcItemState=function(e){if(n.inst.hasSkin(e.id)||e.type===a.base)return i.ItemState.own;var t=n.inst.level;return e.level>=t?i.ItemState.lock:i.ItemState.notOwn},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ShopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShopDefine.ts","./BaseComponent.ts","./Utils.ts"],(function(e){"use strict";var t,i,o,n,r,l,a,c,p,s,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Label,c=e.Sprite,p=e.Node},function(e){s=e.ShopDefine},function(e){u=e.BaseComponent},function(e){h=e.Utils}],execute:function(){var f,b,d,g,m,y,S,k,v,D,N;r._RF.push({},"7f474shgitFYoDDchhEYntM","ShopItem",void 0);var w=l.ccclass,z=l.property;e("ShopItem",(f=w("ShopItem"),b=z(a),d=z(c),g=z(p),m=z(p),f((k=t((S=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"titleLb",k,n(t)),o(t,"iconSp",v,n(t)),o(t,"kuangNode",D,n(t)),o(t,"lockNode",N,n(t)),t}return i(t,e),t.prototype.updateView=function(e,t){this.titleLb.string=e.title,h.spriteUrl(this,this.iconSp,e.icon),this.kuangNode.active=t,this.lockNode.active=e.state===s.ItemState.lock},t}(u)).prototype,"titleLb",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(S.prototype,"iconSp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(S.prototype,"kuangNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(S.prototype,"lockNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=S))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerData.ts","./EventId.ts","./PathDefine.ts","./ShopDefine.ts","./ADHelper.ts","./ShopHelper.ts","./Utils.ts","./BaseUI.ts","./ShopItem.ts"],(function(t){"use strict";var e,n,i,a,o,r,s,u,l,c,p,d,h,f,_,v,g,b,I,y,k,L,S,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,l=t.Sprite,c=t.ToggleContainer,p=t.Node,d=t.Label,h=t.isValid,f=t.Button,_=t.instantiate},function(t){v=t.PlayerData},function(t){g=t.EventId},function(t){b=t.PathDefine},function(t){I=t.ShopDefine},function(t){y=t.ADHelper},function(t){k=t.ShopHelper},function(t){L=t.Utils},function(t){S=t.BaseUI},function(t){C=t.ShopItem}],execute:function(){var D,m,x,w,U,B,P,T,A,E,V,z,H,G;s._RF.push({},"6f6b1JrfTlEyZTrkALdCpie","ShopUI",void 0);var O=u.ccclass,R=u.property;t("ShopUI",(D=O("ShopUI"),m=R(l),x=R(c),w=R(p),U=R(p),B=R(d),D(((G=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"iconSp",A,a(e)),i(e,"toggleGroup",E,a(e)),i(e,"listContent",V,a(e)),i(e,"adBtn",z,a(e)),i(e,"unlockLb",H,a(e)),e._type=I.Type.rare,e._datas=void 0,e._selectedIdx=0,e._adLooking=!1,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.on(g.PalyerData.onAddSkin,this._recvUpdate)},s.start=function(){var t=this.toggleGroup.toggleItems[this._type];t&&h(t)&&(t.isChecked=!0),this._updateData(),this._updateView()},s._recvUpdate=function(){this._updateData(),this._updateView()},s.onToggleCheck=function(t){var e=t.node.getSiblingIndex();e!==this._type&&(this._type=e,this._selectedIdx=0,this._updateData(),this._updateView())},s.onClickAd=function(){var t=o(r().mark((function t(){var e,n,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null==(e=this._datas)?void 0:e[this._selectedIdx]){t.next=3;break}return t.abrupt("return");case 3:if(!this._adLooking){t.next=5;break}return t.abrupt("return");case 5:return this._adLooking=!0,t.next=8,y.openAD();case 8:if(i=t.sent,this._adLooking=!1,i){t.next=12;break}return t.abrupt("return");case 12:v.inst.addSkin(n.id);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._updateData=function(){this._datas=k.getDatas(this._type)},s._updateView=function(){this._updateList(),this._updateIcon(),this._updateAdBtn(),this._updateUnlockLb()},s._updateList=function(){var t,e,n=this;L.recoverUseNode(this.listContent,null!=(t=null==(e=this._datas)?void 0:e.length)?t:0,(function(t,e){var i=t.getComponent(C);if(i&&h(i)){var a=n._datas[e];i.updateView(a,e===n._selectedIdx),t.targetOff(f.EventType.CLICK),t.on(f.EventType.CLICK,(function(){return n._onItemClick(t,e)}))}}),(function(t){var e=_(n.listContent.children[0]);return e.setParent(n.listContent,!1),e}))},s._onItemClick=function(t,e){this._selectedIdx!==e&&(this._selectedIdx=e,this._updateView())},s._updateIcon=function(){var t,e=null==(t=this._datas)?void 0:t[this._selectedIdx];this.iconSp.node.active=!!e,e&&L.spriteUrl(this,this.iconSp,e.icon)},s._updateAdBtn=function(){var t,e=null==(t=this._datas)?void 0:t[this._selectedIdx];this.adBtn.active=!!e,e&&(this.adBtn.active=e.state===I.ItemState.notOwn)},s._updateUnlockLb=function(){var t,e=null==(t=this._datas)?void 0:t[this._selectedIdx],n=!!e&&e.state===I.ItemState.lock;this.unlockLb.node.active=n,n&&(this.unlockLb.string="COMPLETE "+e.unlockLevel+" LEVEL")},e}(S)).prefabPath=b.ShopUI,A=e((T=G).prototype,"iconSp",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(T.prototype,"toggleGroup",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(T.prototype,"listContent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(T.prototype,"adBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(T.prototype,"unlockLb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,i;return{setters:[function(n){t=n.createClass},function(n){i=n.cclegacy}],execute:function(){n("Singleton",(function(){var n=function(){function n(){this.destroyed=!1}var i=n.prototype;return i.dispose=function(){this.destroyed=!0,this.onDestroy(),n._inst=void 0},i.onInit=function(){},i.onDestroy=function(){},t(n,null,[{key:"inst",get:function(){if(!n._inst){var t=new this;t.onInit(),s.regist(t),n._inst=t}return n._inst}}]),n}();return n._inst=void 0,n})),i._RF.push({},"fef0eIKtGZCFINBnJJMY05a","Singleton",void 0);var s=n("SingletonMgr",function(){function n(){}return n.regist=function(t){var i=n;-1===i._singletons.indexOf(t)&&i._singletons.push(t)},n.disposeSingleton=function(t){t.dispose();var i=n,s=i._singletons.indexOf(t);-1!==s&&(i._singletons[s]=i._singletons[i._singletons.length-1],i._singletons.length--)},n.disposeAll=function(){for(var t=n;t._singletons.length;){var i=t._singletons.shift();null==i||i.dispose()}},n}());s._singletons=[],i._RF.pop()}}}));

System.register("chunks:///_virtual/SkeAniMapComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(e){"use strict";var i,t,n,r,a,o,c,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.inheritsLoose,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.CCString},function(e){p=e.BaseComponent}],execute:function(){var s,u,l,m,f,h,b,y,C,g,A,S;a._RF.push({},"588d1xPU+xNXZ8UQ6SvQxC1","SkeAniMapComp",void 0);var v=o.ccclass,d=o.property,k=(s=v("SkeAniMapItem"),u=d(c),l=d(c),s((h=i((f=function(){t(this,"aniName",h,this),t(this,"realAniName",b,this)}).prototype,"aniName",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=i(f.prototype,"realAniName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=f))||m);e("SkeAniMapComp",(y=v("SkeAniMapComp"),C=d([k]),y((S=i((A=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,t(i,"items",S,r(i)),i}return n(i,e),i}(p)).prototype,"items",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=A))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/SkinHelper.ts",["cc","./PlayerData.ts","./LevelDefine.ts","./LoadMgr.ts","./AgeHelper.ts","./CheckValue.ts","./Log.ts","./RefDataMgr.ts","./StyleHelper.ts","./WeaponHelper.ts"],(function(e){"use strict";var n,t,i,r,a,l,u,f,g,s,c,o,p;return{setters:[function(e){n=e.cclegacy,t=e.Prefab,i=e.isValid},function(e){r=e.PlayerData},function(e){a=e.SkinType},function(e){l=e.LoadMgr},function(e){u=e.AgeHelper},function(e){f=e.IS_STR_NOT_EMPTY},function(e){g=e.LOG},function(e){s=e.RefDataMgr,c=e.Ref},function(e){o=e.StyleHelper},function(e){p=e.WeaponHelper}],execute:function(){n._RF.push({},"3fd2dEqErtA4JQ4G3HA0UMq","SkinHelper",void 0);e("SkinHelper",function(){function e(){}return e.getSkinCfgs=function(){return s.inst.getData(c.skin)},e.getSkinCfg=function(e){var n=s.inst.getDic(c.skin);if(n)return n.get(e)},e._checkCfg=function(e,n,t){return!!u.checkAge(e.agemin,e.agemax,n,t)&&(e.type===a.base||r.inst.hasSkin(e.id))},e.getAllAgeRangeCfgs=function(n,t){var i,r=this,a=null==(i=e.getSkinCfgs())?void 0:i.filter((function(e){return r._checkCfg(e,n,t)})).sort((function(e,n){var t=n.type-e.type;return 0===t?e.agemax-n.agemax:t}));return a=this._fullOwnSkin(a)},e.getFullAgeCfgs=function(n){var t,i=this,r=null==(t=e.getSkinCfgs())?void 0:t.filter((function(e){return i._checkCfg(e,n,n)})).sort((function(e,n){var t=n.type-e.type;return 0===t?e.agemax-n.agemax:t}));return r=this._fullOwnSkin(r)},e._fullOwnSkin=function(n){var t;if(null==(t=n)||!t.length){var i=r.inst.getAllSkin(),a=i[i.length-1],l=e.getSkinCfg(a);if(l)null!=n||(n=[]),n.push(l)}return n},e.resParse=function(n,i){var r=e.getAllAgeRangeCfgs(n,i),a=[];if(null==r||!r.length)return a;var l=[];r.forEach((function(e){var n=p.getCfgBySkin(e.weapons);n&&l.push(n);var i=p.getCfgByDecors(e.wpdecors);(null==i?void 0:i.length)&&l.push.apply(l,i);var r=o.getResHeadById(e.style);a.push({path:r+e.skin,type:t})}));var u=p.resParse(l);return(null==u?void 0:u.length)&&a.push.apply(a,u),a},e.getSkinInfo=function(n){var r=e.getFullAgeCfgs(n);if(null!=r&&r.length)for(var a=0;a<r.length;a++){var u=r[a],s=o.getResHeadById(u.style);if(f(u.skin)){var c=s+u.skin,p=l.inst.get(c,t);if(p&&i(p))return{cfg:u,path:c};g.E("[PlayerHelper] "+u.id+" Skin info get fail")}}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SkyboxSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerData.ts","./BaseComponent.ts","./LevelHelper.ts"],(function(e){"use strict";var t,o,n,s,r,a,i,l,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,s=e.director,r=e.isValid,a=e.TextureCube},function(e){i=e.PlayerData},function(e){l=e.BaseComponent},function(e){c=e.LevelHelper}],execute:function(){var u;o._RF.push({},"51109MMMKlKUIi0oN8F+E6f","SkyboxSys",void 0);var y=n.ccclass;n.property,e("SkyboxSys",y("SkyboxSys")(u=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.start=function(){this._addSkybox()},n._addSkybox=function(){var e=s.getScene();if(e&&r(e)){var t=c.getLevelCfg(i.inst.level);if(t){var o=c.getStyleCfg(t);if(o){var n=c.getStyleRes(o,"skybox",a);n&&r(n)&&(e.globals.skybox.enabled=!0,e.globals.skybox.envmap=n)}}}},o}(l))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/StyleHelper.ts",["cc","./Log.ts","./RefDataMgr.ts"],(function(e){"use strict";var t,n,r,u;return{setters:[function(e){t=e.cclegacy},function(e){n=e.LOG},function(e){r=e.RefDataMgr,u=e.Ref}],execute:function(){t._RF.push({},"48236z1l5hL1ZU+Mr83GtpB","StyleHelper",void 0);e("StyleHelper",function(){function e(){}return e.getResHead=function(e){return"style/"+e.name+"/"},e.getResHeadById=function(t){var n=e.getStyleCfg(t);if(n)return e.getResHead(n)},e.getStyleCfg=function(e){var t,c=null==(t=r.inst.getDic(u.style))?void 0:t.get(e);return c||n.E(e+" style cfg get fail"),c},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/TaskDefine.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var t,a,i;e("TaskDefine",void 0),n._RF.push({},"43f2aaXCABMYbO17w1Co1ad","TaskDefine",void 0),a=t||(t=e("TaskDefine",{})),function(e){e[e.ing=0]="ing",e[e.canget=1]="canget",e[e.rewarded=2]="rewarded"}(i||(i={})),a.ST=i,n._RF.pop()}}}));

System.register("chunks:///_virtual/TImeHelper.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){var o;t("TimeHelper",void 0),r._RF.push({},"b8768AiC9NDea7ziyh+rDoV","TImeHelper",void 0),function(t){function r(t){return Math.floor(t/60/60)}function o(t){return Math.floor(t/60)}t.secondToHMS=function(t,e){if(void 0===e&&(e=!0),t<=0)return"00:00:00";var n="",i=r(t);e&&(n=i<10?0+i.toString()+":":i.toString()+":");var u=o(t%3600);n=u<10?n+0+u.toString()+":":n+u.toString()+":";var c=Math.floor(t%60);return n=c<10?n+0+c.toString():n+c.toString()},t.secondToHour=r,t.secondToDay=function(t){return Math.floor(t/60/60/24)},t.secondToMinute=o}(o||(o=t("TimeHelper",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/TopCoin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerData.ts","./EventId.ts","./BaseComponent.ts","./Utils.ts"],(function(t){"use strict";var n,o,e,i,r,a,s,c,l,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label},function(t){c=t.PlayerData},function(t){l=t.EventId},function(t){u=t.BaseComponent},function(t){p=t.Utils}],execute:function(){var f,y,h,v,d;r._RF.push({},"f9addXGTARMG5fFN17Bnt/f","TopCoin",void 0);var C=a.ccclass,b=a.property;t("TopCoin",(f=C("TopCoin"),y=b(s),f((d=n((v=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(n,"lb",d,i(n)),n}return o(n,t),n.prototype.onLoad=function(){var t=this;this.lb.string=p.convertCount(c.inst.coin),this.on(l.PalyerData.onCoinChange,(function(){return t.lb.string=p.convertCount(c.inst.coin)}))},n}(u)).prototype,"lb",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/TopLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerData.ts","./EventId.ts","./BaseComponent.ts"],(function(e){"use strict";var t,n,r,i,o,l,a,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Label},function(e){s=e.PlayerData},function(e){c=e.EventId},function(e){u=e.BaseComponent}],execute:function(){var p,v,f,h,y;o._RF.push({},"b2c5bpzDDhL9K61pRFARvu8","TopLevel",void 0);var b=l.ccclass,g=l.property;e("TopLevel",(p=b("TopLevel"),v=g(a),p((y=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"lb",y,i(t)),t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.lb.string=s.inst.level.toString(),this.on(c.PalyerData.onLevelChange,(function(){return e.lb.string=s.inst.level.toString()}))},t}(u)).prototype,"lb",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/TouchListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventId.ts","./BaseComponent.ts","./EventCenter.ts"],(function(e){"use strict";var t,n,o,c,i,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,c=e.Node},function(e){i=e.EventId},function(e){s=e.BaseComponent},function(e){u=e.EventCenter}],execute:function(){var r;n._RF.push({},"5e430i0DWJLt5vZ66XRfTVO","TouchListener",void 0);var h=o.ccclass;o.property,e("TouchListener",h("TouchListener")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onLoad=function(){this.node.on(c.EventType.TOUCH_START,this._recvTouchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this._recvTouchMove,this),this.node.on(c.EventType.TOUCH_END,this._recvTouchEnd,this)},o._recvTouchStart=function(e){u.inst.emit(i.MainScene.mouseTouchStart,e)},o._recvTouchMove=function(e){u.inst.emit(i.MainScene.mouseTouchMove,e)},o._recvTouchEnd=function(e){u.inst.emit(i.MainScene.mouseTouchEnd,e)},n}(s))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/TurnTableUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DailyTaskData.ts","./PlayerData.ts","./AssetDefine.ts","./AudioDeine.ts","./EventId.ts","./PathDefine.ts","./EventCenter.ts","./ADHelper.ts","./AssetHelper.ts","./ConfigHelper.ts","./Utils.ts","./BaseUI.ts","./RewardUI.ts"],(function(t){"use strict";var n,e,r,i,s,a,o,l,u,c,d,p,h,f,_,b,T,g,w,v,A,y,C,R;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){o=t.cclegacy,l=t._decorator,u=t.Animation,c=t.Node},function(t){d=t.DailyTaskData},function(t){p=t.PlayerData},function(t){h=t.AssetDefine},function(t){f=t.AudioDefine},function(t){_=t.EventId},function(t){b=t.PathDefine},function(t){T=t.EventCenter},function(t){g=t.ADHelper},function(t){w=t.AssetHelper},function(t){v=t.ConfigHelper,A=t.ConfigKey},function(t){y=t.Utils},function(t){C=t.BaseUI},function(t){R=t.RewardUI}],execute:function(){var m,S,P,U,D,E,k,I,L,Y,x,H;o._RF.push({},"1bc4d/k4yNPHKhekVf5h/eC","TurnTableUI",void 0);var N=l.ccclass,z=l.property,B={0:3,1:6,2:4,3:5,4:1,5:0,6:2,7:7},M=[100,2500],O=[1e3,2500];t("TurnTableUI",(m=N("TurnTableUI"),S=z(u),P=z(u),U=z(c),D=z(c),m(((H=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,r(n,"enterAni",I,i(n)),r(n,"btnAni",L,i(n)),r(n,"arrowNode",Y,i(n)),r(n,"itemParent",x,i(n)),n._isScroll=!1,n._hasdistributeReward=!1,n._scrollComplete=!1,n._rndReward=void 0,n._rndAngle=0,n._scrollSp=0,n._scrollSpUping=!0,n._adLooking=!1,n}e(n,t);var o=n.prototype;return o.onLoad=function(){var t=this;this.btnAni.node.on(c.EventType.TOUCH_START,(function(){return t.btnAni.stop()})),this.btnAni.node.on(c.EventType.TOUCH_CANCEL,(function(){return t.scheduleOnce((function(){return t.btnAni.play()}),1)}))},o.start=function(){!1!==this.param&&(y.refreshWidgets(this.node),this.enterAni.play(),this.btnAni.play())},o.update=function(t){this._scrolling(t)},o.onDestroy=function(){this._distributeReward()},o._startScroll=function(){this._scrollComplete||this._isScroll||(this._calcRandomAngle(),this._scrollSp=M[0],this._scrollSpUping=!0,this._isScroll=!0,T.inst.emit(_.Audio.playTx,f.TxType.TurnTable))},o._scrolling=function(t){var e=this;if(this._isScroll){if(!this._scrollSpUping&&y.equals(this._scrollSp,M[0],.1)){var r=this.arrowNode.angle%360;if(0===this._rndAngle?y.equalsByMin(r,0,15)||y.equalsByMin(r,360,15):y.equalsByMin(r,this._rndAngle,15))return this._isScroll=!1,this._scrollComplete=!0,this._distributeReward(),void this.scheduleOnce((function(){if(e._rndReward){var t={closeCb:function(){return n.show(!1)},rewardType:e._rndReward[0],num:e._rndReward[1],showAdd:e._rndReward[0]===h.TYPE.atkrateUpLv||e._rndReward[0]===h.TYPE.atkUpLv};R.show(t)}e.dispose()}),1)}var i=t*this._scrollSp;if(this.arrowNode.angle-=i,this._scrollSpUping){var s=M[1];if(this._scrollSp>=s)return void(this._scrollSpUping=!1);this._scrollSp+=O[0]*t,this._scrollSp=Math.min(s,this._scrollSp)}else{var a=M[0];if(this._scrollSp===a)return;this._scrollSp-=O[1]*t,this._scrollSp=Math.max(a,this._scrollSp)}}},o._calcRandomAngle=function(){var t,n,e,r=null!=(t=v.getConfig(A.TurnTableWeight))?t:[],i=r.map((function(t,n){switch(n){case 0:return[h.TYPE.Coin,300];case 1:return[h.TYPE.Coin,800];case 2:return[h.TYPE.Coin,5e3];case 3:return[h.TYPE.initAge,100];case 4:return[h.TYPE.initOwnNum,1];case 5:return[h.TYPE.initOwnNum,4];case 6:return[h.TYPE.atkrateUpLv,2];case 7:return[h.TYPE.atkUpLv,2];default:return}})),s=-1;-1===(s=p.inst.turnTableCoinCnt?y.getRandomIndex(r.map((function(t,n){var e=i[n];return e&&e[0]!==h.TYPE.Coin?0:t}))):y.getRandomIndex(r))&&(s=0),this._rndAngle=-45*(null!=(n=B[s])?n:0),this._rndReward=i[s],(null==(e=this._rndReward)?void 0:e[0])!==h.TYPE.Coin?p.inst.turnTableCoinCnt=2:p.inst.turnTableCoinCnt--},o._distributeReward=function(){this._hasdistributeReward||(this._hasdistributeReward=!0,this._rndReward&&w.addReward(this._rndReward[0],this._rndReward[1]),d.inst.turntableCnt++)},o.onClickAd=function(){var t=s(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._adLooking||this._isScroll||this._scrollComplete)){t.next=2;break}return t.abrupt("return");case 2:return this._adLooking=!0,t.next=5,g.openAD();case 5:if(n=t.sent,this._adLooking=!1,n){t.next=9;break}return t.abrupt("return");case 9:this._startScroll();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n}(C)).prefabPath=b.TurnTableUI,I=n((k=H).prototype,"enterAni",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(k.prototype,"btnAni",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(k.prototype,"arrowNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(k.prototype,"itemParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=k))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/UICoordinateTrackerFixed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(e){"use strict";var t,r,i,a,n,o,s,c,l,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.Node,c=e.Camera,l=e.Vec3,u=e.isValid},function(e){h=e.BaseComponent}],execute:function(){var p,f,d,_,m,g,b,v;n._RF.push({},"c3269nYclNCFp7ShubKNgsj","UICoordinateTrackerFixed",void 0);var y=o.ccclass,w=o.property;e("UICoordinateTrackerFixed",(p=y("UICoordinateTrackerFixed"),f=w(s),d=w(c),p((g=t((m=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"target",g,a(t)),i(t,"camera",b,a(t)),i(t,"distance",v,a(t)),t._wPos=new l,t._pos=new l,t}r(t,e);var n=t.prototype;return n.lateUpdate=function(){this._freshUI()},n.freshUI=function(){this._freshUI()},n._freshUI=function(){if(u(this.target)&&u(this.camera)){var e=this.target.getWorldPosition(this._wPos);if(this.camera._camera){var t=this.camera;t.convertToUINode(e,this.node.parent,this._pos),this.node.setPosition(this._pos),l.transformMat4(this._pos,this._wPos,t._camera.matView);var r=this.distance/Math.abs(this._pos.z),i=Math.floor(100*r)/100;this.node.setScale(i,i,1)}}},t}(h)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(m.prototype,"camera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(m.prototype,"distance",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=m))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/UICoordinateTrackerSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoordinateTrackerFixed.ts","./UICoordinateTrackerFixed.ts","./EventId.ts","./BaseComponent.ts","./Log.ts","./Utils.ts"],(function(e){"use strict";var r,t,a,o,i,n,s,c,d,l,h,f,u,C,g,p,k;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,o=e.isValid,i=e.Label,n=e.LabelOutline,s=e.instantiate,c=e.ProgressBar,d=e.tween,l=e.UITransform,h=e.NodePool},function(e){f=e.CoordinateTrackerFixedType},function(e){u=e.UICoordinateTrackerFixed},function(e){C=e.EventId},function(e){g=e.BaseComponent},function(e){p=e.LOG},function(e){k=e.Utils}],execute:function(){var _;t._RF.push({},"8626d2yalFLpKNSI9YURMZg","UICoordinateTrackerSys",void 0);var T=a.ccclass;a.property,e("UICoordinateTrackerSys",T("UICoordinateTrackerSys")(_=function(e){function t(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(r=e.call.apply(e,[this].concat(a))||this)._defaultCamera=void 0,r._trackerMap=new Map,r._uiTrackerPool=new h,r}r(t,e);var a=t.prototype;return a.onLoad=function(){this.on(C.UICoordinateTrackerSys.setCamera,this._recvSetCamera),this.on(C.UICoordinateTrackerSys.show,this._recvShow),this.on(C.UICoordinateTrackerSys.lbChange,this._recvLbChange),this.on(C.UICoordinateTrackerSys.progessBarChange,this._recvProgessBarChange),this.on(C.UICoordinateTrackerSys.disChange,this._recvDisChange),this.on(C.UICoordinateTrackerSys.hide,this._recvHide)},a._recvSetCamera=function(e){e&&o(e)&&(this._defaultCamera=e)},a._recvShow=function(e){if(e&&o(e)&&this._defaultCamera){var r=this._getUITracker(),t=r.getComponent(u);t&&o(t)?(t.camera=this._defaultCamera,t.target=e.node,t.distance=e.distance,e.trackerType===f.Label?this._setUITrackerLb(t,e.label):e.trackerType===f.ProgessBar&&this._setUITrackerProgessBar(t,e.progessBar),r.setParent(this.node,!1),t.freshUI(),this._trackerMap.set(e,t)):p.E("[UICoordinateTrackerSys] get UICoordinateTrackerFixed fail")}},a._recvLbChange=function(e){if(e&&o(e)&&this._defaultCamera&&e.trackerType===f.Label){var r=this._trackerMap.get(e);r&&o(r)?this._setUITrackerLb(r,e.label):p.W("[UICoordinateTrackerSys] UICoordinateTrackerFixed map fail")}},a._recvProgessBarChange=function(e){if(e&&o(e)&&this._defaultCamera&&e.trackerType===f.ProgessBar){var r=this._trackerMap.get(e);r&&o(r)?this._setUITrackerProgessBar(r,e.progessBar):p.W("[UICoordinateTrackerSys] UICoordinateTrackerFixed map fail")}},a._recvDisChange=function(e){if(e&&o(e)&&this._defaultCamera){var r=this._trackerMap.get(e);r&&o(r)?r.distance=e.distance:p.W("[UICoordinateTrackerSys] UICoordinateTrackerFixed map fail")}},a._recvHide=function(e){if(e&&o(e)&&this._defaultCamera){var r=this._trackerMap.get(e);r&&o(r)?(this._trackerMap.delete(e),this._putUITracker(r.node)):p.W("[UICoordinateTrackerSys] UICoordinateTrackerFixed map fail")}},a._setUITrackerLb=function(e,r){var t=e.node.getChildByName("label");t&&o(t)||((t=k.genUINode("label")).setParent(e.node,!1),t.addComponent(i)),t.active=!0;var a=t.getComponent(i);if(a&&o(a)){a.string=r.string,a.color=r.color,a.fontSize=r.fontSize,a.lineHeight=r.lineHeight,a.isBold=r.isBold,a.isItalic=r.isItalic,a.isUnderline=r.isUnderline,a.useSystemFont=r.useSystemFont,a.font=r.font;var s=t.getComponent(n);if(r.outLine)null!=s||(s=t.addComponent(n)),s.enabled=!0,s.color=r.outLineClr,s.width=r.outLineWid;else s&&(s.enabled=!1)}},a._setUITrackerProgessBar=function(e,r){var t=e.node.getChildByName("progess");if(!t||!o(t)){if(!r.pfb||!o(r.pfb))return;(t=s(r.pfb)).name="progess",t.setParent(e.node,!1)}t.active=!0;var a=t.getComponent(c);a&&o(a)&&d(a).to(.5,{progress:r.progess}).start()},a._getUITracker=function(){var e=this._uiTrackerPool.get();if(!e){var r=(e=k.genUINode("tracker")).getComponent(l);r.width=r.height=0,e.addComponent(u)}return e},a._putUITracker=function(e){e.children.forEach((function(e){return e.active=!1})),this._uiTrackerPool.put(e)},t}(g))||_);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventId.ts","./EventCenter.ts","./LoadUser.ts","./Log.ts","./Singleton.ts","./BaseUI.ts"],(function(t){"use strict";var e,n,r,i,a,o,s,c,u,d,f,l,p,h;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t.isValid,o=t.instantiate,s=t.Prefab},function(t){c=t.EventId},function(t){u=t.EventCenter},function(t){d=t.UNLOAD_USER,f=t.LOAD_TO_USER},function(t){l=t.LOG},function(t){p=t.Singleton},function(t){h=t.BaseUI}],execute:function(){i._RF.push({},"35f1fO32YFJd594bg/XcjDR","UIMgr",void 0);var g=function(){this.loadInterrupt=!1,this.resInfos=[],this.loading=!1,this.path=void 0,this.node=void 0};t("UIMgr",function(t){function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._itemStackMap=new Map,e}e(i,t);var p=i.prototype;return p._getItem=function(t,e){var n=this._itemStackMap.get(t);if(n||(n=[],this._itemStackMap.set(t,n)),e&&n.length)return n[n.length-1];var r=new g;return r.path=t,n.push(r),r},p.add=function(){var t=n(r().mark((function t(e,n,i){var d,p,g,v;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=!1),!(d=this._getItem(e,i)).loading&&!a(d.node)){t.next=4;break}return t.abrupt("return");case 4:return d.loading=!0,t.next=7,f(d,e,s);case 7:if(p=t.sent,d.loading=!1,p&&a(p)){t.next=12;break}return l.E("[UIMgr] "+e+" load fail"),t.abrupt("return");case 12:g=o(p),d.node=g,(v=g.getComponent(h))&&a(v)&&(v.param=n),u.inst.emit(c.MainScene.addNodeToCanvas,g);case 17:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),p.pop=function(t){var e=this._itemStackMap.get(t);if(null!=e&&e.length){var n=e.pop();n.node&&a(n.node)&&n.node.destroy(),d(n),e.length||this._itemStackMap.delete(t)}},p.remove=function(t,e){var n=this._itemStackMap.get(t);if(null!=n&&n.length){var r=n.findIndex((function(t){return t.node===e}));if(-1!==r){var i=n[r];n.splice(r,1),i.node&&a(i.node)&&i.node.destroy(),d(i),n.length||this._itemStackMap.delete(t)}}},i}(p()));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkeAniMapComp.ts","./LoadUser.ts","./CheckValue.ts","./LevelHelper.ts","./Log.ts"],(function(n){"use strict";var e,t,r,o,a,i,u,c,s,l,f,d,p,m,v,h,g;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){r=n.cclegacy,o=n.Node,a=n.Layers,i=n.UITransform,u=n.Widget,c=n.SkeletalAnimation,s=n.isValid,l=n.EPSILON,f=n.SpriteFrame},function(n){d=n.SkeAniMapComp},function(n){p=n.IS_USER_INTERRUPT,m=n.LOAD_TO_USER},function(n){v=n.IS_STR_NOT_EMPTY},function(n){h=n.LevelHelper},function(n){g=n.LOG}],execute:function(){r._RF.push({},"c8f808dojFKSq1+r5+yocJO","Utils",void 0);n("Utils",function(){function n(){}return n.waitMoment=function(n){return new Promise((function(e){return setTimeout(e,n)}))},n.genUINode=function(n){var e=new o(n);return e.layer=a.Enum.UI_2D,e.addComponent(i),e},n.genFullScreenUINode=function(n){var e=new o(n);e.layer=a.Enum.UI_2D,e.addComponent(i);var t=e.addComponent(u);return t.isAlignTop=t.isAlignBottom=t.isAlignRight=t.isAlignLeft=!0,t.top=t.bottom=t.right=t.left=0,e},n.playNodeSkeAni=function(n,e,t,r,o,a){void 0===o&&(o=1);var i=h.getAniName(e,t,r),u=n.getComponentsInChildren(c);u.length?v(i)?(a&&u[0].once(c.EventType.FINISHED,(function(){return a()})),u.forEach((function(n){var e=i,t=n.node.getComponent(d);if(t&&s(t)){var r=t.items.find((function(n){return n.aniName===i}));r&&(e=r.realAniName)}var a=n.getState(e);a&&s(a)&&(a.speed=o),n.play(e)}))):(g.E("player node ske ani fail, styleId:"+e+", pfbName:"+t+", aniKey:"+r+" get name is null"),u.forEach((function(n){return n.stop()})),a&&a()):a&&a()},n.stopNodeSkeAni=function(n){var e=n.getComponentsInChildren(c);e.length&&e.forEach((function(n){return n.stop()}))},n.equals=function(n,e,t){return void 0===t&&(t=l),Math.abs(n-e)<=t*Math.max(1,Math.abs(n),Math.abs(e))},n.equalsByMin=function(n,e,t){return void 0===t&&(t=0),Math.abs(n-e)<=t},n.recoverUseNode=function(n,e,t,r){for(var o=n.children.length,a=o-e;a>0;){var i=o-a;n.children[i].active=!1,a--}for(var u=0;u<e;u++){var c,s=null!=(c=n.children[u])?c:null==r?void 0:r.call(void 0,u);s&&(s.active=!0,null==t||t.call(void 0,s,u))}},n.refreshWidgets=function(e){var t=e.getComponent(u);t&&t.updateAlignment();for(var r=e.children,o=0;o<r.length;o++){var a=r[o];n.refreshWidgets(a)}},n.getRandomIndex=function(n){for(var e=n.reduce((function(n,e){return n+e}),0),t=Math.random()*e,r=0,o=0;o<n.length;o++)if(t<(r+=n[o]))return o;return-1},n.spriteUrl=function(){var n=e(t().mark((function n(e,r,o){var a;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!p(e)){n.next=2;break}return n.abrupt("return");case 2:if(r.__curUrlPath__=o,""!=o){n.next=6;break}return r.spriteFrame=null,n.abrupt("return");case 6:return n.next=8,m(e,o,f);case 8:if(a=n.sent,!p(e)&&s(r)&&a){n.next=11;break}return n.abrupt("return");case 11:if(r.__curUrlPath__===o){n.next=14;break}return n.abrupt("return");case 14:r.spriteFrame=a;case 15:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),n.convertCount=function(e,t){return void 0===t&&(t=1),e>=Math.pow(10,9)?n.numToFixedByStr(e,9,t)+"b":e>=Math.pow(10,6)?n.numToFixedByStr(e,6,t)+"m":e>=Math.pow(10,4)?n.numToFixedByStr(e,3,t)+"k":e.toString()},n.numToFixedByStr=function(n,e,t){var r=n/Math.pow(10,e),o=r.toString(),a=o.lastIndexOf(".");return-1===a?r:Number.parseFloat(o.substring(0,a+t+1))},n.strFormat=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=0,a=n.replace(/{(\w+)#*(\w*)}/g,(function(n,e,r){return t[o++]}));return a},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponColComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(n){"use strict";var o,e,r,t,i,a;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,r=n._decorator,t=n.Collider,i=n.isValid},function(n){a=n.BaseComponent}],execute:function(){var p;e._RF.push({},"49ab0Cv8C9IaLRyFyZ6MMm9","WeaponColComp",void 0);var s=r.ccclass;r.property,n("WeaponColComp",s("WeaponColComp")(p=function(n){function e(){for(var o,e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return(o=n.call.apply(n,[this].concat(r))||this).onWeaponTriggerEnter=void 0,o}o(e,n);var r=e.prototype;return r.onLoad=function(){var n=this.node.getComponent(t);n&&i(n)&&n.on("onTriggerEnter",this._onTriggerEnter,this)},r._onTriggerEnter=function(n){"onTriggerEnter"===n.type&&this.onWeaponTriggerEnter&&this.onWeaponTriggerEnter(n)},e}(a))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioDeine.ts","./EventId.ts","./BaseComponent.ts","./EventCenter.ts","./WeaponColComp.ts"],(function(e){"use strict";var i,t,o,n,r,s,l,a,u,h,p,c,f,m,_,v,d,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,o=e.inheritsLoose,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.SkeletalAnimation,a=e.Node,u=e.CCBoolean,h=e.Enum,p=e.v3,c=e.Vec3,f=e.isValid},function(e){m=e.AudioDefine},function(e){_=e.EventId},function(e){v=e.BaseComponent},function(e){d=e.EventCenter},function(e){g=e.WeaponColComp}],execute:function(){var y,b,w,P,T,W,C,D,z,M,x,E,S,V,A,N,R,k,B,I,F,L,G,H;r._RF.push({},"ab159m+GAxGAoHyUYJWtkXu","WeaponComp",void 0);var U=s.ccclass,j=s.property,J=(y=U("WeaponItem"),b=j(l),w=j(a),y((W=i((T=function(){t(this,"ani",W,this),t(this,"fire",C,this)}).prototype,"ani",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(T.prototype,"fire",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T))||P);e("WeaponComp",(D=U("WeaponComp"),z=j(l),M=j(g),x=j(a),E=j(u),S=j({type:h(m.TxType),visible:function(){return this.isMoveTx}}),V=j(u),A=j({type:[J],visible:function(){return this.isMul}}),D((k=i((R=function(e){function i(){for(var i,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,t(i,"ani",k,n(i)),t(i,"col",B,n(i)),t(i,"fire",I,n(i)),t(i,"isMoveTx",F,n(i)),t(i,"moveTxType",L,n(i)),t(i,"isMul",G,n(i)),t(i,"items",H,n(i)),i._followNode=void 0,i._followWPos=p(),i._isMoving=!1,i._mvoeSp=0,i._moveDis=0,i._moveCurDis=0,i._targetPos=void 0,i._tmpV3=p(),i._wPos=p(),i.onTriggerPlayerEnter=void 0,i}o(i,e);var r=i.prototype;return r.onLoad=function(){this.col&&(this.col.onWeaponTriggerEnter=this._onWeaponTriggerEnter.bind(this))},r.update=function(e){this._follow(),this._move(e)},r.onDisable=function(){this._isMoving=!1,this._mvoeSp=0,this._moveDis=0,this._moveCurDis=0,this._targetPos=void 0,this._followNode=void 0,this.onTriggerPlayerEnter=void 0,this.unschedule(this._laserDelayRecover)},r.setFollowNode=function(e){this._followNode=e,this._follow()},r.moveTo=function(e,i,t){this._mvoeSp=e,this._moveDis=i,this._moveCurDis=0,this._targetPos=t,this._isMoving=!0,this.isMoveTx&&d.inst.emit(_.Audio.playTx,this.moveTxType)},r.laser=function(e,i,t){t&&(this.node.getWorldPosition(this._tmpV3),c.subtract(this._tmpV3,t,this._tmpV3).normalize(),this.node.lookAt(this._tmpV3.negative().multiplyScalar(1e4),c.UP));var o=this.node.getScale();o.z=1*i,this.node.setScale(o);var n=Math.max(i/e,0);this.scheduleOnce(this._laserDelayRecover,n)},r._laserDelayRecover=function(){d.inst.emit(_.PlayerSys.recoverWeapon,this.node)},r._onWeaponTriggerEnter=function(e){this.onTriggerPlayerEnter&&this.onTriggerPlayerEnter(e)},r._follow=function(){this._followNode&&f(this._followNode)&&(this._followNode.getWorldPosition(this._followWPos),this.node.setWorldPosition(this._followWPos))},r._move=function(e){if(this._isMoving){if(this._moveCurDis>=this._moveDis)return d.inst.emit(_.PlayerSys.recoverWeapon,this.node),void(this._isMoving=!1);this.node.getWorldPosition(this._wPos),this._targetPos?c.subtract(this._tmpV3,this._targetPos,this._wPos).normalize():c.negate(this._tmpV3,this.node.forward);var i=this._mvoeSp*e;this._moveCurDis+=i,this._wPos.add(this._tmpV3.multiplyScalar(i)),this.node.setWorldPosition(this._wPos)}},i}(v)).prototype,"ani",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(R.prototype,"col",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(R.prototype,"fire",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(R.prototype,"isMoveTx",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=i(R.prototype,"moveTxType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.TxType.Weapon4}}),G=i(R.prototype,"isMul",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=i(R.prototype,"items",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=R))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponHelper.ts",["cc","./LevelDefine.ts","./LoadMgr.ts","./CheckValue.ts","./Log.ts","./RefDataMgr.ts","./StyleHelper.ts"],(function(e){"use strict";var t,n,r,a,f,l,u,i,o;return{setters:[function(e){t=e.cclegacy,n=e.Prefab},function(e){r=e.WeaponType},function(e){a=e.LoadMgr},function(e){f=e.IS_STR_NOT_EMPTY},function(e){l=e.LOG},function(e){u=e.RefDataMgr,i=e.Ref},function(e){o=e.StyleHelper}],execute:function(){t._RF.push({},"81728qEfS5JM6zIbRKN1HuE","WeaponHelper",void 0);e("WeaponHelper",function(){function e(){}return e.resParse=function(t){var r=[];return t.forEach((function(t){var a=o.getResHeadById(t.style);f(t.name)&&r.push({path:a+t.name,type:n});var l=e.getBulletInfo(t);l&&r.push(l);var u=e.getBulletColTx(t);u&&r.push(u)})),r},e.getCfgBySkin=function(e){var t=u.inst.getData(i.weapon);if(null!=t&&t.length){var n=[];if(e.forEach((function(e){var r=t.filter((function(t){return t.id===e}));r.length?n.push.apply(n,r):l.E("[WeaponHelper] aniKey:"+e+", no find weapon cfg")})),n.length)return n[n.length-1];l.E("[WeaponHelper] skinAtkKeys:"+e.join(",")+", no find weapon cfg")}else l.E("[WeaponHelper] get cfgs fail")},e.getCfgByDecors=function(e){var t=u.inst.getData(i.weapon);if(null!=t&&t.length){var n=[];return e.forEach((function(e){var r=t.filter((function(t){return t.id===e}));r.length?n.push.apply(n,r):l.E("[WeaponHelper] aniKey:"+e+", no find weapon cfg")})),n}l.E("[WeaponHelper] get cfgs fail")},e.getInfoBySkin=function(t){var n=this.getCfgBySkin(t);if(n)return{cfg:n,path:e.getPathByCfg(n)}},e.getDecorInfosBySkin=function(t){var n=this.getCfgByDecors(t);if(n)return n.map((function(t){var r=e.getPathByCfg(t);return{cfg:n,path:r}}))},e.getPathByCfg=function(e){return o.getResHeadById(e.style)+e.name},e.getBulletInfo=function(e){if(e.type===r.Gun||e.type===r.Laser||e.type===r.OnlyLaser){var t=o.getResHeadById(e.style);if(t)return{path:t+e.bullet,type:n}}},e.getBulletColTx=function(e){if(f(e.bulletColTx)){var t=o.getResHeadById(e.style);if(t)return{path:t+e.bulletColTx,type:n}}},e.getBulletPfb=function(e){if(e.type===r.Gun||e.type===r.Laser||e.type===r.OnlyLaser){var t=o.getResHeadById(e.style);if(t)return a.inst.get(t+e.bullet,n)}},e.getBulletColTxPfb=function(e){if(f(e.bulletColTx)){var t=o.getResHeadById(e.style);if(t)return a.inst.get(t+e.bulletColTx,n)}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/YearDoorCellComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelData.ts","./AudioDeine.ts","./EventId.ts","./EventCenter.ts","./CheckValue.ts","./LevelHelper.ts","./CellBaseComp.ts","./CoordinateTrackerFixed.ts","./PlayerRolesComp.ts"],(function(e){"use strict";var t,i,o,r,n,a,l,s,c,p,u,h,d,f,C,m,y,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Collider,s=e.Animation,c=e.isValid},function(e){p=e.LevelData},function(e){u=e.AudioDefine},function(e){h=e.EventId},function(e){d=e.EventCenter},function(e){f=e.IS_NUM},function(e){C=e.LevelHelper},function(e){m=e.CellBaseComp},function(e){y=e.CoordinateTrackerFixed},function(e){g=e.PlayerRolesComp}],execute:function(){var v,D,T,_,b,I,E,L,P;n._RF.push({},"9a676R9ZExKyp1jDhFBILpL","YearDoorCellComp",void 0);var x=a.ccclass,k=a.property;e("YearDoorCellComp",(v=x("YearDoorCellComp"),D=k(l),T=k(y),_=k(s),v((E=t((I=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"collider",E,r(t)),o(t,"coordinateTracker",L,r(t)),o(t,"ani",P,r(t)),t._hasCol=!1,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.collider.on("onTriggerEnter",this._onTriggerEnter,this),this.on(h.GroundSys.onPlayerInDoor,this._onPlayerInDoor)},n.onEnable=function(){if(this._hasCol=!1,this.coordinateTracker.label.string=this.param[0]+"\n"+this.param[1]+this.param[2],1===this.param[3])this.ani.play();else{var e,t;this.ani.stop();var i=this.ani.getState(null!=(e=null==(t=this.ani.defaultClip)?void 0:t.name)?e:"");i&&(i.setTime(0),i.sample())}},n._onPlayerInDoor=function(e){f(e)&&e===this.plateIdx&&(this._hasCol=!0)},n._onTriggerEnter=function(e){if("onTriggerEnter"===e.type){var t=e.otherCollider.node.getComponent(g);t&&c(t)&&!this._hasCol&&(d.inst.emit(h.Audio.playTx,u.TxType.Door),d.inst.emit(h.GroundSys.onPlayerInDoor,this.plateIdx),p.inst.age=C.calcAgeDoorParam(p.inst.age,this.param),this.destroyCell())}},t}(m)).prototype,"collider",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(I.prototype,"coordinateTracker",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(I.prototype,"ani",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=I))||b));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});